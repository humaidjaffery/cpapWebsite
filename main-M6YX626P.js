var EA=Object.defineProperty,IA=Object.defineProperties;var wA=Object.getOwnPropertyDescriptors;var pE=Object.getOwnPropertySymbols;var DA=Object.prototype.hasOwnProperty,CA=Object.prototype.propertyIsEnumerable;var gE=(t,e,n)=>e in t?EA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})DA.call(e,n)&&gE(t,n,e[n]);if(pE)for(var n of pE(e))CA.call(e,n)&&gE(t,n,e[n]);return t},Z=(t,e)=>IA(t,wA(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(d){i(d)}},s=u=>{try{c(n.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});var Qh;function Xc(){return Qh}function nn(t){let e=Qh;return Qh=t,e}var mE=Symbol("NotFound");function $i(t){return t===mE||t?.name==="\u0275NotFound"}var et=null,eu=!1,Yh=1,TA=null,tt=Symbol("SIGNAL");function z(t){let e=et;return et=t,e}function iu(){return et}var Hi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zi(t){if(eu)throw new Error("");if(et===null)return;et.consumerOnSignalRead(t);let e=et.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=et.recomputing;if(r&&(n=e!==void 0?e.nextProducer:et.producers,n!==void 0&&n.producer===t)){et.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===et&&(!r||SA(i,et)))return;let o=Gi(et),s={producer:t,consumer:et,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};et.producersTail=s,e!==void 0?e.nextProducer=s:et.producers=s,o&&EE(t,s)}function yE(){Yh++}function ou(t){if(!(Gi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Yh)){if(!t.producerMustRecompute(t)&&!Us(t)){ru(t);return}t.producerRecomputeValue(t),ru(t)}}function Zh(t){if(t.consumers===void 0)return;let e=eu;eu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||bA(r)}}finally{eu=e}}function Jh(){return et?.consumerAllowSignalWrites!==!1}function bA(t){t.dirty=!0,Zh(t),t.consumerMarkedDirty?.(t)}function ru(t){t.dirty=!1,t.lastCleanEpoch=Yh}function qi(t){return t&&vE(t),z(t)}function vE(t){t.producersTail=void 0,t.recomputing=!0}function Vs(t,e){z(e),t&&_E(t)}function _E(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Gi(t))do n=Xh(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Us(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(ou(n),r!==n.version))return!0}return!1}function js(t){if(Gi(t)){let e=t.producers;for(;e!==void 0;)e=Xh(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function EE(t,e){let n=t.consumersTail,r=Gi(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)EE(i.producer,i)}function Xh(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Gi(e)){let o=e.producers;for(;o!==void 0;)o=Xh(o)}return n}function Gi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function su(t){TA?.(t)}function SA(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function au(t,e){return Object.is(t,e)}function cu(t,e){let n=Object.create(AA);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(ou(n),zi(n),n.value===Ls)throw n.error;return n.value};return r[tt]=n,su(n),r}var tu=Symbol("UNSET"),nu=Symbol("COMPUTING"),Ls=Symbol("ERRORED"),AA=Z(k({},Hi),{value:tu,dirty:!0,error:null,equal:au,kind:"computed",producerMustRecompute(t){return t.value===tu||t.value===nu},producerRecomputeValue(t){if(t.value===nu)throw new Error("");let e=t.value;t.value=nu;let n=qi(t),r,i=!1;try{r=t.computation(),z(null),i=e!==tu&&e!==Ls&&r!==Ls&&t.equal(e,r)}catch(o){r=Ls,t.error=o}finally{Vs(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function RA(){throw new Error}var IE=RA;function wE(t){IE(t)}function ef(t){IE=t}var NA=null;function tf(t,e){let n=Object.create(uu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>DE(n);return r[tt]=n,su(n),[r,s=>Wi(n,s),s=>nf(n,s)]}function DE(t){return zi(t),t.value}function Wi(t,e){Jh()||wE(t),t.equal(t.value,e)||(t.value=e,MA(t))}function nf(t,e){Jh()||wE(t),Wi(t,e(t.value))}var uu=Z(k({},Hi),{equal:au,value:void 0,kind:"signal"});function MA(t){t.version++,yE(),Zh(t),NA?.(t)}function q(t){return typeof t=="function"}function Ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var lu=Ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Pr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(q(r))try{r()}catch(o){e=o instanceof lu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{CE(o)}catch(s){e=e??[],s instanceof lu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new lu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)CE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Pr(n,e)}remove(e){let{_finalizers:n}=this;n&&Pr(n,e),e instanceof t&&e._removeParent(this)}};_e.EMPTY=(()=>{let t=new _e;return t.closed=!0,t})();var rf=_e.EMPTY;function du(t){return t instanceof _e||t&&"closed"in t&&q(t.remove)&&q(t.add)&&q(t.unsubscribe)}function CE(t){q(t)?t():t.unsubscribe()}var qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qi={setTimeout(t,e,...n){let{delegate:r}=Qi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hu(t){Qi.setTimeout(()=>{let{onUnhandledError:e}=qt;if(e)e(t);else throw t})}function Bs(){}var TE=of("C",void 0,void 0);function bE(t){return of("E",void 0,t)}function SE(t){return of("N",t,void 0)}function of(t,e,n){return{kind:t,value:e,error:n}}var Or=null;function Yi(t){if(qt.useDeprecatedSynchronousErrorHandling){let e=!Or;if(e&&(Or={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Or;if(Or=null,n)throw r}}else t()}function AE(t){qt.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=t)}var xr=class extends _e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,du(e)&&e.add(this)):this.destination=xA}static create(e,n,r){return new Zi(e,n,r)}next(e){this.isStopped?af(SE(e),this):this._next(e)}error(e){this.isStopped?af(bE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?af(TE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PA=Function.prototype.bind;function sf(t,e){return PA.call(t,e)}var cf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fu(r)}else fu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fu(n)}}},Zi=class extends xr{constructor(e,n,r){super();let i;if(q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&qt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sf(e.next,o),error:e.error&&sf(e.error,o),complete:e.complete&&sf(e.complete,o)}):i=e}this.destination=new cf(i)}};function fu(t){qt.useDeprecatedSynchronousErrorHandling?AE(t):hu(t)}function OA(t){throw t}function af(t,e){let{onStoppedNotification:n}=qt;n&&Qi.setTimeout(()=>n(t,e))}var xA={closed:!0,next:Bs,error:OA,complete:Bs};var Ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function uf(...t){return lf(t)}function lf(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=FA(n)?n:new Zi(n,r,i);return Yi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=RE(r),new r((i,o)=>{let s=new Zi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ji](){return this}pipe(...n){return lf(n)(this)}toPromise(n){return n=RE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function RE(t){var e;return(e=t??qt.Promise)!==null&&e!==void 0?e:Promise}function kA(t){return t&&q(t.next)&&q(t.error)&&q(t.complete)}function FA(t){return t&&t instanceof xr||kA(t)&&du(t)}function df(t){return q(t?.lift)}function ie(t){return e=>{if(df(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(t,e,n,r,i){return new hf(t,e,n,r,i)}var hf=class extends xr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xi(){return ie((t,e)=>{let n=null;t._refCount++;let r=te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var eo=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,df(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _e;let n=this.getSubject();e.add(this.source.subscribe(te(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_e.EMPTY)}return e}refCount(){return Xi()(this)}};var NE=Ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new NE}next(n){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?rf:(this.currentObservers=null,o.push(n),new _e(()=>{this.currentObservers=null,Pr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new pu(e,n),t})(),pu=class extends Oe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:rf}};var Ge=class extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ff={now(){return(ff.delegate||Date).now()},delegate:void 0};var gu=class extends _e{constructor(e,n){super()}schedule(e,n=0){return this}};var $s={setInterval(t,e,...n){let{delegate:r}=$s;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=$s;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var to=class extends gu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return $s.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&$s.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Pr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var no=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};no.now=ff.now;var ro=class extends no{constructor(e,n=no.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var pf=new ro(to);var mu=class extends to{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var yu=class extends ro{};var gf=new yu(mu);var gt=new Q(t=>t.complete());function ME(t){return t&&q(t.schedule)}function PE(t){return t[t.length-1]}function vu(t){return q(PE(t))?t.pop():void 0}function Jn(t){return ME(PE(t))?t.pop():void 0}function mf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{d(r.next(f))}catch(g){s(g)}}function u(f){try{d(r.throw(f))}catch(g){s(g)}}function d(f){f.done?o(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function OE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kr(t){return this instanceof kr?(this.v=t,this):new kr(t)}function kE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(A){return Promise.resolve(A).then(v,g)}}function c(v,A){r[v]&&(i[v]=function(O){return new Promise(function(P,F){o.push([v,O,P,F])>1||u(v,O)})},A&&(i[v]=A(i[v])))}function u(v,A){try{d(r[v](A))}catch(O){m(o[0][3],O)}}function d(v){v.value instanceof kr?Promise.resolve(v.value.v).then(f,g):m(o[0][2],v)}function f(v){u("next",v)}function g(v){u("throw",v)}function m(v,A){v(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function FE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof OE=="function"?OE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},s)}}var _u=t=>t&&typeof t.length=="number"&&typeof t!="function";function Eu(t){return q(t?.then)}function Iu(t){return q(t[Ji])}function wu(t){return Symbol.asyncIterator&&q(t?.[Symbol.asyncIterator])}function Du(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cu=LA();function Tu(t){return q(t?.[Cu])}function bu(t){return kE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield kr(n.read());if(i)return yield kr(void 0);yield yield kr(r)}}finally{n.releaseLock()}})}function Su(t){return q(t?.getReader)}function Ae(t){if(t instanceof Q)return t;if(t!=null){if(Iu(t))return VA(t);if(_u(t))return UA(t);if(Eu(t))return jA(t);if(wu(t))return LE(t);if(Tu(t))return BA(t);if(Su(t))return $A(t)}throw Du(t)}function VA(t){return new Q(e=>{let n=t[Ji]();if(q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UA(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function jA(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hu)})}function BA(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function LE(t){return new Q(e=>{HA(t,e).catch(n=>e.error(n))})}function $A(t){return LE(bu(t))}function HA(t,e){var n,r,i,o;return xE(this,void 0,void 0,function*(){try{for(n=FE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function mt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Xn(t,e=0){return ie((n,r)=>{n.subscribe(te(r,i=>mt(r,t,()=>r.next(i),e),()=>mt(r,t,()=>r.complete(),e),i=>mt(r,t,()=>r.error(i),e)))})}function er(t,e=0){return ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function VE(t,e){return Ae(t).pipe(er(e),Xn(e))}function UE(t,e){return Ae(t).pipe(er(e),Xn(e))}function jE(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function BE(t,e){return new Q(n=>{let r;return mt(n,e,()=>{r=t[Cu](),mt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>q(r?.return)&&r.return()})}function Au(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{mt(n,e,()=>{let r=t[Symbol.asyncIterator]();mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $E(t,e){return Au(bu(t),e)}function HE(t,e){if(t!=null){if(Iu(t))return VE(t,e);if(_u(t))return jE(t,e);if(Eu(t))return UE(t,e);if(wu(t))return Au(t,e);if(Tu(t))return BE(t,e);if(Su(t))return $E(t,e)}throw Du(t)}function Ee(t,e){return e?HE(t,e):Ae(t)}function $(...t){let e=Jn(t);return Ee(t,e)}function io(t,e){let n=q(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function yf(t){return!!t&&(t instanceof Q||q(t.lift)&&q(t.subscribe))}var Dn=Ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return ie((n,r)=>{let i=0;n.subscribe(te(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:zA}=Array;function qA(t,e){return zA(e)?t(...e):t(e)}function Ru(t){return ne(e=>qA(t,e))}var{isArray:GA}=Array,{getPrototypeOf:WA,prototype:KA,keys:QA}=Object;function Nu(t){if(t.length===1){let e=t[0];if(GA(e))return{args:e,keys:null};if(YA(e)){let n=QA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function YA(t){return t&&typeof t=="object"&&WA(t)===KA}function Mu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Pu(...t){let e=Jn(t),n=vu(t),{args:r,keys:i}=Nu(t);if(r.length===0)return Ee([],e);let o=new Q(ZA(r,e,i?s=>Mu(i,s):Et));return n?o.pipe(Ru(n)):o}function ZA(t,e,n=Et){return r=>{zE(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)zE(e,()=>{let d=Ee(t[u],e),f=!1;d.subscribe(te(r,g=>{o[u]=g,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function zE(t,e,n){t?mt(n,t,e):e()}function qE(t,e,n,r,i,o,s,c){let u=[],d=0,f=0,g=!1,m=()=>{g&&!u.length&&!d&&e.complete()},v=O=>d<r?A(O):u.push(O),A=O=>{o&&e.next(O),d++;let P=!1;Ae(n(O,f++)).subscribe(te(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{P=!0},void 0,()=>{if(P)try{for(d--;u.length&&d<r;){let F=u.shift();s?mt(e,s,()=>A(F)):A(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(te(e,v,()=>{g=!0,m()})),()=>{c?.()}}function xe(t,e,n=1/0){return q(e)?xe((r,i)=>ne((o,s)=>e(r,o,i,s))(Ae(t(r,i))),n):(typeof e=="number"&&(n=e),ie((r,i)=>qE(r,i,t,n)))}function GE(t=1/0){return xe(Et,t)}function WE(){return GE(1)}function oo(...t){return WE()(Ee(t,Jn(t)))}function Hs(t){return new Q(e=>{Ae(t()).subscribe(e)})}function vf(...t){let e=vu(t),{args:n,keys:r}=Nu(t),i=new Q(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,d=s;for(let f=0;f<s;f++){let g=!1;Ae(n[f]).subscribe(te(o,m=>{g||(g=!0,d--),c[f]=m},()=>u--,void 0,()=>{(!u||!g)&&(d||o.next(r?Mu(r,c):c),o.complete())}))}});return e?i.pipe(Ru(e)):i}function Ot(t,e){return ie((n,r)=>{let i=0;n.subscribe(te(r,o=>t.call(e,o,i++)&&r.next(o)))})}function tr(t){return ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(te(n,void 0,void 0,s=>{o=Ae(t(s,tr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function KE(t,e,n,r,i){return(o,s)=>{let c=n,u=e,d=0;o.subscribe(te(s,f=>{let g=d++;u=c?t(u,f,g):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function so(t,e){return q(e)?xe(t,e,1):xe(t,1)}function nr(t){return ie((e,n)=>{let r=!1;e.subscribe(te(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Cn(t){return t<=0?()=>gt:ie((e,n)=>{let r=0;e.subscribe(te(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ou(t=JA){return ie((e,n)=>{let r=!1;e.subscribe(te(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function JA(){return new Dn}function zs(t){return ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Tn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ot((i,o)=>t(i,o,r)):Et,Cn(1),n?nr(e):Ou(()=>new Dn))}function ao(t){return t<=0?()=>gt:ie((e,n)=>{let r=[];e.subscribe(te(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _f(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ot((i,o)=>t(i,o,r)):Et,ao(1),n?nr(e):Ou(()=>new Dn))}function Ef(t,e){return ie(KE(t,e,arguments.length>=2,!0))}function If(...t){let e=Jn(t);return ie((n,r)=>{(e?oo(t,n,e):oo(t,n)).subscribe(r)})}function yt(t,e){return ie((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(te(r,u=>{i?.unsubscribe();let d=0,f=o++;Ae(t(u,f)).subscribe(i=te(r,g=>r.next(e?e(u,g,f,d++):g),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function xu(t){return ie((e,n)=>{Ae(t).subscribe(te(n,()=>n.complete(),Bs)),!n.closed&&e.subscribe(n)})}function je(t,e,n){let r=q(t)||e||n?{next:t,error:e,complete:n}:t;return r?ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(te(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Et}function QE(t){let e=z(null);try{return t()}finally{z(e)}}var Lr=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xf=new Lr("20.3.6");var kf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super(Ff(e,n)),this.code=e}};function XA(t){return`NG0${Math.abs(t)}`}function Ff(t,e){return`${XA(t)}${e?": "+e:""}`}function de(t){for(let e in t)if(t[e]===de)return e;throw Error("")}function JE(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Sn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Sn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Lf(t,e){return t?e?`${t} ${e}`:t:e||""}var eR=de({__forward_ref__:de});function $r(t){return t.__forward_ref__=$r,t.toString=function(){return Sn(this())},t}function We(t){return Vf(t)?t():t}function Vf(t){return typeof t=="function"&&t.hasOwnProperty(eR)&&t.__forward_ref__===$r}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function An(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ks(t){return tR(t,Vu)}function Uf(t){return Ks(t)!==null}function tR(t,e){return t.hasOwnProperty(e)&&t[e]||null}function nR(t){let e=t?.[Vu]??null;return e||null}function Df(t){return t&&t.hasOwnProperty(Fu)?t[Fu]:null}var Vu=de({\u0275prov:de}),Fu=de({\u0275inj:de}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jf(t){return t&&!!t.\u0275providers}var Bf=de({\u0275cmp:de}),$f=de({\u0275dir:de}),Hf=de({\u0275pipe:de}),zf=de({\u0275mod:de}),Gs=de({\u0275fac:de}),Hr=de({__NG_ELEMENT_ID__:de}),YE=de({__NG_ENV_ID__:de});function qf(t){return typeof t=="string"?t:t==null?"":String(t)}function XE(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():qf(t)}var eI=de({ngErrorCode:de}),rR=de({ngErrorMessage:de}),iR=de({ngTokenPath:de});function Gf(t,e){return tI("",-200,e)}function Uu(t,e){throw new j(-201,!1)}function tI(t,e,n){let r=new j(e,t);return r[eI]=e,r[rR]=t,n&&(r[iR]=n),r}function oR(t){return t[eI]}var Cf;function nI(){return Cf}function It(t){let e=Cf;return Cf=t,e}function Wf(t,e,n){let r=Ks(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Uu(t,"Injector")}var sR={},Fr=sR,Tf="__NG_DI_FLAG__",bf=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Vr(n)||0;try{return this.injector.get(e,r&8?null:Fr,r)}catch(i){if($i(i))return i;throw i}}};function aR(t,e=0){let n=Xc();if(n===void 0)throw new j(-203,!1);if(n===null)return Wf(t,void 0,e);{let r=cR(e),i=n.retrieve(t,r);if($i(i)){if(r.optional)return null;throw i}return i}}function K(t,e=0){return(nI()||aR)(We(t),e)}function N(t,e){return K(t,Vr(e))}function Vr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cR(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Sf(t){let e=[];for(let n=0;n<t.length;n++){let r=We(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=uR(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(K(i,o))}else e.push(K(r))}return e}function rI(t,e){return t[Tf]=e,t.prototype[Tf]=e,t}function uR(t){return t[Tf]}function Ur(t,e){let n=t.hasOwnProperty(Gs);return n?t[Gs]:null}function ju(t,e){t.forEach(n=>Array.isArray(n)?ju(n,e):e(n))}function Kf(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function iI(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function oI(t,e,n){let r=uo(t,e);return r>=0?t[r|1]=n:(r=~r,iI(t,r,e,n)),r}function Bu(t,e){let n=uo(t,e);if(n>=0)return t[n|1]}function uo(t,e){return lR(t,e,1)}function lR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var or={},wt=[],Rn=new V(""),Qf=new V("",-1),Yf=new V(""),Ws=class{get(e,n=Fr){if(n===Fr){let i=tI("",-201);throw i.name="\u0275NotFound",i}return n}};function Zf(t){return t[zf]||null}function sr(t){return t[Bf]||null}function Jf(t){return t[$f]||null}function sI(t){return t[Hf]||null}function Gt(t){return{\u0275providers:t}}function aI(t){return Gt([{provide:Rn,multi:!0,useValue:t}])}function cI(...t){return{\u0275providers:Xf(!0,t),\u0275fromNgModule:!0}}function Xf(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ju(e,s=>{let c=s;Lu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&uI(i,o),n}function uI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ep(i,o=>{e(o,r)})}}function Lu(t,e,n,r){if(t=We(t),!t)return!1;let i=null,o=Df(t),s=!o&&sr(t);if(!o&&!s){let u=t.ngModule;if(o=Df(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)Lu(d,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let d;try{ju(o.imports,f=>{Lu(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&uI(d,e)}if(!c){let d=Ur(i)||(()=>new i);e({provide:i,useFactory:d,deps:wt},i),e({provide:Yf,useValue:i,multi:!0},i),e({provide:Rn,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let d=t;ep(u,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function ep(t,e){for(let n of t)jf(n)&&(n=n.\u0275providers),Array.isArray(n)?ep(n,e):e(n)}var dR=de({provide:String,useValue:de});function lI(t){return t!==null&&typeof t=="object"&&dR in t}function hR(t){return!!(t&&t.useExisting)}function fR(t){return!!(t&&t.useFactory)}function jr(t){return typeof t=="function"}function dI(t){return!!t.useClass}var Ys=new V(""),ku={},ZE={},wf;function Zs(){return wf===void 0&&(wf=new Ws),wf}var ke=class{},Br=class extends ke{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Rf(e,s=>this.processProvider(s)),this.records.set(Qf,co(void 0,this)),i.has("environment")&&this.records.set(ke,co(void 0,this));let o=this.records.get(Ys);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Yf,wt,{self:!0}))}retrieve(e,n){let r=Vr(n)||0;try{return this.get(e,Fr,r)}catch(i){if($i(i))return i;throw i}}destroy(){qs(this),this._destroyed=!0;let e=z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(e)}}onDestroy(e){return qs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){qs(this);let n=nn(this),r=It(void 0),i;try{return e()}finally{nn(n),It(r)}}get(e,n=Fr,r){if(qs(this),e.hasOwnProperty(YE))return e[YE](this);let i=Vr(r),o,s=nn(this),c=It(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let f=vR(e)&&Ks(e);f&&this.injectableDefInScope(f)?d=co(Af(e),ku):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let u=i&2?Zs():this.parent;return n=i&8&&n===Fr?null:n,u.get(e,n)}catch(u){let d=oR(u);throw d===-200||d===-201?new j(d,null):u}finally{It(c),nn(s)}}resolveInjectorInitializers(){let e=z(null),n=nn(this),r=It(void 0),i;try{let o=this.get(Rn,wt,{self:!0});for(let s of o)s()}finally{nn(n),It(r),z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Sn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=We(e);let n=jr(e)?e:We(e&&e.provide),r=gR(e);if(!jr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=co(void 0,ku,!0),i.factory=()=>Sf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=z(null);try{if(n.value===ZE)throw Gf(Sn(e));return n.value===ku&&(n.value=ZE,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&yR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=We(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Af(t){let e=Ks(t),n=e!==null?e.factory:Ur(t);if(n!==null)return n;if(t instanceof V)throw new j(204,!1);if(t instanceof Function)return pR(t);throw new j(204,!1)}function pR(t){if(t.length>0)throw new j(204,!1);let n=nR(t);return n!==null?()=>n.factory(t):()=>new t}function gR(t){if(lI(t))return co(void 0,t.useValue);{let e=tp(t);return co(e,ku)}}function tp(t,e,n){let r;if(jr(t)){let i=We(t);return Ur(i)||Af(i)}else if(lI(t))r=()=>We(t.useValue);else if(fR(t))r=()=>t.useFactory(...Sf(t.deps||[]));else if(hR(t))r=(i,o)=>K(We(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=We(t&&(t.useClass||t.provide));if(mR(t))r=()=>new i(...Sf(t.deps));else return Ur(i)||Af(i)}return r}function qs(t){if(t.destroyed)throw new j(205,!1)}function co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mR(t){return!!t.deps}function yR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vR(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Rf(t,e){for(let n of t)Array.isArray(n)?Rf(n,e):n&&jf(n)?Rf(n.\u0275providers,e):e(n)}function Fe(t,e){let n;t instanceof Br?(qs(t),n=t):n=new bf(t);let r,i=nn(n),o=It(void 0);try{return e()}finally{nn(i),It(o)}}function hI(){return nI()!==void 0||Xc()!=null}var Wt=0,H=1,G=2,Ke=3,xt=4,kt=5,Js=6,lo=7,nt=8,ar=9,Nn=10,Ce=11,ho=12,np=13,zr=14,Ft=15,qr=16,Gr=17,Wr=18,Xs=19,rp=20,bn=21,$u=22,ea=23,Dt=24,Hu=25,ta=26,rt=27,fI=1;var cr=7,na=8,ra=9,ut=10;function on(t){return Array.isArray(t)&&typeof t[fI]=="object"}function Kt(t){return Array.isArray(t)&&t[fI]===!0}function ip(t){return(t.flags&4)!==0}function ur(t){return t.componentOffset>-1}function zu(t){return(t.flags&1)===1}function sn(t){return!!t.template}function fo(t){return(t[G]&512)!==0}function Kr(t){return(t[G]&256)===256}var pI="svg",gI="math";function Lt(t){for(;Array.isArray(t);)t=t[Wt];return t}function op(t,e){return Lt(e[t])}function an(t,e){return Lt(e[t.index])}function ia(t,e){return t.data[e]}function Vt(t,e){let n=e[t];return on(n)?n:n[Wt]}function qu(t){return(t[G]&128)===128}function mI(t){return Kt(t[Ke])}function lr(t,e){return e==null?null:t[e]}function sp(t){t[Gr]=0}function ap(t){t[G]&1024||(t[G]|=1024,qu(t)&&sa(t))}function yI(t,e){for(;t>0;)e=e[zr],t--;return e}function oa(t){return!!(t[G]&9216||t[Dt]?.dirty)}function Gu(t){t[Nn].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),oa(t)&&sa(t)}function sa(t){t[Nn].changeDetectionScheduler?.notify(0);let e=rr(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!qu(e)));)e=rr(e)}function cp(t,e){if(Kr(t))throw new j(911,!1);t[bn]===null&&(t[bn]=[]),t[bn].push(e)}function vI(t,e){if(t[bn]===null)return;let n=t[bn].indexOf(e);n!==-1&&t[bn].splice(n,1)}function rr(t){let e=t[Ke];return Kt(e)?e[Ke]:e}function _I(t){return t[lo]??=[]}function EI(t){return t.cleanup??=[]}var oe={lFrame:xI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Nf=!1;function II(){return oe.lFrame.elementDepthCount}function wI(){oe.lFrame.elementDepthCount++}function up(){oe.lFrame.elementDepthCount--}function DI(){return oe.bindingsEnabled}function CI(){return oe.skipHydrationRootTNode!==null}function lp(t){return oe.skipHydrationRootTNode===t}function dp(){oe.skipHydrationRootTNode=null}function ye(){return oe.lFrame.lView}function Ct(){return oe.lFrame.tView}function vt(){let t=hp();for(;t!==null&&t.type===64;)t=t.parent;return t}function hp(){return oe.lFrame.currentTNode}function TI(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function po(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function fp(){return oe.lFrame.isParent}function bI(){oe.lFrame.isParent=!1}function pp(){return Nf}function gp(t){let e=Nf;return Nf=t,e}function SI(t){return oe.lFrame.bindingIndex=t}function aa(){return oe.lFrame.bindingIndex++}function AI(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RI(){return oe.lFrame.inI18n}function NI(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wu(e)}function MI(){return oe.lFrame.currentDirectiveIndex}function Wu(t){oe.lFrame.currentDirectiveIndex=t}function PI(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function mp(t){oe.lFrame.currentQueryIndex=t}function _R(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[kt]:null}function yp(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=_R(o),i===null||(o=o[zr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=OI();return r.currentTNode=e,r.lView=t,!0}function Ku(t){let e=OI(),n=t[H];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function OI(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?xI(t):e}function xI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function kI(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var vp=kI;function Qu(){let t=kI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function FI(t){return(oe.lFrame.contextLView=yI(t,oe.lFrame.contextLView))[nt]}function Qr(){return oe.lFrame.selectedIndex}function dr(t){oe.lFrame.selectedIndex=t}function _p(){let t=oe.lFrame;return ia(t.tView,t.selectedIndex)}function LI(){return oe.lFrame.currentNamespace}var VI=!0;function Yu(){return VI}function Zu(t){VI=t}function Mf(t,e=null,n=null,r){let i=Ep(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ep(t,e=null,n=null,r,i=new Set){let o=[n||wt,cI(t)];return r=r||(typeof t=="object"?void 0:Sn(t)),new Br(o,e||Zs(),r||null,i)}var Qe=class t{static THROW_IF_NOT_FOUND=Fr;static NULL=new Ws;static create(e,n){if(Array.isArray(e))return Mf({name:""},n,e,"");{let r=e.name??"";return Mf({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>K(Qf)});static __NG_ELEMENT_ID__=-1},Be=new V(""),Mn=(()=>{class t{static __NG_ELEMENT_ID__=ER;static __NG_ENV_ID__=n=>n}return t})(),Pf=class extends Mn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Kr(this._lView)}onDestroy(e){let n=this._lView;return cp(n,e),()=>vI(n,e)}};function ER(){return new Pf(ye())}var rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Tt=new V("",{providedIn:"root",factory:()=>{let t=N(ke),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(rn),e.handleError(n))}}}),UI={provide:Rn,useValue:()=>void N(rn),multi:!0},IR=new V("",{providedIn:"root",factory:()=>{let t=N(Be).defaultView;if(!t)return;let e=N(Tt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),N(Mn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Ip(){return Gt([aI(()=>void N(IR))])}function wp(t){return typeof t=="function"&&t[tt]!==void 0}function Ut(t,e){let[n,r,i]=tf(t,e?.equal),o=n,s=o[tt];return o.set=r,o.update=i,o.asReadonly=jI.bind(o),o}function jI(){let t=this[tt];if(t.readonlyFn===void 0){let e=()=>this();e[tt]=t,t.readonlyFn=e}return t.readonlyFn}function Dp(t){return wp(t)&&typeof t.set=="function"}var ir=class{},ca=new V("",{providedIn:"root",factory:()=>!1});var Cp=new V(""),Tp=new V(""),cn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ge(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Q(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),go=(()=>{class t{internalPendingTasks=N(cn);scheduler=N(ir);errorHandler=N(Tt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();function ua(...t){}var bp=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new Of})}return t})(),Of=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Co(t){return{toString:t}.toString()}var Ju="__parameters__";function OR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function xR(t,e,n){return Co(()=>{let r=OR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,d,f){let g=u.hasOwnProperty(Ju)?u[Ju]:Object.defineProperty(u,Ju,{value:[]})[Ju];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var xn=rI(xR("Optional"),8);function kR(t){return typeof t=="function"}var rl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function vw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var To=(()=>{let t=()=>_w;return t.ngInherit=!0,t})();function _w(t){return t.type.prototype.ngOnChanges&&(t.setInput=LR),FR}function FR(){let t=Iw(this),e=t?.current;if(e){let n=t.previous;if(n===or)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function LR(t,e,n,r,i){let o=this.declaredInputs[r],s=Iw(t)||VR(t,{previous:or,current:null}),c=s.current||(s.current={}),u=s.previous,d=u[o];c[o]=new rl(d&&d.currentValue,n,u===or),vw(t,e,i,n)}var Ew="__ngSimpleChanges__";function Iw(t){return t[Ew]||null}function VR(t,e){return t[Ew]=e}var BI=[];var fe=function(t,e=null,n){for(let r=0;r<BI.length;r++){let i=BI[r];i(t,e,n)}};function UR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=_w(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function jR(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function el(t,e,n){ww(t,e,3,n)}function tl(t,e,n,r){(t[G]&3)===n&&ww(t,e,n,r)}function Sp(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function ww(t,e,n,r){let i=r!==void 0?t[Gr]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Gr]+=65536),(c<o||o==-1)&&(BR(t,n,e,u),t[Gr]=(t[Gr]&4294901760)+u+2),u++}function $I(t,e){fe(4,t,e);let n=z(null);try{e.call(t)}finally{z(n),fe(5,t,e)}}function BR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[G]>>14<t[Gr]>>16&&(t[G]&3)===e&&(t[G]+=16384,$I(c,o)):$I(c,o)}var yo=-1,Zr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function $R(t){return(t.flags&8)!==0}function HR(t){return(t.flags&16)!==0}function zR(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];GR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function qR(t){return t===3||t===4||t===6}function GR(t){return t.charCodeAt(0)===64}function vo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?HI(t,n,i,null,e[++r]):HI(t,n,i,null,null))}}return t}function HI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Dw(t){return t!==yo}function il(t){return t&32767}function WR(t){return t>>16}function ol(t,e){let n=WR(t),r=e;for(;n>0;)r=r[zr],n--;return r}var Lp=!0;function zI(t){let e=Lp;return Lp=t,e}var KR=256,Cw=KR-1,Tw=5,QR=0,un={};function YR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hr)&&(r=n[Hr]),r==null&&(r=n[Hr]=QR++);let i=r&Cw,o=1<<i;e.data[t+(i>>Tw)]|=o}function sl(t,e){let n=bw(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,Ap(r.data,t),Ap(e,null),Ap(r.blueprint,null));let i=rg(t,e),o=t.injectorIndex;if(Dw(i)){let s=il(i),c=ol(i,e),u=c[H].data;for(let d=0;d<8;d++)e[o+d]=c[s+d]|u[s+d]}return e[o+8]=i,o}function Ap(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function rg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Mw(i),r===null)return yo;if(n++,i=i[zr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return yo}function Vp(t,e,n){YR(t,e,n)}function Sw(t,e,n){if(n&8||t!==void 0)return t;Uu(e,"NodeInjector")}function Aw(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[ar],o=It(void 0);try{return i?i.get(e,r,n&8):Wf(e,r,n&8)}finally{It(o)}}return Sw(r,e,n)}function Rw(t,e,n,r=0,i){if(t!==null){if(e[G]&2048&&!(r&2)){let s=tN(t,e,n,r,un);if(s!==un)return s}let o=Nw(t,e,n,r,un);if(o!==un)return o}return Aw(e,n,r,i)}function Nw(t,e,n,r,i){let o=XR(n);if(typeof o=="function"){if(!yp(e,t,r))return r&1?Sw(i,n,r):Aw(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Uu(n);else return s}finally{vp()}}else if(typeof o=="number"){let s=null,c=bw(t,e),u=yo,d=r&1?e[Ft][kt]:null;for((c===-1||r&4)&&(u=c===-1?rg(t,e):e[c+8],u===yo||!GI(r,!1)?c=-1:(s=e[H],c=il(u),e=ol(u,e)));c!==-1;){let f=e[H];if(qI(o,c,f.data)){let g=ZR(c,e,n,s,r,d);if(g!==un)return g}u=e[c+8],u!==yo&&GI(r,e[H].data[c+8]===d)&&qI(o,c,e)?(s=f,c=il(u),e=ol(u,e)):c=-1}}return i}function ZR(t,e,n,r,i,o){let s=e[H],c=s.data[t+8],u=r==null?ur(c)&&Lp:r!=s&&(c.type&3)!==0,d=i&1&&o===c,f=JR(c,s,n,u,d);return f!==null?al(e,s,f,c,i):un}function JR(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,d=t.directiveEnd,f=o>>20,g=r?c:c+f,m=i?c+f:d;for(let v=g;v<m;v++){let A=s[v];if(v<u&&n===A||v>=u&&A.type===n)return v}if(i){let v=s[u];if(v&&sn(v)&&v.type===n)return u}return null}function al(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Zr){let c=o;if(c.resolving){let v=XE(s[n]);throw Gf(v)}let u=zI(c.canSeeViewProviders);c.resolving=!0;let d=s[n].type||s[n],f,g=c.injectImpl?It(c.injectImpl):null,m=yp(t,r,0);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&UR(n,s[n],e)}finally{g!==null&&It(g),zI(u),c.resolving=!1,vp()}}return o}function XR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Hr)?t[Hr]:void 0;return typeof e=="number"?e>=0?e&Cw:eN:e}function qI(t,e,n){let r=1<<t;return!!(n[e+(t>>Tw)]&r)}function GI(t,e){return!(t&2)&&!(t&1&&e)}var Yr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Rw(this._tNode,this._lView,e,Vr(r),n)}};function eN(){return new Yr(vt(),ye())}function bo(t){return Co(()=>{let e=t.prototype.constructor,n=e[Gs]||Up(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Gs]||Up(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Up(t){return Vf(t)?()=>{let e=Up(We(t));return e&&e()}:Ur(t)}function tN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[G]&2048&&!fo(s);){let c=Nw(o,s,n,r|2,un);if(c!==un)return c;let u=o.parent;if(!u){let d=s[rp];if(d){let f=d.get(n,un,r);if(f!==un)return f}u=Mw(s),s=s[zr]}o=u}return i}function Mw(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[kt]:null}function nN(){return ig(vt(),ye())}function ig(t,e){return new So(an(t,e))}var So=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=nN}return t})();function Pw(t){return(t.flags&128)===128}var og=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(og||{}),Ow=new Map,rN=0;function iN(){return rN++}function oN(t){Ow.set(t[Xs],t)}function jp(t){Ow.delete(t[Xs])}var WI="__ngContext__";function _o(t,e){on(e)?(t[WI]=e[Xs],oN(e)):t[WI]=e}function xw(t){return Fw(t[ho])}function kw(t){return Fw(t[xt])}function Fw(t){for(;t!==null&&!Kt(t);)t=t[xt];return t}var Bp;function sg(t){Bp=t}function Lw(){if(Bp!==void 0)return Bp;if(typeof document<"u")return document;throw new j(210,!1)}var _l=new V("",{providedIn:"root",factory:()=>sN}),sN="ng",El=new V(""),hr=new V("",{providedIn:"platform",factory:()=>"unknown"});var Il=new V("",{providedIn:"root",factory:()=>Lw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var aN="h",cN="b";var Vw=!1,Uw=new V("",{providedIn:"root",factory:()=>Vw});var uN=(t,e,n,r)=>{};function lN(t,e,n,r){uN(t,e,n,r)}function ag(t){return(t.flags&32)===32}var dN=()=>null;function jw(t,e,n=!1){return dN(t,e,n)}function Bw(t,e){let n=t.contentQueries;if(n!==null){let r=z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];mp(o),c.contentQueries(2,e[s],s)}}}finally{z(r)}}}function $p(t,e,n){mp(0);let r=z(null);try{e(t,n)}finally{z(r)}}function $w(t,e,n){if(ip(e)){let r=z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{z(r)}}}var Pn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Pn||{});var Hp=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kf})`}};function Hw(t){return t instanceof Hp?t.changingThisBreaksApplicationSecurity:t}function zw(t){return t instanceof Function?t():t}function hN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var qw="ng-template";function fN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&hN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(cg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function cg(t){return t.type===4&&t.value!==qw}function pN(t,e,n){let r=t.type===4&&!n?qw:t.value;return e===r}function gN(t,e,n){let r=4,i=t.attrs,o=i!==null?vN(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Qt(r)&&!Qt(u))return!1;if(s&&Qt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!pN(t,u,n)||u===""&&e.length===1){if(Qt(r))return!1;s=!0}}else if(r&8){if(i===null||!fN(t,i,u,n)){if(Qt(r))return!1;s=!0}}else{let d=e[++c],f=mN(u,i,cg(t),n);if(f===-1){if(Qt(r))return!1;s=!0;continue}if(d!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(Qt(r))return!1;s=!0}}}}return Qt(r)||s}function Qt(t){return(t&1)===0}function mN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _N(e,t)}function yN(t,e,n=!1){for(let r=0;r<e.length;r++)if(gN(t,e[r],n))return!0;return!1}function vN(t){for(let e=0;e<t.length;e++){let n=t[e];if(qR(n))return e}return t.length}function _N(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function KI(t,e){return t?":not("+e.trim()+")":e}function EN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Qt(s)&&(e+=KI(o,i),i=""),r=s,o=o||!Qt(r);n++}return i!==""&&(e+=KI(o,i)),e}function IN(t){return t.map(EN).join(",")}function wN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Qt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var kn={};function DN(t,e){return t.createText(e)}function CN(t,e,n){t.setValue(e,n)}function Gw(t,e,n){return t.createElement(e,n)}function cl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ww(t,e,n){t.appendChild(e,n)}function QI(t,e,n,r,i){r!==null?cl(t,e,n,r,i):Ww(t,e,n)}function TN(t,e,n,r){t.removeChild(null,e,n,r)}function bN(t,e,n){t.setAttribute(e,"style",n)}function SN(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Kw(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&zR(t,e,r),i!==null&&SN(t,e,i),o!==null&&bN(t,e,o)}function ug(t,e,n,r,i,o,s,c,u,d,f){let g=rt+r,m=g+i,v=AN(g,m),A=typeof d=="function"?d():d;return v[H]={type:t,blueprint:v,template:n,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function AN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:kn);return n}function RN(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ug(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function lg(t,e,n,r,i,o,s,c,u,d,f){let g=e.blueprint.slice();return g[Wt]=i,g[G]=r|4|128|8|64|1024,(d!==null||t&&t[G]&2048)&&(g[G]|=2048),sp(g),g[Ke]=g[zr]=t,g[nt]=n,g[Nn]=s||t&&t[Nn],g[Ce]=c||t&&t[Ce],g[ar]=u||t&&t[ar]||null,g[kt]=o,g[Xs]=iN(),g[Js]=f,g[rp]=d,g[Ft]=e.type==2?t[Ft]:g,g}function NN(t,e,n){let r=an(e,t),i=RN(n),o=t[Nn].rendererFactory,s=dg(t,lg(t,i,null,Qw(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Qw(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Yw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function dg(t,e){return t[ho]?t[np][xt]=e:t[ho]=e,t[np]=e,e}function ti(t=1){Zw(Ct(),ye(),Qr()+t,!1)}function Zw(t,e,n,r){if(!r)if((e[G]&3)===3){let o=t.preOrderCheckHooks;o!==null&&el(e,o,n)}else{let o=t.preOrderHooks;o!==null&&tl(e,o,0,n)}dr(n)}var wl=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(wl||{});function zp(t,e,n,r){let i=z(null);try{let[o,s,c]=t.inputs[n],u=null;(s&wl.SignalBased)!==0&&(u=e[o][tt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):vw(e,u,o,r)}finally{z(i)}}var On=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(On||{}),MN;function hg(t,e){return MN(t,e)}var Eo=new Set,fg=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(fg||{}),ga=new V(""),YI=new Set;function ni(t){YI.has(t)||(YI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Jw=!1,qp=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,hI()&&(this.destroyRef=N(Mn,{optional:!0})??void 0,this.pendingTasks=N(cn,{optional:!0})??void 0)}emit(e){let n=z(null);try{super.next(e)}finally{z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof _e&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Le=qp;function Xw(t){let e,n;function r(){t=ua;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ZI(t){return queueMicrotask(()=>t()),()=>{t=ua}}var pg="isAngularZone",ul=pg+"_ID",PN=0,pe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Le(!1);onMicrotaskEmpty=new Le(!1);onStable=new Le(!1);onError=new Le(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Jw}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,kN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ON,ua,ua);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ON={};function gg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Xw(()=>{t.callbackScheduled=!1,Gp(t),t.isCheckStableRunning=!0,gg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Gp(t)}function kN(t){let e=()=>{xN(t)},n=PN++;t._inner=t._inner.fork({name:"angular",properties:{[pg]:!0,[ul]:n,[ul+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(FN(u))return r.invokeTask(o,s,c,u);try{return JI(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),XI(t)}},onInvoke:(r,i,o,s,c,u,d)=>{try{return JI(t),r.invoke(o,s,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!LN(u)&&e(),XI(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Gp(t),gg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Gp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function JI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XI(t){t._nesting--,gg(t)}var ll=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Le;onMicrotaskEmpty=new Le;onStable=new Le;onError=new Le;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function FN(t){return eD(t,"__ignore_ng_zone__")}function LN(t){return eD(t,"__scheduler_tick__")}function eD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var tD=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();var VN=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function nD(t,e){let n=t.get(VN);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function UN(t,e){for(let[n,r]of e)nD(t,r.animateFns)}function ew(t,e,n,r){let i=t?.[ta]?.enter;e!==null&&i&&i.has(n.index)&&UN(r,i)}function mo(t,e,n,r,i,o,s,c){if(i!=null){let u,d=!1;Kt(i)?u=i:on(i)&&(d=!0,i=i[Wt]);let f=Lt(i);t===0&&r!==null?(ew(c,r,o,n),s==null?Ww(e,r,f):cl(e,r,f,s||null,!0)):t===1&&r!==null?(ew(c,r,o,n),cl(e,r,f,s||null,!0)):t===2?tw(c,o,n,g=>{TN(e,f,d,g)}):t===3&&tw(c,o,n,()=>{e.destroyNode(f)}),u!=null&&JN(e,t,n,u,o,r,s)}}function jN(t,e){rD(t,e),e[Wt]=null,e[kt]=null}function BN(t,e,n,r,i,o){r[Wt]=i,r[kt]=e,Dl(t,r,n,1,i,o)}function rD(t,e){e[Nn].changeDetectionScheduler?.notify(9),Dl(t,e,e[Ce],2,null,null)}function $N(t){let e=t[ho];if(!e)return Rp(t[H],t);for(;e;){let n=null;if(on(e))n=e[ho];else{let r=e[ut];r&&(n=r)}if(!n){for(;e&&!e[xt]&&e!==t;)on(e)&&Rp(e[H],e),e=e[Ke];e===null&&(e=t),on(e)&&Rp(e[H],e),n=e&&e[xt]}e=n}}function mg(t,e){let n=t[ra],r=n.indexOf(e);n.splice(r,1)}function yg(t,e){if(Kr(e))return;let n=e[Ce];n.destroyNode&&Dl(t,e,n,3,null,null),$N(e)}function Rp(t,e){if(Kr(e))return;let n=z(null);try{e[G]&=-129,e[G]|=256,e[Dt]&&js(e[Dt]),qN(t,e),zN(t,e),e[H].type===1&&e[Ce].destroy();let r=e[qr];if(r!==null&&Kt(e[Ke])){r!==e[Ke]&&mg(r,e);let i=e[Wr];i!==null&&i.detachView(t)}jp(e)}finally{z(n)}}function tw(t,e,n,r){let i=t?.[ta];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);t&&Eo.add(t),nD(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s)for(let u=0;u<s.animateFns.length;u++){let d=s.animateFns[u],{promise:f}=d();c.push(f)}i.running=Promise.allSettled(c),HN(t,r)}else t&&Eo.delete(t),r(!1)})}function HN(t,e){let n=t[ta]?.running;if(n){n.then(()=>{t[ta].running=void 0,Eo.delete(t),e(!0)});return}e(!1)}function zN(t,e){let n=t.cleanup,r=e[lo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[lo]=null);let i=e[bn];if(i!==null){e[bn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[ea];if(o!==null){e[ea]=null;for(let s of o)s.destroy()}}function qN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Zr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];fe(4,c,u);try{u.call(c)}finally{fe(5,c,u)}}else{fe(4,i,o);try{o.call(i)}finally{fe(5,i,o)}}}}}function GN(t,e,n){return WN(t,e.parent,n)}function WN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Wt];if(ur(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Pn.None||i===Pn.Emulated)return null}return an(r,n)}function KN(t,e,n){return YN(t,e,n)}function QN(t,e,n){return t.type&40?an(t,n):null}var YN=QN,nw;function vg(t,e,n,r){let i=GN(t,r,e),o=e[Ce],s=r.parent||e[kt],c=KN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)QI(o,i,n[u],c,!1);else QI(o,i,n,c,!1);nw!==void 0&&nw(o,r,e,n,i)}function la(t,e){if(e!==null){let n=e.type;if(n&3)return an(e,t);if(n&4)return Wp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return la(t,r);{let i=t[e.index];return Kt(i)?Wp(-1,i):Lt(i)}}else{if(n&128)return la(t,e.next);if(n&32)return hg(e,t)()||Lt(t[e.index]);{let r=iD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=rr(t[Ft]);return la(i,r)}else return la(t,e.next)}}}return null}function iD(t,e){if(e!==null){let r=t[Ft][kt],i=e.projection;return r.projection[i]}return null}function Wp(t,e){let n=ut+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return la(r,i)}return e[cr]}function _g(t,e,n,r,i,o,s){for(;n!=null;){let c=r[ar];if(n.type===128){n=n.next;continue}let u=r[n.index],d=n.type;if(s&&e===0&&(u&&_o(Lt(u),r),n.flags|=2),!ag(n))if(d&8)_g(t,e,n.child,r,i,o,!1),mo(e,t,c,i,u,n,o,r);else if(d&32){let f=hg(n,r),g;for(;g=f();)mo(e,t,c,i,g,n,o,r);mo(e,t,c,i,u,n,o,r)}else d&16?ZN(t,e,r,n,i,o):mo(e,t,c,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Dl(t,e,n,r,i,o){_g(n,r,t.firstChild,e,i,o,!1)}function ZN(t,e,n,r,i,o){let s=n[Ft],u=s[kt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];mo(e,t,n[ar],i,f,r,o,n)}else{let d=u,f=s[Ke];Pw(r)&&(d.flags|=128),_g(t,e,d,f,i,o,!0)}}function JN(t,e,n,r,i,o,s){let c=r[cr],u=Lt(r);c!==u&&mo(e,t,n,o,c,i,s);for(let d=ut;d<r.length;d++){let f=r[d];Dl(f[H],f,t,e,o,c)}}function XN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:On.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=On.Important),t.setStyle(n,r,i,o))}}function oD(t,e,n,r,i){let o=Qr(),s=r&2;try{dr(-1),s&&e.length>rt&&Zw(t,e,rt,!1),fe(s?2:0,i,n),n(r,i)}finally{dr(o),fe(s?3:1,i,n)}}function sD(t,e,n){sM(t,e,n),(n.flags&64)===64&&aM(t,e,n)}function Eg(t,e,n=an){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function eM(t,e,n,r){let o=r.get(Uw,Vw)||n===Pn.ShadowDom,s=t.selectRootElement(e,o);return tM(s),s}function tM(t){nM(t)}var nM=()=>null;function rM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function aD(t,e,n,r,i,o){let s=e[H];if(Ig(t,s,e,n,r)){ur(t)&&oM(e,t.index);return}t.type&3&&(n=rM(n)),iM(t,e,n,r,i,o)}function iM(t,e,n,r,i,o){if(t.type&3){let s=an(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function oM(t,e){let n=Vt(e,t);n[G]&16||(n[G]|=64)}function sM(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ur(n)&&NN(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||sl(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=al(e,t,s,n);if(_o(u,e),o!==null&&lM(e,s-r,u,c,n,o),sn(c)){let d=Vt(n.index,e);d[nt]=al(e,t,s,n)}}}function aM(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=MI();try{dr(o);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];Wu(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&cM(u,d)}}finally{dr(-1),Wu(s)}}function cM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function uM(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];yN(e,o.selectors,!1)&&(r??=[],sn(o)?r.unshift(o):r.push(o))}return r}function lM(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1];zp(r,n,u,d)}}function cD(t,e,n,r,i){let o=rt+n,s=e[H],c=i(s,e,t,r,n);e[o]=c,po(t,!0);let u=t.type===2;return u?(Kw(e[Ce],c,t),(II()===0||zu(t))&&_o(c,e),wI()):_o(c,e),Yu()&&(!u||!ag(t))&&vg(s,e,c,t),t}function uD(t){let e=t;return fp()?bI():(e=e.parent,po(e,!1)),e}function dM(t,e){let n=t[ar];if(!n)return;let r;try{r=n.get(Tt,null)}catch{r=null}r?.(e)}function Ig(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],f=s[u+1],g=e.data[d];zp(g,n[d],f,i),c=!0}if(o)for(let u of o){let d=n[u],f=e.data[u];zp(f,d,r,i),c=!0}return c}function hM(t,e){let n=Vt(e,t),r=n[H];fM(r,n);let i=n[Wt];i!==null&&n[Js]===null&&(n[Js]=jw(i,n[ar])),fe(18),wg(r,n,n[nt]),fe(19,n[nt])}function fM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wg(t,e,n){Ku(e);try{let r=t.viewQuery;r!==null&&$p(1,r,n);let i=t.template;i!==null&&oD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Wr]?.finishViewCreation(t),t.staticContentQueries&&Bw(t,e),t.staticViewQueries&&$p(2,t.viewQuery,n);let o=t.components;o!==null&&pM(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,Qu()}}function pM(t,e){for(let n=0;n<e.length;n++)hM(t,e[n])}function gM(t,e,n,r){let i=z(null);try{let o=e.tView,c=t[G]&4096?4096:16,u=lg(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[qr]=d;let f=t[Wr];return f!==null&&(u[Wr]=f.createEmbeddedView(o)),wg(o,u,n),u}finally{z(i)}}function Kp(t,e){return!e||e.firstChild===null||Pw(t)}function ha(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Lt(o)),Kt(o)&&lD(o,r);let s=n.type;if(s&8)ha(t,e,n.child,r);else if(s&32){let c=hg(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=iD(e,n);if(Array.isArray(c))r.push(...c);else{let u=rr(e[Ft]);ha(u[H],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function lD(t,e){for(let n=ut;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&ha(r[H],r,i,e)}t[cr]!==t[Wt]&&e.push(t[cr])}function dD(t){if(t[Hu]!==null){for(let e of t[Hu])e.impl.addSequence(e);t[Hu].length=0}}var hD=[];function mM(t){return t[Dt]??yM(t)}function yM(t){let e=hD.pop()??Object.create(_M);return e.lView=t,e}function vM(t){t.lView[Dt]!==t&&(t.lView=null,hD.push(t))}var _M=Z(k({},Hi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{sa(t.lView)},consumerOnSignalRead(){this.lView[Dt]=this}});function EM(t){let e=t[Dt]??Object.create(IM);return e.lView=t,e}var IM=Z(k({},Hi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=rr(t.lView);for(;e&&!fD(e[H]);)e=rr(e);e&&ap(e)},consumerOnSignalRead(){this.lView[Dt]=this}});function fD(t){return t.type!==2}function pD(t){if(t[ea]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ea])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[G]&8192)}}var wM=100;function gD(t,e=0){let r=t[Nn].rendererFactory,i=!1;i||r.begin?.();try{DM(t,e)}finally{i||r.end?.()}}function DM(t,e){let n=pp();try{gp(!0),Qp(t,e);let r=0;for(;oa(t);){if(r===wM)throw new j(103,!1);r++,Qp(t,1)}}finally{gp(n)}}function CM(t,e,n,r){if(Kr(e))return;let i=e[G],o=!1,s=!1;Ku(e);let c=!0,u=null,d=null;o||(fD(t)?(d=mM(e),u=qi(d)):iu()===null?(c=!1,d=EM(e),u=qi(d)):e[Dt]&&(js(e[Dt]),e[Dt]=null));try{sp(e),SI(t.bindingStartIndex),n!==null&&oD(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let v=t.preOrderCheckHooks;v!==null&&el(e,v,null)}else{let v=t.preOrderHooks;v!==null&&tl(e,v,0,null),Sp(e,0)}if(s||TM(e),pD(e),mD(e,0),t.contentQueries!==null&&Bw(t,e),!o)if(f){let v=t.contentCheckHooks;v!==null&&el(e,v)}else{let v=t.contentHooks;v!==null&&tl(e,v,1),Sp(e,1)}SM(t,e);let g=t.components;g!==null&&vD(e,g,0);let m=t.viewQuery;if(m!==null&&$p(2,m,r),!o)if(f){let v=t.viewCheckHooks;v!==null&&el(e,v)}else{let v=t.viewHooks;v!==null&&tl(e,v,2),Sp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$u]){for(let v of e[$u])v();e[$u]=null}o||(dD(e),e[G]&=-73)}catch(f){throw o||sa(e),f}finally{d!==null&&(Vs(d,u),c&&vM(d)),Qu()}}function mD(t,e){for(let n=xw(t);n!==null;n=kw(n))for(let r=ut;r<n.length;r++){let i=n[r];yD(i,e)}}function TM(t){for(let e=xw(t);e!==null;e=kw(e)){if(!(e[G]&2))continue;let n=e[ra];for(let r=0;r<n.length;r++){let i=n[r];ap(i)}}}function bM(t,e,n){fe(18);let r=Vt(e,t);yD(r,n),fe(19,r[nt])}function yD(t,e){qu(t)&&Qp(t,e)}function Qp(t,e){let r=t[H],i=t[G],o=t[Dt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Us(o)),s||=!1,o&&(o.dirty=!1),t[G]&=-9217,s)CM(r,t,r.template,t[nt]);else if(i&8192){let c=z(null);try{pD(t),mD(t,1);let u=r.components;u!==null&&vD(t,u,1),dD(t)}finally{z(c)}}}function vD(t,e,n){for(let r=0;r<e.length;r++)bM(t,e[r],n)}function SM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)dr(~i);else{let o=i,s=n[++r],c=n[++r];NI(s,o);let u=e[o];fe(24,u),c(2,u),fe(25,u)}}}finally{dr(-1)}}function Dg(t,e){let n=pp()?64:1088;for(t[Nn].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=rr(t);if(fo(t)&&!r)return t;t=r}return null}function _D(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function AM(t,e){let n=ut+e;if(n<t.length)return t[n]}function ED(t,e,n,r=!0){let i=e[H];if(NM(i,e,t,n),r){let s=Wp(n,t),c=e[Ce],u=c.parentNode(t[cr]);u!==null&&BN(i,t[kt],c,e,u,s)}let o=e[Js];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function RM(t,e){let n=dl(t,e);return n!==void 0&&yg(n[H],n),n}function dl(t,e){if(t.length<=ut)return;let n=ut+e,r=t[n];if(r){let i=r[qr];i!==null&&i!==t&&mg(i,r),e>0&&(t[n-1][xt]=r[xt]);let o=Qs(t,ut+e);jN(r[H],r);let s=o[Wr];s!==null&&s.detachView(o[H]),r[Ke]=null,r[xt]=null,r[G]&=-129}return r}function NM(t,e,n,r){let i=ut+r,o=n.length;r>0&&(n[i-1][xt]=e),r<o-ut?(e[xt]=n[i],Kf(n,ut+r,e)):(n.push(e),e[xt]=null),e[Ke]=n;let s=e[qr];s!==null&&n!==s&&ID(s,e);let c=e[Wr];c!==null&&c.insertView(t),Gu(e),e[G]|=128}function ID(t,e){let n=t[ra],r=e[Ke];if(on(r))t[G]|=2;else{let i=r[Ke][Ft];e[Ft]!==i&&(t[G]|=2)}n===null?t[ra]=[e]:n.push(e)}var Jr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[H];return ha(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return Kr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ke];if(Kt(e)){let n=e[na],r=n?n.indexOf(this):-1;r>-1&&(dl(e,r),Qs(n,r))}this._attachedToViewContainer=!1}yg(this._lView[H],this._lView)}onDestroy(e){cp(this._lView,e)}markForCheck(){Dg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){Gu(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,gD(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fo(this._lView),n=this._lView[qr];n!==null&&!e&&mg(n,this._lView),rD(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=fo(this._lView),r=this._lView[qr];r!==null&&!n&&ID(r,this._lView),Gu(this._lView)}};function Cl(t,e,n,r,i){let o=t.data[e];if(o===null)o=MM(t,e,n,r,i),RI()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=TI();o.injectorIndex=s===null?-1:s.injectorIndex}return po(o,!0),o}function MM(t,e,n,r,i){let o=hp(),s=fp(),c=s?o:o&&o.parent,u=t.data[e]=OM(t,c,n,e,r,i);return PM(t,u,o,s),u}function PM(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function OM(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return CI()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Tz=new RegExp(`^(\\d+)*(${cN}|${aN})*(.*)`);var xM=()=>null,kM=()=>null;function rw(t,e){return xM(t,e)}function FM(t,e,n){return kM(t,e,n)}var wD=class{},Tl=class{},Yp=class{resolveComponentFactory(e){throw new j(917,!1)}},ma=class{static NULL=new Yp},Xr=class{},ya=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>LM()}return t})();function LM(){let t=ye(),e=vt(),n=Vt(e.index,t);return(on(n)?n:t)[Ce]}var DD=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var nl={},Zp=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,nl,r);return i!==nl||n===nl?i:this.parentInjector.get(e,n,r)}};function hl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Lf(i,c);else if(o==2){let u=c,d=e[++s];r=Lf(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Te(t,e=0){let n=ye();if(n===null)return K(t,e);let r=vt();return Rw(r,n,We(t),e)}function VM(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,d]=f.resolveHostDirectives(s);break}BM(t,e,n,c,o,u,d)}o!==null&&r!==null&&UM(n,r,o)}function UM(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function jM(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function BM(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let v=r[m];!u&&sn(v)&&(u=!0,jM(t,n,m)),Vp(sl(n,e),t,v.type)}WM(n,t.data.length,c);for(let m=0;m<c;m++){let v=r[m];v.providersResolver&&v.providersResolver(v)}let d=!1,f=!1,g=Yw(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let v=r[m];if(n.mergedAttrs=vo(n.mergedAttrs,v.hostAttrs),HM(t,n,e,g,v),GM(g,v,i),s!==null&&s.has(v)){let[O,P]=s.get(v);n.directiveToIndex.set(v.type,[g,O+n.directiveStart,P+n.directiveStart])}else(o===null||!o.has(v))&&n.directiveToIndex.set(v.type,g);v.contentQueries!==null&&(n.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(n.flags|=64);let A=v.type.prototype;!d&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!f&&(A.ngOnChanges||A.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),g++}$M(t,n,o)}function $M(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))iw(0,e,i,r),iw(1,e,i,r),sw(e,r,!1);else{let o=n.get(i);ow(0,e,o,r),ow(1,e,o,r),sw(e,r,!0)}}}function iw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),CD(e,o)}}function ow(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),CD(e,s)}}function CD(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function sw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||cg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let d=i[u];for(let f of d)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let d=o[u];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function HM(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ur(i.type,!0)),s=new Zr(o,sn(i),Te,null);t.blueprint[r]=s,n[r]=s,zM(t,e,r,Yw(t,n,i.hostVars,kn),i)}function zM(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;qM(s)!=c&&s.push(c),s.push(n,r,o)}}function qM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function GM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;sn(e)&&(n[""]=t)}}function WM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function TD(t,e,n,r,i,o,s,c){let u=e[H],d=u.consts,f=lr(d,s),g=Cl(u,t,n,r,f);return o&&VM(u,e,g,lr(d,c),i),g.mergedAttrs=vo(g.mergedAttrs,g.attrs),g.attrs!==null&&hl(g,g.attrs,!1),g.mergedAttrs!==null&&hl(g,g.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,g),g}function bD(t,e){jR(t,e),ip(e)&&t.queries.elementEnd(e)}function KM(t,e,n,r,i,o){let s=e.consts,c=lr(s,i),u=Cl(e,t,n,r,c);if(u.mergedAttrs=vo(u.mergedAttrs,u.attrs),o!=null){let d=lr(s,o);u.localNames=[];for(let f=0;f<d.length;f+=2)u.localNames.push(d[f],-1)}return u.attrs!==null&&hl(u,u.attrs,!1),u.mergedAttrs!==null&&hl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function va(t,e,n){if(n===kn)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Np(t,e,n){return function r(i){let o=ur(t)?Vt(t.index,e):e;Dg(o,5);let s=e[nt],c=aw(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=aw(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function aw(t,e,n,r){let i=z(null);try{return fe(6,e,n),n(r)!==!1}catch(o){return dM(t,o),!1}finally{fe(7,e,n),z(i)}}function QM(t,e,n,r,i,o,s,c){let u=zu(t),d=!1,f=null;if(!r&&u&&(f=ZM(e,n,o,t.index)),f!==null){let g=f.__ngLastListenerFn__||f;g.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let g=an(t,n),m=r?r(g):g;lN(n,m,o,c);let v=i.listen(m,o,c);if(!YM(o)){let A=r?O=>r(Lt(O[t.index])):t.index;SD(A,e,n,o,c,v,!1)}}return d}function YM(t){return t.startsWith("animation")||t.startsWith("transition")}function ZM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[lo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function SD(t,e,n,r,i,o,s){let c=e.firstCreatePass?EI(e):null,u=_I(n),d=u.length;u.push(i,o),c&&c.push(r,t,d,(d+1)*(s?-1:1))}function cw(t,e,n,r,i,o){let s=e[n],c=e[H],d=c.data[n].outputs[r],g=s[d].subscribe(o);SD(t.index,c,e,i,o,g,!0)}var Jp=Symbol("BINDING");var fl=class extends ma{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=sr(e);return new Io(n,this.ngModule)}};function JM(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&wl.SignalBased)!==0};return i&&(o.transform=i),o})}function XM(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function e1(t,e,n){let r=e instanceof ke?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Zp(n,r):n}function t1(t){let e=t.get(Xr,null);if(e===null)throw new j(407,!1);let n=t.get(DD,null),r=t.get(ir,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function n1(t,e){let n=AD(t);return Gw(e,n,n==="svg"?pI:n==="math"?gI:null)}function AD(t){return(t.selectors[0][0]||"div").toLowerCase()}var Io=class extends Tl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=JM(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=XM(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=IN(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){fe(22);let c=z(null);try{let u=this.componentDef,d=r1(r,u,s,o),f=e1(u,i||this.ngModule,e),g=t1(f),m=g.rendererFactory.createRenderer(null,u),v=r?eM(m,r,u.encapsulation,f):n1(u,m),A=s?.some(uw)||o?.some(F=>typeof F!="function"&&F.bindings.some(uw)),O=lg(null,d,null,512|Qw(u),null,null,g,m,f,null,jw(v,f,!0));O[rt]=v,Ku(O);let P=null;try{let F=TD(rt,O,2,"#host",()=>d.directiveRegistry,!0,0);Kw(m,v,F),_o(v,O),sD(d,O,F),$w(d,F,O),bD(d,F),n!==void 0&&o1(F,this.ngContentSelectors,n),P=Vt(F.index,O),O[nt]=P[nt],wg(d,O,null)}catch(F){throw P!==null&&jp(P),jp(O),F}finally{fe(23),Qu()}return new pl(this.componentType,O,!!A)}finally{z(c)}}};function r1(t,e,n,r){let i=t?["ng-version","20.3.6"]:wN(e.selectors[0]),o=null,s=null,c=0;if(n)for(let f of n)c+=f[Jp].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let g=r[f];if(typeof g!="function")for(let m of g.bindings){c+=m[Jp].requiredVars;let v=f+1;m.create&&(m.targetIdx=v,(o??=[]).push(m)),m.update&&(m.targetIdx=v,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let g=typeof f=="function"?f:f.type,m=Jf(g);u.push(m)}return ug(0,null,i1(o,s),1,c,u,null,null,null,[i],null)}function i1(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function uw(t){let e=t[Jp].kind;return e==="input"||e==="twoWay"}var pl=class extends wD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ia(n[H],rt),this.location=ig(this._tNode,n),this.instance=Vt(this._tNode.index,n)[nt],this.hostView=this.changeDetectorRef=new Jr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Ig(r,i[H],i,e,n);this.previousInputValues.set(e,n);let s=Vt(r.index,i);Dg(s,1)}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function o1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var _a=(()=>{class t{static __NG_ELEMENT_ID__=s1}return t})();function s1(){let t=vt();return c1(t,ye())}var a1=_a,RD=class extends a1{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ig(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){let e=rg(this._hostTNode,this._hostLView);if(Dw(e)){let n=ol(e,this._hostLView),r=il(e),i=n[H].data[r+8];return new Yr(i,n)}else return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=lw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=rw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Kp(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!kR(e),d;if(u)d=n;else{let P=n||{};d=P.index,r=P.injector,i=P.projectableNodes,o=P.environmentInjector||P.ngModuleRef,s=P.directives,c=P.bindings}let f=u?e:new Io(sr(e)),g=r||this.parentInjector;if(!o&&f.ngModule==null){let F=(u?g:this.parentInjector).get(ke,null);F&&(o=F)}let m=sr(f.componentType??{}),v=rw(this._lContainer,m?.id??null),A=v?.firstChild??null,O=f.create(g,i,A,o,s,c);return this.insertImpl(O.hostView,d,Kp(this._hostTNode,v)),O}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(mI(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ke],d=new RD(u,u[kt],u[Ke]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ED(s,i,o,r),e.attachToViewContainerRef(),Kf(Mp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=lw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=dl(this._lContainer,n);r&&(Qs(Mp(this._lContainer),n),yg(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=dl(this._lContainer,n);return r&&Qs(Mp(this._lContainer),n)!=null?new Jr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lw(t){return t[na]}function Mp(t){return t[na]||(t[na]=[])}function c1(t,e){let n,r=e[t.index];return Kt(r)?n=r:(n=_D(r,e,null,t),e[t.index]=n,dg(e,n)),l1(n,e,t,r),new RD(n,t,e)}function u1(t,e){let n=t[Ce],r=n.createComment(""),i=an(e,t),o=n.parentNode(i);return cl(n,o,r,n.nextSibling(i),!1),r}var l1=f1,d1=()=>!1;function h1(t,e,n){return d1(t,e,n)}function f1(t,e,n,r){if(t[cr])return;let i;n.type&8?i=Lt(r):i=u1(e,n),t[cr]=i}var wo=class{},bl=class{};var gl=class extends wo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new fl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Zf(e);this._bootstrapComponents=zw(o.bootstrap),this._r3Injector=Ep(e,n,[{provide:wo,useValue:this},{provide:ma,useValue:this.componentFactoryResolver},...r],Sn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ml=class extends bl{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new gl(this.moduleType,e,[])}};var fa=class extends wo{injector;componentFactoryResolver=new fl(this);instance=null;constructor(e){super();let n=new Br([...e.providers,{provide:wo,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],e.parent||Zs(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ea(t,e,n=null){return new fa({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var p1=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Xf(!1,n.type),i=r.length>0?Ea([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(K(ke))})}return t})();function Fn(t){return Co(()=>{let e=ND(t),n=Z(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===og.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(p1).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pn.Emulated,styles:t.styles||wt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ni("NgStandalone"),MD(n);let r=t.dependencies;return n.directiveDefs=dw(r,g1),n.pipeDefs=dw(r,sI),n.id=v1(n),n})}function g1(t){return sr(t)||Jf(t)}function fr(t){return Co(()=>({type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function m1(t,e){if(t==null)return or;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=wl.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function y1(t){if(t==null)return or;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ln(t){return Co(()=>{let e=ND(t);return MD(e),e})}function ND(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||or,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:m1(t.inputs,e),outputs:y1(t.outputs),debugInfo:null}}function MD(t){t.features?.forEach(e=>e(t))}function dw(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function v1(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function _1(t){return Object.getPrototypeOf(t.prototype).constructor}function ri(t){let e=_1(t.type),n=!0,r=[t];for(;e;){let i;if(sn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Pp(t.inputs),s.declaredInputs=Pp(t.declaredInputs),s.outputs=Pp(t.outputs);let c=i.hostBindings;c&&C1(t,c);let u=i.viewQuery,d=i.contentQueries;if(u&&w1(t,u),d&&D1(t,d),E1(t,i),JE(t.outputs,i.outputs),sn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===ri&&(n=!1)}}e=Object.getPrototypeOf(e)}I1(r)}function E1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function I1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=vo(i.hostAttrs,n=vo(n,i.hostAttrs))}}function Pp(t){return t===or?{}:t===wt?[]:t}function w1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function D1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function C1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function T1(t,e,n,r,i,o,s,c){if(n.firstCreatePass){t.mergedAttrs=vo(t.mergedAttrs,t.attrs);let f=t.tView=ug(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),po(t,!1);let u=b1(n,e,t,r);Yu()&&vg(n,e,u,t),_o(u,e);let d=_D(u,e,u,t);e[r+rt]=d,dg(e,d),h1(d,t,e)}function PD(t,e,n,r,i,o,s,c,u,d,f){let g=n+rt,m;if(e.firstCreatePass){if(m=Cl(e,g,4,s||null,c||null),d!=null){let v=lr(e.consts,d);m.localNames=[];for(let A=0;A<v.length;A+=2)m.localNames.push(v[A],-1)}}else m=e.data[g];return T1(m,t,e,n,r,i,o,u),d!=null&&Eg(t,m,f),m}var b1=S1;function S1(t,e,n,r){return Zu(!0),e[Ce].createComment("")}var Cg=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Tg=new V("");function ii(t){return!!t&&typeof t.then=="function"}function OD(t){return!!t&&typeof t.subscribe=="function"}var xD=new V("");var bg=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=N(xD,{optional:!0})??[];injector=N(Qe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Fe(this.injector,i);if(ii(o))n.push(o);else if(OD(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sl=new V("");function kD(){ef(()=>{let t="";throw new j(600,t)})}function FD(t){return t.isBoundToModule}var A1=10;var pr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Tt);afterRenderManager=N(tD);zonelessEnabled=N(ca);rootEffectScheduler=N(bp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Oe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(cn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ne(n=>!n))}constructor(){N(ga,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=N(ke);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Qe.NULL){return this._injector.get(pe).run(()=>{fe(10);let s=n instanceof Tl;if(!this._injector.get(bg).done){let A="";throw new j(405,A)}let u;s?u=n:u=this._injector.get(ma).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let d=FD(u)?void 0:this._injector.get(wo),f=r||u.selector,g=u.create(i,[],f,d),m=g.location.nativeElement,v=g.injector.get(Tg,null);return v?.registerApplication(m),g.onDestroy(()=>{this.detachView(g.hostView),da(this.components,g),v?.unregisterApplication(m)}),this._loadComponent(g),fe(11,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(fg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let n=z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,z(n),this.afterTick.next(),fe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<A1;)fe(14),this.synchronizeOnce(),fe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!oa(i))continue;let o=r&&!this.zonelessEnabled?0:1;gD(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>oa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;da(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Sl,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>da(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function da(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Pz=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Sg(t,e,n,r,i,o,s,c){ni("NgControlFlow");let u=ye(),d=Ct(),f=lr(d.consts,o);return PD(u,d,t,e,n,r,i,f,256,s,c),Ag}function Ag(t,e,n,r,i,o,s,c){ni("NgControlFlow");let u=ye(),d=Ct(),f=lr(d.consts,o);return PD(u,d,t,e,n,r,i,f,512,s,c),Ag}function Rg(t,e){ni("NgControlFlow");let n=ye(),r=aa(),i=n[r]!==kn?n[r]:-1,o=i!==-1?hw(n,rt+i):void 0,s=0;if(va(n,r,t)){let c=z(null);try{if(o!==void 0&&RM(o,s),t!==-1){let u=rt+t,d=hw(n,u),f=R1(n[H],u),g=FM(d,f,n),m=gM(n,f,e,{dehydratedView:g});ED(d,m,s,Kp(f,g))}}finally{z(c)}}else if(o!==void 0){let c=AM(o,s);c!==void 0&&(c[nt]=e)}}function hw(t,e){return t[e]}function R1(t,e){return ia(t,e)}function Ia(t,e,n){let r=ye(),i=aa();if(va(r,i,e)){let o=Ct(),s=_p();aD(s,r,t,e,r[Ce],n)}return Ia}function fw(t,e,n,r,i){Ig(e,t,n,i?"class":"style",r)}function lt(t,e,n,r){let i=ye(),o=i[H],s=t+rt,c=o.firstCreatePass?TD(s,i,2,e,uM,DI(),n,r):o.data[s];if(cD(c,i,t,e,LD),zu(c)){let u=i[H];sD(u,i,c),$w(u,c,i)}return r!=null&&Eg(i,c),lt}function bt(){let t=Ct(),e=vt(),n=uD(e);return t.firstCreatePass&&bD(t,n),lp(n)&&dp(),up(),n.classesWithoutHost!=null&&$R(n)&&fw(t,n,ye(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&HR(n)&&fw(t,n,ye(),n.stylesWithoutHost,!1),bt}function Ln(t,e,n,r){return lt(t,e,n,r),bt(),Ln}function gr(t,e,n,r){let i=ye(),o=i[H],s=t+rt,c=o.firstCreatePass?KM(s,o,2,e,n,r):o.data[s];return cD(c,i,t,e,LD),r!=null&&Eg(i,c),gr}function Ao(){let t=vt(),e=uD(t);return lp(e)&&dp(),up(),Ao}function Al(t,e,n,r){return gr(t,e,n,r),Ao(),Al}var LD=(t,e,n,r,i)=>(Zu(!0),Gw(e[Ce],r,LI()));var wa="en-US";var N1=wa;function VD(t){typeof t=="string"&&(N1=t.toLowerCase().replace(/_/g,"-"))}function oi(t,e,n){let r=ye(),i=Ct(),o=vt();return UD(i,r,r[Ce],o,t,e,n),oi}function UD(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=Np(r,e,o),QM(r,t,e,s,n,i,o,u)&&(c=!1)),c){let d=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let g=0;g<f.length;g+=2){let m=f[g],v=f[g+1];u??=Np(r,e,o),cw(r,e,m,v,i,u)}if(d&&d.length)for(let g of d)u??=Np(r,e,o),cw(r,e,g,i,i,u)}}function Ng(t=1){return FI(t)}function Xu(t,e){return t<<17|e<<2}function ei(t){return t>>17&32767}function M1(t){return(t&2)==2}function P1(t,e){return t&131071|e<<17}function Xp(t){return t|2}function Do(t){return(t&131068)>>2}function Op(t,e){return t&-131069|e<<2}function O1(t){return(t&1)===1}function eg(t){return t|1}function x1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ei(s),u=Do(s);t[r]=n;let d=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||uo(g,f)>0)&&(d=!0)}else f=n;if(i)if(u!==0){let m=ei(t[c+1]);t[r+1]=Xu(m,c),m!==0&&(t[m+1]=Op(t[m+1],r)),t[c+1]=P1(t[c+1],r)}else t[r+1]=Xu(c,0),c!==0&&(t[c+1]=Op(t[c+1],r)),c=r;else t[r+1]=Xu(u,0),c===0?c=r:t[u+1]=Op(t[u+1],r),u=r;d&&(t[r+1]=Xp(t[r+1])),pw(t,f,r,!0),pw(t,f,r,!1),k1(e,f,t,r,o),s=Xu(c,u),o?e.classBindings=s:e.styleBindings=s}function k1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&uo(o,e)>=0&&(n[r+1]=eg(n[r+1]))}function pw(t,e,n,r){let i=t[n+1],o=e===null,s=r?ei(i):Do(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],d=t[s+1];F1(u,e)&&(c=!0,t[s+1]=r?eg(d):Xp(d)),s=r?ei(d):Do(d)}c&&(t[n+1]=r?Xp(i):eg(i))}function F1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?uo(t,e)>=0:!1}function Rl(t,e){return L1(t,e,null,!0),Rl}function L1(t,e,n,r){let i=ye(),o=Ct(),s=AI(2);if(o.firstUpdatePass&&U1(o,t,s,r),e!==kn&&va(i,s,e)){let c=o.data[Qr()];z1(o,c,i,i[Ce],t,i[s+1]=q1(e,n),r,s)}}function V1(t,e){return e>=t.expandoStartIndex}function U1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Qr()],s=V1(t,n);G1(o,r)&&e===null&&!s&&(e=!1),e=j1(i,o,e,r),x1(i,o,e,n,s,r)}}function j1(t,e,n,r){let i=PI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=xp(null,t,e,n,r),n=pa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=xp(i,t,e,n,r),o===null){let u=B1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=xp(null,t,e,u[1],r),u=pa(u,e.attrs,r),$1(t,e,r,u))}else o=H1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function B1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Do(r)!==0)return t[ei(r)]}function $1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ei(i)]=r}function H1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=pa(r,s,n)}return pa(r,e.attrs,n)}function xp(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=pa(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function pa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),oI(t,s,n?!0:e[++o]))}return t===void 0?null:t}function z1(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],f=O1(d)?gw(u,e,n,i,Do(d),s):void 0;if(!yl(f)){yl(o)||M1(d)&&(o=gw(u,null,n,i,c,s));let g=op(Qr(),n);XN(r,s,g,i,o)}}function gw(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],d=Array.isArray(u),f=d?u[1]:u,g=f===null,m=n[i+1];m===kn&&(m=g?wt:void 0);let v=g?Bu(m,r):f===r?m:void 0;if(d&&!yl(v)&&(v=Bu(u,r)),yl(v)&&(c=v,s))return c;let A=t[i+1];i=s?ei(A):Do(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Bu(u,r))}return c}function yl(t){return t!==void 0}function q1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Sn(Hw(t)))),t}function G1(t,e){return(t.flags&(e?8:16))!==0}function dt(t,e=""){let n=ye(),r=Ct(),i=t+rt,o=r.firstCreatePass?Cl(r,i,1,e,null):r.data[i],s=W1(r,n,o,e,t);n[i]=s,Yu()&&vg(r,n,s,o),po(o,!1)}var W1=(t,e,n,r,i)=>(Zu(!0),DN(e[Ce],r));function K1(t,e,n,r=""){return va(t,aa(),n)?e+qf(n)+r:kn}function Da(t,e,n){let r=ye(),i=K1(r,t,e,n);return i!==kn&&Q1(r,Qr(),i),Da}function Q1(t,e,n){let r=op(e,t);CN(t[Ce],r,n)}function Nl(t,e,n){Dp(e)&&(e=e());let r=ye(),i=aa();if(va(r,i,e)){let o=Ct(),s=_p();aD(s,r,t,e,r[Ce],n)}return Nl}function Mg(t,e){let n=Dp(t);return n&&t.set(e),n}function Ml(t,e){let n=ye(),r=Ct(),i=vt();return UD(r,n,n[Ce],i,t,e),Ml}function Y1(t,e,n){let r=Ct();if(r.firstCreatePass){let i=sn(t);tg(n,r.data,r.blueprint,i,!0),tg(e,r.data,r.blueprint,i,!1)}}function tg(t,e,n,r,i){if(t=We(t),Array.isArray(t))for(let o=0;o<t.length;o++)tg(t[o],e,n,r,i);else{let o=Ct(),s=ye(),c=vt(),u=jr(t)?t:We(t.provide),d=tp(t),f=c.providerIndexes&1048575,g=c.directiveStart,m=c.providerIndexes>>20;if(jr(t)||!t.multi){let v=new Zr(d,i,Te,null),A=Fp(u,e,i?f:f+m,g);A===-1?(Vp(sl(c,s),o,u),kp(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),s.push(v)):(n[A]=v,s[A]=v)}else{let v=Fp(u,e,f+m,g),A=Fp(u,e,f,f+m),O=v>=0&&n[v],P=A>=0&&n[A];if(i&&!P||!i&&!O){Vp(sl(c,s),o,u);let F=X1(i?J1:Z1,n.length,i,r,d,t);!i&&P&&(n[A].providerFactory=F),kp(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=jD(n[i?A:v],d,!i&&r);kp(o,t,v>-1?v:A,F)}!i&&r&&P&&n[A].componentProviders++}}}function kp(t,e,n,r){let i=jr(e),o=dI(e);if(i||o){let u=(o?We(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,u]):d[f+1].push(r,u)}else d.push(n,u)}}}function jD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Z1(t,e,n,r,i){return ng(this.multi,[])}function J1(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=al(r,r[H],this.providerFactory.index,i);s=u.slice(0,c),ng(o,s);for(let d=c;d<u.length;d++)s.push(u[d])}else s=[],ng(o,s);return s}function ng(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function X1(t,e,n,r,i,o){let s=new Zr(t,n,Te,null);return s.multi=[],s.index=e,s.componentProviders=0,jD(s,i,r&&!n),s}function Pl(t,e=[]){return n=>{n.providersResolver=(r,i)=>Y1(r,i?i(t):t,e)}}var vl=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Pg=(()=>{class t{compileModuleSync(n){return new ml(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Zf(n),o=zw(i.declarations).reduce((s,c)=>{let u=sr(c);return u&&s.push(new Io(u)),s},[]);return new vl(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var eP=(()=>{class t{zone=N(pe);changeDetectionScheduler=N(ir);applicationRef=N(pr);applicationErrorHandler=N(Tt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BD=new V("",{factory:()=>!1});function Og({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new pe(Z(k({},kg()),{scheduleInRootZone:n})),[{provide:pe,useFactory:t},{provide:Rn,multi:!0,useFactory:()=>{let r=N(eP,{optional:!0});return()=>r.initialize()}},{provide:Rn,multi:!0,useFactory:()=>{let r=N(tP);return()=>{r.initialize()}}},e===!0?{provide:Cp,useValue:!0}:[],{provide:Tp,useValue:n??Jw},{provide:Tt,useFactory:()=>{let r=N(pe),i=N(ke),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(rn),o.handleError(s))})}}}]}function xg(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Og({ngZoneFactory:()=>{let i=kg(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ni("NgZone_CoalesceEvent"),new pe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Gt([{provide:BD,useValue:!0},{provide:ca,useValue:!1},r])}function kg(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var tP=(()=>{class t{subscription=new _e;initialized=!1;zone=N(pe);pendingTasks=N(cn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $D=(()=>{class t{applicationErrorHandler=N(Tt);appRef=N(pr);taskService=N(cn);ngZone=N(pe);zonelessEnabled=N(ca);tracing=N(ga,{optional:!0});disableScheduling=N(Cp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ul):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Tp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ll||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?ZI:Xw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ul+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ZI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nP(){return typeof $localize<"u"&&$localize.locale||wa}var Fg=new V("",{providedIn:"root",factory:()=>N(Fg,{optional:!0,skipSelf:!0})||nP()});function ht(t){return QE(t)}function Ca(t,e){return cu(t,e?.equal)}var HD=class{[tt];constructor(e){this[tt]=e}destroy(){this[tt].destroy()}};var GD=Symbol("InputSignalNode#UNSET"),gP=Z(k({},uu),{transformFn:void 0,applyValueToInputSignal(t,e){Wi(t,e)}});function WD(t,e){let n=Object.create(gP);n.value=t,n.transformFn=e?.transform;function r(){if(zi(n),n.value===GD){let i=null;throw new j(-950,i)}return n.value}return r[tt]=n,r}var mP=new V("");mP.__NG_ELEMENT_ID__=t=>{let e=vt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new j(204,!1)};function zD(t,e){return WD(t,e)}function yP(t){return WD(GD,t)}var KD=(zD.required=yP,zD);var Lg=new V(""),vP=new V("");function Ta(t){return!t.moduleRef}function _P(t){let e=Ta(t)?t.r3Injector:t.moduleRef.injector,n=e.get(pe);return n.run(()=>{Ta(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Tt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ta(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Lg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Lg);s.add(o),t.moduleRef.onDestroy(()=>{da(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return IP(r,n,()=>{let o=e.get(cn),s=o.add(),c=e.get(bg);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Fg,wa);if(VD(u||wa),!e.get(vP,!0))return Ta(t)?e.get(pr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ta(t)){let f=e.get(pr);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return EP?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var EP;function IP(t,e,n){try{let r=n();return ii(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ol=null;function wP(t=[],e){return Qe.create({name:e,providers:[{provide:Ys,useValue:"platform"},{provide:Lg,useValue:new Set([()=>Ol=null])},...t]})}function DP(t=[]){if(Ol)return Ol;let e=wP(t);return Ol=e,kD(),CP(e),e}function CP(t){let e=t.get(El,null);Fe(t,()=>{e?.forEach(n=>n())})}function Ug(){return!1}var ba=(()=>{class t{static __NG_ELEMENT_ID__=TP}return t})();function TP(t){return bP(vt(),ye(),(t&16)===16)}function bP(t,e,n){if(ur(t)&&!n){let r=Vt(t.index,e);return new Jr(r,r)}else if(t.type&175){let r=e[Ft];return new Jr(r,e)}return null}function QD(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;fe(8);try{let o=i?.injector??DP(r),s=[Og({}),{provide:ir,useExisting:$D},UI,...n||[]],c=new fa({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return _P({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{fe(9)}}function jg(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var JD=null;function jt(){return JD}function Bg(t){JD??=t}var Sa=class{},$g=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>N(XD),providedIn:"platform"})}return t})();var XD=(()=>{class t extends $g{_location;_history;_doc=N(Be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jt().getBaseHref(this._doc)}onPopState(n){let r=jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function e0(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function YD(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function mr(t){return t&&t[0]!=="?"?`?${t}`:t}var xl=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>N(n0),providedIn:"root"})}return t})(),t0=new V(""),n0=(()=>{class t extends xl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return e0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+mr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+mr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+mr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(K($g),K(t0,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ro=(()=>{class t{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=RP(YD(ZD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+mr(r))}normalize(n){return t.stripTrailingSlash(AP(this._basePath,ZD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=mr;static joinWithSlash=e0;static stripTrailingSlash=YD;static \u0275fac=function(r){return new(r||t)(K(xl))};static \u0275prov=B({token:t,factory:()=>SP(),providedIn:"root"})}return t})();function SP(){return new Ro(K(xl))}function AP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ZD(t){return t.replace(/\/index.html$/,"")}function RP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var kl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=fr({type:t});static \u0275inj=An({})}return t})();function Hg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Aa=class{};var r0="browser";var Ra=class{_doc;constructor(e){this._doc=e}manager},Fl=(()=>{class t extends Ra{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(K(Be))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Vl=new V(""),Kg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Fl));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Fl);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(K(Vl),K(pe))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),zg="ng-app-id";function i0(t){for(let e of t)e.remove()}function o0(t,e){let n=e.createElement("style");return n.textContent=t,n}function MP(t,e,n,r){let i=t.head?.querySelectorAll(`style[${zg}="${e}"],link[${zg}="${e}"]`);if(i)for(let o of i)o.removeAttribute(zg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Gg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Qg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,MP(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,o0);r?.forEach(i=>this.addUsage(i,this.external,Gg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(i0(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])i0(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,o0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Gg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(K(Be),K(_l),K(Il,8),K(hr))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),qg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yg=/%COMP%/g;var a0="%COMP%",PP=`_nghost-${a0}`,OP=`_ngcontent-${a0}`,xP=!0,kP=new V("",{providedIn:"root",factory:()=>xP});function FP(t){return OP.replace(Yg,t)}function LP(t){return PP.replace(Yg,t)}function c0(t,e){return e.map(n=>n.replace(Yg,t))}var Zg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u,d=null,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=d,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new Na(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Ll?i.applyToHost(n):i instanceof Ma&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Pn.Emulated:o=new Ll(u,d,r,this.appId,f,s,c,g,m);break;case Pn.ShadowDom:return new Wg(u,d,n,r,s,c,this.nonce,g,m);default:o=new Ma(u,d,r,f,s,c,g,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(K(Kg),K(Qg),K(_l),K(kP),K(Be),K(hr),K(pe),K(Il),K(ga,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Na=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(qg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(s0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(s0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=qg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=qg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(n,r,i&On.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&On.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=jt().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function s0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wg=class extends Na{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,u,d){super(e,o,s,u,d),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=c0(i.id,f);for(let m of f){let v=document.createElement("style");c&&v.setAttribute("nonce",c),v.textContent=m,this.shadowRoot.appendChild(v)}let g=i.getExternalStyles?.();if(g)for(let m of g){let v=Gg(m,o);c&&v.setAttribute("nonce",c),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ma=class extends Na{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u,d){super(e,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=d?c0(d,f):f,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Eo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ll=class extends Ma{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u,d){let f=i+"-"+r.id;super(e,n,r,o,s,c,u,d,f),this.contentAttr=FP(f),this.hostAttr=LP(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ul=class t extends Sa{supportsDOMEvents=!0;static makeCurrent(){Bg(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=VP();return n==null?null:UP(n)}resetBaseElement(){Pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hg(document.cookie,e)}},Pa=null;function VP(){return Pa=Pa||document.head.querySelector("base"),Pa?Pa.getAttribute("href"):null}function UP(t){return new URL(t,document.baseURI).pathname}var jP=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),u0=["alt","control","meta","shift"],BP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$P={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},l0=(()=>{class t extends Ra{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jt().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),u0.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=BP[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),u0.forEach(s=>{if(s!==i){let c=$P[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(K(Be))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function Jg(t,e,n){let r=k({rootComponent:t,platformRef:n?.platformRef},HP(e));return QD(r)}function HP(t){return{appProviders:[...KP,...t?.providers??[]],platformProviders:WP}}function zP(){Ul.makeCurrent()}function qP(){return new rn}function GP(){return sg(document),document}var WP=[{provide:hr,useValue:r0},{provide:El,useValue:zP,multi:!0},{provide:Be,useFactory:GP}];var KP=[{provide:Ys,useValue:"root"},{provide:rn,useFactory:qP},{provide:Vl,useClass:Fl,multi:!0,deps:[Be]},{provide:Vl,useClass:l0,multi:!0,deps:[Be]},Zg,Qg,Kg,{provide:Xr,useExisting:Zg},{provide:Aa,useClass:jP},[]];var d0=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(K(Be))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var W="primary",Wa=Symbol("RouteTitle"),rm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ci(t){return new rm(t)}function _0(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function YP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dn(t[n],e[n]))return!1;return!0}function dn(t,e){let n=t?im(t):void 0,r=e?im(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!E0(t[i],e[i]))return!1;return!0}function im(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function E0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function I0(t){return t.length>0?t[t.length-1]:null}function jn(t){return yf(t)?t:ii(t)?Ee(Promise.resolve(t)):$(t)}var ZP={exact:D0,subset:C0},w0={exact:JP,subset:XP,ignored:()=>!0};function h0(t,e,n){return ZP[n.paths](t.root,e.root,n.matrixParams)&&w0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function JP(t,e){return dn(t,e)}function D0(t,e,n){if(!si(t.segments,e.segments)||!$l(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!D0(t.children[r],e.children[r],n))return!1;return!0}function XP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>E0(t[n],e[n]))}function C0(t,e,n){return T0(t,e,e.segments,n)}function T0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!si(i,n)||e.hasChildren()||!$l(i,n,r))}else if(t.segments.length===n.length){if(!si(t.segments,n)||!$l(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!C0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!si(t.segments,i)||!$l(t.segments,i,r)||!t.children[W]?!1:T0(t.children[W],e,o,r)}}function $l(t,e,n){return e.every((r,i)=>w0[n](t[i].parameters,r.parameters))}var fn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ci(this.queryParams),this._queryParamMap}toString(){return nO.serialize(this)}},ue=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hl(this)}},yr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ci(this.parameters),this._parameterMap}toString(){return S0(this)}};function eO(t,e){return si(t,e)&&t.every((n,r)=>dn(n.parameters,e[r].parameters))}function si(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function tO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===W&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==W&&(n=n.concat(e(i,r)))}),n}var Ka=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new ui,providedIn:"root"})}return t})(),ui=class{parse(e){let n=new sm(e);return new fn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Oa(e.root,!0)}`,r=oO(e.queryParams),i=typeof e.fragment=="string"?`#${rO(e.fragment)}`:"";return`${n}${r}${i}`}},nO=new ui;function Hl(t){return t.segments.map(e=>S0(e)).join("/")}function Oa(t,e){if(!t.hasChildren())return Hl(t);if(e){let n=t.children[W]?Oa(t.children[W],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==W&&r.push(`${i}:${Oa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=tO(t,(r,i)=>i===W?[Oa(t.children[W],!1)]:[`${i}:${Oa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[W]!=null?`${Hl(t)}/${n[0]}`:`${Hl(t)}/(${n.join("//")})`}}function b0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jl(t){return b0(t).replace(/%3B/gi,";")}function rO(t){return encodeURI(t)}function om(t){return b0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zl(t){return decodeURIComponent(t)}function f0(t){return zl(t.replace(/\+/g,"%20"))}function S0(t){return`${om(t.path)}${iO(t.parameters)}`}function iO(t){return Object.entries(t).map(([e,n])=>`;${om(e)}=${om(n)}`).join("")}function oO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${jl(n)}=${jl(i)}`).join("&"):`${jl(n)}=${jl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var sO=/^[^\/()?;#]+/;function Xg(t){let e=t.match(sO);return e?e[0]:""}var aO=/^[^\/()?;=#]+/;function cO(t){let e=t.match(aO);return e?e[0]:""}var uO=/^[^=?&#]+/;function lO(t){let e=t.match(uO);return e?e[0]:""}var dO=/^[^&#]+/;function hO(t){let e=t.match(dO);return e?e[0]:""}var sm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[W]=new ue(e,n)),r}parseSegment(){let e=Xg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new yr(zl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=cO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Xg(this.remaining);i&&(r=i,this.capture(r))}e[zl(n)]=zl(r)}parseQueryParam(e){let n=lO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=hO(this.remaining);s&&(r=s,this.capture(r))}let i=f0(n),o=f0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=W);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[W]:new ue([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function A0(t){return t.segments.length>0?new ue([],{[W]:t}):t}function R0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=R0(i);if(r===W&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ue(t.segments,e);return fO(n)}function fO(t){if(t.numberOfChildren===1&&t.children[W]){let e=t.children[W];return new ue(t.segments.concat(e.segments),e.children)}return t}function xo(t){return t instanceof fn}function N0(t,e,n=null,r=null){let i=M0(t);return P0(i,e,n,r)}function M0(t){let e;function n(o){let s={};for(let u of o.children){let d=n(u);s[u.outlet]=d}let c=new ue(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=A0(r);return e??i}function P0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return em(i,i,i,n,r);let o=pO(e);if(o.toRoot())return em(i,i,new ue([],{}),n,r);let s=gO(o,i,t),c=s.processChildren?ka(s.segmentGroup,s.index,o.commands):x0(s.segmentGroup,s.index,o.commands);return em(i,s.segmentGroup,c,n,r)}function ql(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Va(t){return typeof t=="object"&&t!=null&&t.outlets}function em(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;t===e?s=n:s=O0(t,e,n);let c=A0(R0(s));return new fn(c,o,i)}function O0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=O0(o,e,n)}),new ue(t.segments,r)}var Gl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ql(r[0]))throw new j(4003,!1);let i=r.find(Va);if(i&&i!==I0(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Gl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Gl(n,e,r)}var Po=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function gO(t,e,n){if(t.isAbsolute)return new Po(e,!0,0);if(!n)return new Po(e,!1,NaN);if(n.parent===null)return new Po(n,!0,0);let r=ql(t.commands[0])?0:1,i=n.segments.length-1+r;return mO(n,i,t.numberOfDoubleDots)}function mO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Po(r,!1,i-o)}function yO(t){return Va(t[0])?t[0].outlets:{[W]:t}}function x0(t,e,n){if(t??=new ue([],{}),t.segments.length===0&&t.hasChildren())return ka(t,e,n);let r=vO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ue(t.segments.slice(0,r.pathIndex),{});return o.children[W]=new ue(t.segments.slice(r.pathIndex),t.children),ka(o,0,i)}else return r.match&&i.length===0?new ue(t.segments,{}):r.match&&!t.hasChildren()?am(t,e,n):r.match?ka(t,0,i):am(t,e,n)}function ka(t,e,n){if(n.length===0)return new ue(t.segments,{});{let r=yO(n),i={};if(Object.keys(r).some(o=>o!==W)&&t.children[W]&&t.numberOfChildren===1&&t.children[W].segments.length===0){let o=ka(t.children[W],e,n);return new ue(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=x0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ue(t.segments,i)}}function vO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(Va(c))break;let u=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!g0(u,d,s))return o;r+=2}else{if(!g0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function am(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Va(o)){let u=_O(o.outlets);return new ue(r,u)}if(i===0&&ql(n[0])){let u=t.segments[e];r.push(new yr(u.path,p0(n[0]))),i++;continue}let s=Va(o)?o.outlets[W]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&ql(c)?(r.push(new yr(s,p0(c))),i+=2):(r.push(new yr(s,{})),i++)}return new ue(r,{})}function _O(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=am(new ue([],{}),0,r))}),e}function p0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function g0(t,e,n){return t==n.path&&dn(e,n.parameters)}var Fa="imperative",$e=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})($e||{}),At=class{id;url;constructor(e,n){this.id=e,this.url=n}},li=class extends At{type=$e.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vn=class extends At{urlAfterRedirects;type=$e.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ft=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(ft||{}),Ua=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Ua||{}),hn=class extends At{reason;code;type=$e.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Un=class extends At{reason;code;type=$e.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ko=class extends At{error;target;type=$e.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ja=class extends At{urlAfterRedirects;state;type=$e.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wl=class extends At{urlAfterRedirects;state;type=$e.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kl=class extends At{urlAfterRedirects;state;shouldActivate;type=$e.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ql=class extends At{urlAfterRedirects;state;type=$e.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yl=class extends At{urlAfterRedirects;state;type=$e.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zl=class{route;type=$e.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Jl=class{route;type=$e.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xl=class{snapshot;type=$e.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ed=class{snapshot;type=$e.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},td=class{snapshot;type=$e.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nd=class{snapshot;type=$e.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ba=class{},Fo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function EO(t){return!(t instanceof Ba)&&!(t instanceof Fo)}function IO(t,e){return t.providers&&!t._injector&&(t._injector=Ea(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zt(t){return t.outlet||W}function wO(t,e){let n=t.filter(r=>Zt(r)===e);return n.push(...t.filter(r=>Zt(r)!==e)),n}function Uo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var rd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Uo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new jo(this.rootInjector)}},jo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new rd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(K(ke))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),id=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=cm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=cm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=um(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return um(e,this._root).map(n=>n.value)}};function cm(t,e){if(t===e.value)return e;for(let n of e.children){let r=cm(t,n);if(r)return r}return null}function um(t,e){if(t===e.value)return[e];for(let n of e.children){let r=um(t,n);if(r.length)return r.unshift(e),r}return[]}var St=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Mo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var $a=class extends id{snapshot;constructor(e,n){super(e),this.snapshot=n,ym(this,e)}toString(){return this.snapshot.toString()}};function k0(t){let e=DO(t),n=new Ge([new yr("",{})]),r=new Ge({}),i=new Ge({}),o=new Ge({}),s=new Ge(""),c=new vr(n,r,o,s,i,W,t,e.root);return c.snapshot=e.root,new $a(new St(c,[]),e)}function DO(t){let e={},n={},r={},o=new ai([],e,r,"",n,W,t,null,{});return new Ha("",new St(o,[]))}var vr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(d=>d[Wa]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>ci(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>ci(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function od(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&L0(i)&&(r.resolve[Wa]=i.title),r}var ai=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Wa]}constructor(e,n,r,i,o,s,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ci(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ha=class extends id{url;constructor(e,n){super(n),this.url=e,ym(this,n)}toString(){return F0(this._root)}};function ym(t,e){e.value._routerState=t,e.children.forEach(n=>ym(t,n))}function F0(t){let e=t.children.length>0?` { ${t.children.map(F0).join(", ")} } `:"";return`${t.value}${e}`}function tm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),dn(e.params,n.params)||t.paramsSubject.next(n.params),YP(e.url,n.url)||t.urlSubject.next(n.url),dn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function lm(t,e){let n=dn(t.params,e.params)&&eO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||lm(t.parent,e.parent))}function L0(t){return typeof t.title=="string"||t.title===null}var V0=new V(""),Qa=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=W;activateEvents=new Le;deactivateEvents=new Le;attachEvents=new Le;detachEvents=new Le;routerOutletData=KD(void 0);parentContexts=N(jo);location=N(_a);changeDetector=N(ba);inputBinder=N(ud,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new dm(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ln({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[To]})}return t})(),dm=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===vr?this.route:e===jo?this.childContexts:e===V0?this.outletData:this.parent.get(e,n)}},ud=new V("");var vm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Fn({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ln(0,"router-outlet")},dependencies:[Qa],encapsulation:2})}return t})();function _m(t){let e=t.children&&t.children.map(_m),n=e?Z(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==W&&(n.component=vm),n}function CO(t,e,n){let r=za(t,e._root,n?n._root:void 0);return new $a(r,e)}function za(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=TO(t,e,n);return new St(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>za(t,c)),s}}let r=bO(e.value),i=e.children.map(o=>za(t,o));return new St(r,i)}}function TO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return za(t,r,i);return za(t,r)})}function bO(t){return new vr(new Ge(t.url),new Ge(t.params),new Ge(t.queryParams),new Ge(t.fragment),new Ge(t.data),t.outlet,t.component,t)}var Lo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},U0="ngNavigationCancelingError";function sd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=xo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=j0(!1,ft.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function j0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[U0]=!0,n.cancellationCode=e,n}function SO(t){return B0(t)&&xo(t.url)}function B0(t){return!!t&&t[U0]}var AO=(t,e,n,r)=>ne(i=>(new hm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),hm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),tm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Mo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Mo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ed(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(tm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),tm(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ad=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Oo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function RO(t,e,n){let r=t._root,i=e?e._root:null;return xa(r,i,n,[r.value])}function NO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Bo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Uf(t)?t:e.get(t):r}function xa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Mo(e);return t.children.forEach(s=>{MO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>La(c,n.getContext(s),i)),i}function MO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=PO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ad(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?xa(t,e,c?c.children:null,r,i):xa(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Oo(c.outlet.component,s))}else s&&La(e,c,i),i.canActivateChecks.push(new ad(r)),o.component?xa(t,null,c?c.children:null,r,i):xa(t,null,n,r,i);return i}function PO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!si(t.url,e.url);case"pathParamsOrQueryParamsChange":return!si(t.url,e.url)||!dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lm(t,e)||!dn(t.queryParams,e.queryParams);case"paramsChange":default:return!lm(t,e)}}function La(t,e,n){let r=Mo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?La(s,e.children.getContext(o),n):La(s,null,n):La(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Oo(e.outlet.component,i)):n.canDeactivateChecks.push(new Oo(null,i)):n.canDeactivateChecks.push(new Oo(null,i))}function Ya(t){return typeof t=="function"}function OO(t){return typeof t=="boolean"}function xO(t){return t&&Ya(t.canLoad)}function kO(t){return t&&Ya(t.canActivate)}function FO(t){return t&&Ya(t.canActivateChild)}function LO(t){return t&&Ya(t.canDeactivate)}function VO(t){return t&&Ya(t.canMatch)}function $0(t){return t instanceof Dn||t?.name==="EmptyError"}var Bl=Symbol("INITIAL_VALUE");function Vo(){return yt(t=>Pu(t.map(e=>e.pipe(Cn(1),If(Bl)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===Bl)return Bl;if(n===!1||UO(n))return n}return!0}),Ot(e=>e!==Bl),Cn(1)))}function UO(t){return xo(t)||t instanceof Lo}function jO(t,e){return xe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?$(Z(k({},n),{guardsResult:!0})):BO(s,r,i,t).pipe(xe(c=>c&&OO(c)?$O(r,o,t,e):$(c)),ne(c=>Z(k({},n),{guardsResult:c})))})}function BO(t,e,n,r){return Ee(t).pipe(xe(i=>WO(i.component,i.route,n,e,r)),Tn(i=>i!==!0,!0))}function $O(t,e,n,r){return Ee(e).pipe(so(i=>oo(zO(i.route.parent,r),HO(i.route,r),GO(t,i.path,n),qO(t,i.route,n))),Tn(i=>i!==!0,!0))}function HO(t,e){return t!==null&&e&&e(new td(t)),$(!0)}function zO(t,e){return t!==null&&e&&e(new Xl(t)),$(!0)}function qO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(o=>Hs(()=>{let s=Uo(e)??n,c=Bo(o,s),u=kO(c)?c.canActivate(e,t):Fe(s,()=>c(e,t));return jn(u).pipe(Tn())}));return $(i).pipe(Vo())}function GO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>NO(s)).filter(s=>s!==null).map(s=>Hs(()=>{let c=s.guards.map(u=>{let d=Uo(s.node)??n,f=Bo(u,d),g=FO(f)?f.canActivateChild(r,t):Fe(d,()=>f(r,t));return jn(g).pipe(Tn())});return $(c).pipe(Vo())}));return $(o).pipe(Vo())}function WO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let s=o.map(c=>{let u=Uo(e)??i,d=Bo(c,u),f=LO(d)?d.canDeactivate(t,e,n,r):Fe(u,()=>d(t,e,n,r));return jn(f).pipe(Tn())});return $(s).pipe(Vo())}function KO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let o=i.map(s=>{let c=Bo(s,t),u=xO(c)?c.canLoad(e,n):Fe(t,()=>c(e,n));return jn(u)});return $(o).pipe(Vo(),H0(r))}function H0(t){return uf(je(e=>{if(typeof e!="boolean")throw sd(t,e)}),ne(e=>e===!0))}function QO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let o=i.map(s=>{let c=Bo(s,t),u=VO(c)?c.canMatch(e,n):Fe(t,()=>c(e,n));return jn(u)});return $(o).pipe(Vo(),H0(r))}var qa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ga=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function No(t){return io(new qa(t))}function YO(t){return io(new j(4e3,!1))}function ZO(t){return io(j0(!1,ft.GuardRejected))}var fm=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[W])return YO(`${e.redirectTo}`);i=i.children[W]}}applyRedirectCommands(e,n,r,i,o){return JO(n,i,o).pipe(ne(s=>{if(s instanceof fn)throw new Ga(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ga(c);return c}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new fn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ue(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function JO(t,e,n){if(typeof t=="string")return $(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:d,data:f,title:g}=e;return jn(Fe(n,()=>r({params:d,data:f,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:g})))}var pm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XO(t,e,n,r,i){let o=z0(t,e,n);return o.matched?(r=IO(e,r),QO(r,e,n,i).pipe(ne(s=>s===!0?o:k({},pm)))):$(o)}function z0(t,e,n){if(e.path==="**")return ex(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},pm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_0)(n,t,e);if(!i)return k({},pm);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ex(t){return{matched:!0,parameters:t.length>0?I0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function m0(t,e,n,r){return n.length>0&&rx(t,n,r)?{segmentGroup:new ue(e,nx(r,new ue(n,t.children))),slicedSegments:[]}:n.length===0&&ix(t,n,r)?{segmentGroup:new ue(t.segments,tx(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ue(t.segments,t.children),slicedSegments:n}}function tx(t,e,n,r){let i={};for(let o of n)if(ld(t,e,o)&&!r[Zt(o)]){let s=new ue([],{});i[Zt(o)]=s}return k(k({},r),i)}function nx(t,e){let n={};n[W]=e;for(let r of t)if(r.path===""&&Zt(r)!==W){let i=new ue([],{});n[Zt(r)]=i}return n}function rx(t,e,n){return n.some(r=>ld(t,e,r)&&Zt(r)!==W)}function ix(t,e,n){return n.some(r=>ld(t,e,r))}function ld(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ox(t,e,n){return e.length===0&&!t.children[n]}var gm=class{};function sx(t,e,n,r,i,o,s="emptyOnly"){return new mm(t,e,n,r,i,s,o).recognize()}var ax=31,mm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new fm(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=m0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new St(r,n),o=new Ha("",i),s=N0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ai([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),W,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,W,n).pipe(ne(r=>({children:r,rootSnapshot:n})),tr(r=>{if(r instanceof Ga)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof St?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ee(o).pipe(so(s=>{let c=r.children[s],u=wO(n,s);return this.processSegmentGroup(e,u,c,s,i)}),Ef((s,c)=>(s.push(...c),s)),nr(null),_f(),xe(s=>{if(s===null)return No(r);let c=q0(s);return cx(c),$(c)}))}processSegment(e,n,r,i,o,s,c){return Ee(n).pipe(so(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(tr(d=>{if(d instanceof qa)return $(null);throw d}))),Tn(u=>!!u),tr(u=>{if($0(u))return ox(r,i,o)?$(new gm):No(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return Zt(r)!==s&&(s===W||!ld(i,o,r))?No(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):No(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:m}=z0(n,i,o);if(!u)return No(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ax&&(this.allowRedirects=!1));let v=new ai(o,d,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,y0(i),Zt(i),i.component??i._loadedComponent??null,i,v0(i)),A=od(v,c,this.paramsInheritanceStrategy);return v.params=Object.freeze(A.params),v.data=Object.freeze(A.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,v,e).pipe(yt(P=>this.applyRedirects.lineralizeSegments(i,P)),xe(P=>this.processSegment(e,r,n,P.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=XO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(yt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yt(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:m,remainingSegments:v}=u,A=new ai(m,g,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,y0(r),Zt(r),r.component??r._loadedComponent??null,r,v0(r)),O=od(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(O.params),A.data=Object.freeze(O.data);let{segmentGroup:P,slicedSegments:F}=m0(n,m,v,d);if(F.length===0&&P.hasChildren())return this.processChildren(f,d,P,A).pipe(ne(re=>new St(A,re)));if(d.length===0&&F.length===0)return $(new St(A,[]));let ee=Zt(r)===o;return this.processSegment(f,d,P,F,ee?W:o,!0,A).pipe(ne(re=>new St(A,re instanceof St?[re]:[])))}))):No(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?$({routes:n._loadedRoutes,injector:n._loadedInjector}):KO(e,n,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,n).pipe(je(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):ZO(n))):$({routes:[],injector:e})}};function cx(t){t.sort((e,n)=>e.value.outlet===W?-1:n.value.outlet===W?1:e.value.outlet.localeCompare(n.value.outlet))}function ux(t){let e=t.value.routeConfig;return e&&e.path===""}function q0(t){let e=[],n=new Set;for(let r of t){if(!ux(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=q0(r.children);e.push(new St(r.value,i))}return e.filter(r=>!n.has(r))}function y0(t){return t.data||{}}function v0(t){return t.resolve||{}}function lx(t,e,n,r,i,o){return xe(s=>sx(t,e,n,r,s.extractedUrl,i,o).pipe(ne(({state:c,tree:u})=>Z(k({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function dx(t,e){return xe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of G0(u))s.add(d);let c=0;return Ee(s).pipe(so(u=>o.has(u)?hx(u,r,t,e):(u.data=od(u,u.parent,t).resolve,$(void 0))),je(()=>c++),ao(1),xe(u=>c===s.size?$(n):gt))})}function G0(t){let e=t.children.map(n=>G0(n)).flat();return[t,...e]}function hx(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!L0(i)&&(o[Wa]=i.title),Hs(()=>(t.data=od(t,t.parent,n).resolve,fx(o,t,e,r).pipe(ne(s=>(t._resolvedData=s,t.data=k(k({},t.data),s),null)))))}function fx(t,e,n,r){let i=im(t);if(i.length===0)return $({});let o={};return Ee(i).pipe(xe(s=>px(t[s],e,n,r).pipe(Tn(),je(c=>{if(c instanceof Lo)throw sd(new ui,c);o[s]=c}))),ao(1),ne(()=>o),tr(s=>$0(s)?gt:io(s)))}function px(t,e,n,r){let i=Uo(e)??r,o=Bo(t,i),s=o.resolve?o.resolve(e,n):Fe(i,()=>o(e,n));return jn(s)}function nm(t){return yt(e=>{let n=t(e);return n?Ee(n).pipe(ne(()=>e)):$(e)})}var Em=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===W);return r}getResolvedTitleForRoute(n){return n.data[Wa]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>N(W0),providedIn:"root"})}return t})(),W0=(()=>{class t extends Em{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(K(d0))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Za=new V("",{providedIn:"root",factory:()=>({})}),Ja=new V(""),K0=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Pg);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=jn(Fe(n,()=>r.loadComponent())).pipe(ne(Y0),yt(Z0),je(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),zs(()=>{this.componentLoaders.delete(r)})),o=new eo(i,()=>new Oe).pipe(Xi());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Q0(r,this.compiler,n,this.onLoadEndListener).pipe(zs(()=>{this.childrenLoaders.delete(r)})),s=new eo(o,()=>new Oe).pipe(Xi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Q0(t,e,n,r){return jn(Fe(n,()=>t.loadChildren())).pipe(ne(Y0),yt(Z0),xe(i=>i instanceof bl||Array.isArray(i)?$(i):Ee(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Ja,[],{optional:!0,self:!0}).flat()),{routes:s.map(_m),injector:o}}))}function gx(t){return t&&typeof t=="object"&&"default"in t}function Y0(t){return gx(t)?t.default:t}function Z0(t){return $(t)}var dd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>N(mx),providedIn:"root"})}return t})(),mx=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),J0=new V("");var X0=new V(""),eC=(()=>{class t{currentNavigation=Ut(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Oe;transitionAbortWithErrorSubject=new Oe;configLoader=N(K0);environmentInjector=N(ke);destroyRef=N(Mn);urlSerializer=N(Ka);rootContexts=N(jo);location=N(Ro);inputBindingEnabled=N(ud,{optional:!0})!==null;titleStrategy=N(Em);options=N(Za,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(dd);createViewTransition=N(J0,{optional:!0});navigationErrorHandler=N(X0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>$(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Zl(i)),r=i=>this.events.next(new Jl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;ht(()=>{this.transitions?.next(Z(k({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new Ge(null),this.transitions.pipe(Ot(r=>r!==null),yt(r=>{let i=!1;return $(r).pipe(yt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ft.SupersededByNewNavigation),gt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Z(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new Un(o.id,this.urlSerializer.serialize(o.rawUrl),"",Ua.IgnoredSameUrlNavigation)),o.resolve(!1),gt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return $(o).pipe(yt(u=>(this.events.next(new li(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?gt:Promise.resolve(u))),lx(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),je(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let d=new ja(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:d,source:f,restoredState:g,extras:m}=o,v=new li(u,this.urlSerializer.serialize(d),f,g);this.events.next(v);let A=k0(this.rootComponentType).snapshot;return this.currentTransition=r=Z(k({},o),{targetSnapshot:A,urlAfterRedirects:d,extras:Z(k({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(O=>(O.finalUrl=d,O)),$(r)}else return this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Ua.IgnoredByUrlHandlingStrategy)),o.resolve(!1),gt}),je(o=>{let s=new Wl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ne(o=>(this.currentTransition=r=Z(k({},o),{guards:RO(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),jO(this.environmentInjector,o=>this.events.next(o)),je(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw sd(this.urlSerializer,o.guardsResult);let s=new Kl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ot(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ft.GuardRejected),!1)),nm(o=>{if(o.guards.canActivateChecks.length!==0)return $(o).pipe(je(s=>{let c=new Ql(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),yt(s=>{let c=!1;return $(s).pipe(dx(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",ft.NoDataFromResolver)}}))}),je(s=>{let c=new Yl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),nm(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let d=Uo(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,c.routeConfig).pipe(je(f=>{c.component=f}),ne(()=>{})))}for(let d of c.children)u.push(...s(d));return u};return Pu(s(o.targetSnapshot.root)).pipe(nr(null),Cn(1))}),nm(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Ee(c).pipe(ne(()=>r)):$(r)}),ne(o=>{let s=CO(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Z(k({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),je(()=>{this.events.next(new Ba)}),AO(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Cn(1),xu(new Q(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(Ot(()=>!i&&!r.targetRouterState),je(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ft.Aborted)}))),je({next:o=>{i=!0,this.lastSuccessfulNavigation=ht(this.currentNavigation),this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),xu(this.transitionAbortWithErrorSubject.pipe(je(o=>{throw o}))),zs(()=>{i||this.cancelNavigationTransition(r,"",ft.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),tr(o=>{if(this.destroyed)return r.resolve(!1),gt;if(i=!0,B0(o))this.events.next(new hn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),SO(o)?this.events.next(new Fo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ko(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Fe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof Lo){let{message:u,cancellationCode:d}=sd(this.urlSerializer,c);this.events.next(new hn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Fo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return gt}))}))}cancelNavigationTransition(n,r,i){let o=new hn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ht(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yx(t){return t!==Fa}var tC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>N(vx),providedIn:"root"})}return t})(),cd=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},vx=(()=>{class t extends cd{static \u0275fac=(()=>{let n;return function(i){return(n||(n=bo(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nC=(()=>{class t{urlSerializer=N(Ka);options=N(Za,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Ro);urlHandlingStrategy=N(dd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new fn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof fn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=k0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>N(_x),providedIn:"root"})}return t})(),_x=(()=>{class t extends nC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof li?this.updateStateMemento():n instanceof Un?this.commitTransition(r):n instanceof ja?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ba?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof hn&&n.code!==ft.SupersededByNewNavigation&&n.code!==ft.Redirect?this.restoreHistory(r):n instanceof ko?this.restoreHistory(r,!0):n instanceof Vn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,c));this.location.replaceState(n,"",u)}else{let c=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=bo(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Im(t,e){t.events.pipe(Ot(n=>n instanceof Vn||n instanceof hn||n instanceof ko||n instanceof Un),ne(n=>n instanceof Vn||n instanceof Un?0:(n instanceof hn?n.code===ft.Redirect||n.code===ft.SupersededByNewNavigation:!1)?2:1),Ot(n=>n!==2),Cn(1)).subscribe(()=>{e()})}var Ex={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ix={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$o=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Cg);stateManager=N(nC);options=N(Za,{optional:!0})||{};pendingTasks=N(cn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(eC);urlSerializer=N(Ka);location=N(Ro);urlHandlingStrategy=N(dd);injector=N(ke);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(tC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(Ja,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(ud,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _e;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ht(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hn&&r.code!==ft.Redirect&&r.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Vn)this.navigated=!0;else if(r instanceof Fo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||yx(i.source)},s);this.scheduleNavigation(c,Fa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}EO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(Tt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ht(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(_m),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let m=i?i.snapshot:this.routerState.snapshot.root;g=M0(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return P0(g,n,f,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=xo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fa,null,r)}navigate(n,r={skipLocationChange:!1}){return wx(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},Ex):r===!1?i=k({},Ix):i=r,xo(n))return h0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return h0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,d;s?(c=s.resolve,u=s.reject,d=s.promise):d=new Promise((g,m)=>{c=g,u=m});let f=this.pendingTasks.add();return Im(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wx(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}var Cx=new V("");function wm(t,...e){return Gt([{provide:Ja,multi:!0,useValue:t},[],{provide:vr,useFactory:Tx,deps:[$o]},{provide:Sl,multi:!0,useFactory:bx},e.map(n=>n.\u0275providers)])}function Tx(t){return t.routerState.root}function bx(){let t=N(Qe);return e=>{let n=t.get(pr);if(e!==n.components[0])return;let r=t.get($o),i=t.get(Sx);t.get(Ax)===1&&r.initialNavigation(),t.get(Rx,null,{optional:!0})?.setUpPreloading(),t.get(Cx,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Sx=new V("",{factory:()=>new Oe}),Ax=new V("",{providedIn:"root",factory:()=>1});var Rx=new V("");var rC=()=>{};var sC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Px=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=o>>2,g=(o&3)<<4|c>>4,m=(c&15)<<2|d>>6,v=d&63;u||(v=64,s||(m=64)),r.push(n[f],n[g],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Px(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||d==null||g==null)throw new Cm;let m=o<<2|c>>4;if(r.push(m),d!==64){let v=c<<4&240|d>>2;if(r.push(v),g!==64){let A=d<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Cm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Ox=function(t){let e=sC(t);return hd.encodeByteArray(e,!0)},ec=function(t){return Ox(t).replace(/\./g,"")},fd=function(t){try{return hd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xx=()=>bm().__FIREBASE_DEFAULTS__,kx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&fd(t[1]);return e&&JSON.parse(e)},pd=()=>{try{return rC()||xx()||kx()||Fx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aC=t=>{var e,n;return(n=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cC=t=>{let e=aC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Sm=()=>{var t;return(t=pd())===null||t===void 0?void 0:t.config},uC=t=>{var e;return(e=pd())===null||e===void 0?void 0:e[`_${t}`]};var di=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function hi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Am(t){return S(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function lC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ec(JSON.stringify(n)),ec(JSON.stringify(s)),""].join(".")}var Xa={};function Lx(){let t={prod:[],emulator:[]};for(let e of Object.keys(Xa))Xa[e]?t.emulator.push(e):t.prod.push(e);return t}function Vx(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var iC=!1;function Rm(t,e){if(typeof window>"u"||typeof document>"u"||!hi(window.location.host)||Xa[t]===e||Xa[t]||iC)return;Xa[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=Lx().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{iC=!0,s()},m}function f(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){let m=Vx(r),v=n("text"),A=document.getElementById(v)||document.createElement("span"),O=n("learnmore"),P=document.getElementById(O)||document.createElement("a"),F=n("preprendIcon"),ee=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let re=m.element;c(re),f(P,O);let De=d();u(ee,F),re.append(ee,A,P,De),document.body.appendChild(re)}o?(A.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Ux(){var t;let e=(t=pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gC(){return!Ux()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tc(){try{return typeof indexedDB=="object"}catch{return!1}}function mC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var jx="FirebaseError",Bt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jx,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jt.prototype.create)}},Jt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Bx(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Bt(i,c,r)}};function Bx(t,e){return t.replace($x,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var $x=/\{\$([^}]+)}/g;function fi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(oC(o)&&oC(s)){if(!fi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function oC(t){return t!==null&&typeof t=="object"}function Nm(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yC(t,e){let n=new Tm(t,e);return n.subscribe.bind(n)}var Tm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Hx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dm),i.error===void 0&&(i.error=Dm),i.complete===void 0&&(i.complete=Dm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Hx(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dm(){}var xY=14400*1e3;function $t(t){return t&&t._delegate?t._delegate:t}var pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var pi="[DEFAULT]";var Mm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new di;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qx(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zx(t){return t===pi?void 0:t}function qx(t){return t.instantiationMode==="EAGER"}var gd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Mm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Gx=[],X=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(X||{}),Wx={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Kx=X.INFO,Qx={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},Yx=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Qx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},pn=class{constructor(e){this.name=e,this._logLevel=Kx,this._logHandler=Yx,this._userLogHandler=null,Gx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}};var Zx=(t,e)=>e.some(n=>t instanceof n),vC,_C;function Jx(){return vC||(vC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xx(){return _C||(_C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var EC=new WeakMap,Om=new WeakMap,IC=new WeakMap,Pm=new WeakMap,km=new WeakMap;function ek(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(gn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&EC.set(n,t)}).catch(()=>{}),km.set(e,t),e}function tk(t){if(Om.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Om.set(t,e)}var xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Om.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wC(t){xm=t(xm)}function nk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(md(this),e,...n);return IC.set(r,e.sort?e.sort():[e]),gn(r)}:Xx().includes(t)?function(...e){return t.apply(md(this),e),gn(EC.get(this))}:function(...e){return gn(t.apply(md(this),e))}}function rk(t){return typeof t=="function"?nk(t):(t instanceof IDBTransaction&&tk(t),Zx(t,Jx())?new Proxy(t,xm):t)}function gn(t){if(t instanceof IDBRequest)return ek(t);if(Pm.has(t))return Pm.get(t);let e=rk(t);return e!==t&&(Pm.set(t,e),km.set(e,t)),e}var md=t=>km.get(t);function CC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=gn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(gn(s.result),u.oldVersion,u.newVersion,gn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var ik=["get","getKey","getAll","getAllKeys","count"],ok=["put","add","delete","clear"],Fm=new Map;function DC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ok.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ik.includes(n)))return;let o=function(s,...c){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]})};return Fm.set(e,o),o}wC(t=>Z(k({},t),{get:(e,n,r)=>DC(e,n)||t.get(e,n,r),has:(e,n)=>!!DC(e,n)||t.has(e,n)}));var Vm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function sk(t){let e=t.getComponent();return e?.type==="VERSION"}var Um="@firebase/app",TC="0.13.2";var Bn=new pn("@firebase/app"),ak="@firebase/app-compat",ck="@firebase/analytics-compat",uk="@firebase/analytics",lk="@firebase/app-check-compat",dk="@firebase/app-check",hk="@firebase/auth",fk="@firebase/auth-compat",pk="@firebase/database",gk="@firebase/data-connect",mk="@firebase/database-compat",yk="@firebase/functions",vk="@firebase/functions-compat",_k="@firebase/installations",Ek="@firebase/installations-compat",Ik="@firebase/messaging",wk="@firebase/messaging-compat",Dk="@firebase/performance",Ck="@firebase/performance-compat",Tk="@firebase/remote-config",bk="@firebase/remote-config-compat",Sk="@firebase/storage",Ak="@firebase/storage-compat",Rk="@firebase/firestore",Nk="@firebase/ai",Mk="@firebase/firestore-compat",Pk="firebase",Ok="11.10.0";var jm="[DEFAULT]",xk={[Um]:"fire-core",[ak]:"fire-core-compat",[uk]:"fire-analytics",[ck]:"fire-analytics-compat",[dk]:"fire-app-check",[lk]:"fire-app-check-compat",[hk]:"fire-auth",[fk]:"fire-auth-compat",[pk]:"fire-rtdb",[gk]:"fire-data-connect",[mk]:"fire-rtdb-compat",[yk]:"fire-fn",[vk]:"fire-fn-compat",[_k]:"fire-iid",[Ek]:"fire-iid-compat",[Ik]:"fire-fcm",[wk]:"fire-fcm-compat",[Dk]:"fire-perf",[Ck]:"fire-perf-compat",[Tk]:"fire-rc",[bk]:"fire-rc-compat",[Sk]:"fire-gcs",[Ak]:"fire-gcs-compat",[Rk]:"fire-fst",[Mk]:"fire-fst-compat",[Nk]:"fire-vertex","fire-js":"fire-js",[Pk]:"fire-js-all"};var nc=new Map,kk=new Map,Bm=new Map;function bC(t,e){try{t.container.addComponent(e)}catch(n){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xt(t){let e=t.name;if(Bm.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,t);for(let n of nc.values())bC(n,t);for(let n of kk.values())bC(n,t);return!0}function yd(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t==null?!1:t.settings!==void 0}var Fk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new Jt("app","Firebase",Fk);var $m=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}};var Ho=Ok;function qm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:jm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw _r.create("bad-app-name",{appName:String(i)});if(n||(n=Sm()),!n)throw _r.create("no-options");let o=nc.get(i);if(o){if(fi(n,o.options)&&fi(r,o.config))return o;throw _r.create("duplicate-app",{appName:i})}let s=new gd(i);for(let u of Bm.values())s.addComponent(u);let c=new $m(n,r,s);return nc.set(i,c),c}function zo(t=jm){let e=nc.get(t);if(!e&&t===jm&&Sm())return qm();if(!e)throw _r.create("no-app",{appName:t});return e}function vd(){return Array.from(nc.values())}function be(t,e,n){var r;let i=(r=xk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(c.join(" "));return}Xt(new pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Lk="firebase-heartbeat-database",Vk=1,rc="firebase-heartbeat-store",Lm=null;function NC(){return Lm||(Lm=CC(Lk,Vk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(t=>{throw _r.create("idb-open",{originalErrorMessage:t.message})})),Lm}function Uk(t){return S(this,null,function*(){try{let n=(yield NC()).transaction(rc),r=yield n.objectStore(rc).get(MC(t));return yield n.done,r}catch(e){if(e instanceof Bt)Bn.warn(e.message);else{let n=_r.create("idb-get",{originalErrorMessage:e?.message});Bn.warn(n.message)}}})}function SC(t,e){return S(this,null,function*(){try{let r=(yield NC()).transaction(rc,"readwrite");yield r.objectStore(rc).put(e,MC(t)),yield r.done}catch(n){if(n instanceof Bt)Bn.warn(n.message);else{let r=_r.create("idb-set",{originalErrorMessage:n?.message});Bn.warn(r.message)}}})}function MC(t){return`${t.name}!${t.options.appId}`}var jk=1024,Bk=30,Hm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new zm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Bk){let s=Hk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bn.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=AC(),{heartbeatsToSend:r,unsentEntries:i}=$k(this._heartbeatsCache.heartbeats),o=ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Bn.warn(n),""}})}};function AC(){return new Date().toISOString().substring(0,10)}function $k(t,e=jk){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),RC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var zm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return tc()?mC().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Uk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function RC(t){return ec(JSON.stringify({version:2,heartbeats:t})).length}function Hk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function zk(t){Xt(new pt("platform-logger",e=>new Vm(e),"PRIVATE")),Xt(new pt("heartbeat",e=>new Hm(e),"PRIVATE")),be(Um,TC,t),be(Um,TC,"esm2017"),be("fire-js","")}zk("");var qk="firebase",Gk="11.10.0";be(qk,Gk,"app");function PC(t){t===void 0&&(t=N(Qe));let e=t.get(go);return n=>new Q(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var mi=new Lr("ANGULARFIRE2_VERSION");function Ed(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Go=(t,e)=>{let n=e?[e]:vd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},qo=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(qo||{}),OC=Ug()&&typeof Zone<"u"?qo.WARN:qo.SILENT;var _d=class{zone;delegate;constructor(e,n=gf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},yi=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=N(pe);this.outsideAngular=n.runOutsideAngular(()=>new _d(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new _d(typeof Zone>"u"?void 0:Zone.current,pf))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xC=!1;function Wk(t,e){!xC&&(OC>qo.SILENT||Ug())&&(xC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),OC>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function Kk(t){let e=N(pe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function gi(t){let e=N(pe,{optional:!0});return e?e.run(()=>t()):t()}var Qk=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Fe(n,()=>gi(()=>t.apply(void 0,r)))),Er=(t,e,n)=>(n||=e?qo.WARN:qo.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=N(yi),s=N(go),c=N(ke)}catch{return Wk(t,n),t.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=gi(()=>s.add())),i[d]=Qk(i[d],r,c));let u=Kk(()=>t.apply(this,i));return e?u instanceof Q?u.pipe(er(o.outsideAngular),Xn(o.insideAngular),PC(c)):u instanceof Promise?gi(()=>{let d=s.add();return new Promise((f,g)=>{u.then(m=>Fe(c,()=>gi(()=>f(m))),m=>Fe(c,()=>gi(()=>g(m)))).finally(d)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:gi(()=>u):u instanceof Q?u.pipe(er(o.outsideAngular),Xn(o.insideAngular)):gi(()=>u)});var vi=class{constructor(e){return e}},ic=class{constructor(){return vd()}};function Yk(t){return t&&t.length===1?t[0]:new vi(zo())}var Gm=new V("angularfire2._apps"),Zk={provide:vi,useFactory:Yk,deps:[[new xn,Gm]]},Jk={provide:ic,deps:[[new xn,Gm]]};function Xk(t){return(e,n)=>{let r=n.get(hr);be("angularfire",mi.full,"core"),be("angularfire",mi.full,"app"),be("angular",xf.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new vi(i)}}function kC(t,...e){return Gt([Zk,Jk,{provide:Gm,useFactory:Xk(t),multi:!0,deps:[pe,Qe,yi,...e]}])}var FC=Er(qm,!0);var eF=new Map,tF={activated:!1,tokenObservers:[]},nF={initialized:!1,enabled:!1};function en(t){return eF.get(t)||Object.assign({},tF)}function jC(){return nF}var rF="https://content-firebaseappcheck.googleapis.com/v1";var iF="exchangeDebugToken",LC={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},LZ=1440*60*1e3;var Qm=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return S(this,null,function*(){this.stop();try{this.pending=new di,this.pending.promise.catch(n=>{}),yield oF(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new di,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function oF(t){return new Promise(e=>{setTimeout(e,t)})}var sF={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ir=new Jt("appCheck","AppCheck",sF);function BC(t){if(!en(t).activated)throw Ir.create("use-before-activation",{appName:t.name})}function $C(r,i){return S(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(v){throw Ir.create("fetch-network-error",{originalErrorMessage:v?.message})}if(u.status!==200)throw Ir.create("fetch-status-error",{httpStatus:u.status});let d;try{d=yield u.json()}catch(v){throw Ir.create("fetch-parse-error",{originalErrorMessage:v?.message})}let f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Ir.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let g=Number(f[1])*1e3,m=Date.now();return{token:d.token,expireTimeMillis:m+g,issuedAtTimeMillis:m}})}function HC(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${rF}/projects/${n}/apps/${r}:${iF}?key=${i}`,body:{debug_token:e}}}var aF="firebase-app-check-database",cF=1,Ym="firebase-app-check-store";var Id=null;function uF(){return Id||(Id=new Promise((t,e)=>{try{let n=indexedDB.open(aF,cF);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ir.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ym,{keyPath:"compositeKey"})}}}catch(n){e(Ir.create("storage-open",{originalErrorMessage:n?.message}))}}),Id)}function lF(t,e){return dF(hF(t),e)}function dF(t,e){return S(this,null,function*(){let r=(yield uF()).transaction(Ym,"readwrite"),o=r.objectStore(Ym).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var d;c(Ir.create("storage-set",{originalErrorMessage:(d=u.target.error)===null||d===void 0?void 0:d.message}))}})})}function hF(t){return`${t.options.appId}-${t.name}`}var oc=new pn("@firebase/app-check");function Wm(t,e){return tc()?lF(t,e).catch(n=>{oc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function zC(){return jC().enabled}function qC(){return S(this,null,function*(){let t=jC();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var fF={error:"UNKNOWN_ERROR"};function pF(t){return hd.encodeString(JSON.stringify(t),!1)}function Zm(t,e=!1,n=!1){return S(this,null,function*(){let r=t.app;BC(r);let i=en(r),o=i.token,s;if(o&&!sc(o)&&(i.token=void 0,o=void 0),!o){let d=yield i.cachedTokenPromise;d&&(sc(d)?o=d:yield Wm(r,void 0))}if(!e&&o&&sc(o))return{token:o.token};let c=!1;if(zC())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=$C(HC(r,yield qC()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let d=yield i.exchangeTokenPromise;return yield Wm(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?oc.warn(d.message):n&&oc.error(d),Km(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield en(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?oc.warn(d.message):n&&oc.error(d),s=d}let u;return o?s?sc(o)?u={token:o.token,internalError:s}:u=Km(s):(u={token:o.token},i.token=o,yield Wm(r,o)):u=Km(s),c&&vF(r,u),u})}function gF(t){return S(this,null,function*(){let e=t.app;BC(e);let{provider:n}=en(e);if(zC()){let r=yield qC(),{token:i}=yield $C(HC(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function mF(t,e,n,r){let{app:i}=t,o=en(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&sc(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),VC(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>VC(t))}function GC(t,e){let n=en(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function VC(t){let{app:e}=t,n=en(e),r=n.tokenRefresher;r||(r=yF(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function yF(t){let{app:e}=t;return new Qm(()=>S(null,null,function*(){let n=en(e),r;if(n.token?r=yield Zm(t,!0):r=yield Zm(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=en(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},LC.RETRIAL_MIN_WAIT,LC.RETRIAL_MAX_WAIT)}function vF(t,e){let n=en(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function sc(t){return t.expireTimeMillis-Date.now()>0}function Km(t){return{token:pF(fF),error:t}}var Jm=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=en(this.app);for(let n of e)GC(this.app,n.next);return Promise.resolve()}};function _F(t,e){return new Jm(t,e)}function EF(t){return{getToken:e=>Zm(t,e),getLimitedUseToken:()=>gF(t),addTokenListener:e=>mF(t,"INTERNAL",e),removeTokenListener:e=>GC(t.app,e)}}var IF="@firebase/app-check",wF="0.10.1";var DF="app-check",UC="app-check-internal";function CF(){Xt(new pt(DF,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return _F(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(UC).initialize()})),Xt(new pt(UC,t=>{let e=t.getProvider("app-check").getImmediate();return EF(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),be(IF,wF)}CF();var TF="app-check";var wd=class{constructor(){return Go(TF)}};var bF=["localhost","0.0.0.0","127.0.0.1"],YZ=typeof window<"u"&&bF.includes(window.location.hostname);function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tT=eT,nT=new Jt("auth","Firebase",eT());var bd=new pn("@firebase/auth");function AF(t,...e){bd.logLevel<=X.WARN&&bd.warn(`Auth (${Ho}): ${t}`,...e)}function Cd(t,...e){bd.logLevel<=X.ERROR&&bd.error(`Auth (${Ho}): ${t}`,...e)}function WC(t,...e){throw ly(t,...e)}function uy(t,...e){return ly(t,...e)}function rT(t,e,n){let r=Object.assign(Object.assign({},tT()),{[e]:n});return new Jt("auth","Firebase",r).create(e,{appName:t.name})}function Td(t){return rT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ly(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nT.create(t,...e)}function le(t,e,...n){if(!t)throw ly(e,...n)}function ac(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Cd(e),new Error(e)}function Sd(t,e){t||ac(e)}function RF(){return KC()==="http:"||KC()==="https:"}function KC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function NF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RF()||fC()||"connection"in navigator)?navigator.onLine:!0}function MF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ii=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sd(n>e,"Short delay should be less than long delay!"),this.isMobile=dC()||pC()}get(){return NF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function PF(t,e){Sd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ad=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ac("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ac("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ac("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var OF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var xF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kF=new Ii(3e4,6e4);function iT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Od(o,s,c,u){return S(this,arguments,function*(t,e,n,r,i={}){return oT(t,i,()=>S(null,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=Nm(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:m},d);return hC()||(v.referrerPolicy="no-referrer"),t.emulatorConfig&&hi(t.emulatorConfig.host)&&(v.credentials="include"),Ad.fetch()(yield sT(t,t.config.apiHost,n,g),v)}))})}function oT(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},OF),e);try{let i=new ty(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Dd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Dd(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw rT(t,f,d);WC(t,f)}}catch(i){if(i instanceof Bt)throw i;WC(t,"network-request-failed",{message:String(i)})}})}function sT(t,e,n,r){return S(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?PF(t.config,i):`${t.config.apiScheme}://${i}`;return xF.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var ty=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(uy(this.auth,"network-request-failed")),kF.get())})}};function Dd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=uy(t,e,r);return i.customData._tokenResponse=n,i}function FF(t,e){return S(this,null,function*(){return Od(t,"POST","/v1/accounts:delete",e)})}function Rd(t,e){return S(this,null,function*(){return Od(t,"POST","/v1/accounts:lookup",e)})}function cc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dy(t,e=!1){return S(this,null,function*(){let n=$t(t),r=yield n.getIdToken(e),i=aT(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:cc(Xm(i.auth_time)),issuedAtTime:cc(Xm(i.iat)),expirationTime:cc(Xm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Xm(t){return Number(t)*1e3}function aT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cd("JWT malformed, contained fewer than 3 sections"),null;try{let i=fd(n);return i?JSON.parse(i):(Cd("Failed to decode base64 JWT payload"),null)}catch(i){return Cd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function QC(t){let e=aT(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ny(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Bt&&LF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function LF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ry=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var lc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nd(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ny(t,Rd(n,{idToken:r}));le(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cT(o.providerUserInfo):[],c=VF(t.providerData,s),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!c?.length,f=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new lc(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function hy(t){return S(this,null,function*(){let e=$t(t);yield Nd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function VF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cT(t){return t.map(e=>{var{providerId:n}=e,r=mf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function UF(t,e){return S(this,null,function*(){let n=yield oT(t,{},()=>S(null,null,function*(){let r=Nm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield sT(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&hi(t.emulatorConfig.host)&&(u.credentials="include"),Ad.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function jF(t,e){return S(this,null,function*(){return Od(t,"POST","/v2/accounts:revokeToken",iT(t,e))})}var uc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");let n=QC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield UF(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ac("not implemented")}};function wr(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var _i=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=mf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ry(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield ny(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return dy(this,e)}reload(){return hy(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Nd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if($n(this.auth.app))return Promise.reject(Td(this.auth));let e=yield this.getIdToken();return yield ny(this,FF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,d,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,O=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=n.createdAt)!==null&&d!==void 0?d:void 0,ee=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:re,emailVerified:De,isAnonymous:tn,providerData:Ue,stsTokenManager:D}=n;le(re&&D,e,"internal-error");let y=uc.fromJSON(this.name,D);le(typeof re=="string",e,"internal-error"),wr(g,e.name),wr(m,e.name),le(typeof De=="boolean",e,"internal-error"),le(typeof tn=="boolean",e,"internal-error"),wr(v,e.name),wr(A,e.name),wr(O,e.name),wr(P,e.name),wr(F,e.name),wr(ee,e.name);let E=new t({uid:re,auth:e,email:m,emailVerified:De,displayName:g,isAnonymous:tn,photoURL:A,phoneNumber:v,tenantId:O,stsTokenManager:y,createdAt:F,lastLoginAt:ee});return Ue&&Array.isArray(Ue)&&(E.providerData=Ue.map(I=>Object.assign({},I))),P&&(E._redirectEventId=P),E}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new uc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];le(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?cT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new uc;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new lc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var YC=new Map;function Ei(t){Sd(t instanceof Function,"Expected a class definition");let e=YC.get(t);return e?(Sd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YC.set(t,e),e)}var BF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),iy=BF;function ey(t,e,n){return`firebase:${t}:${e}:${n}`}var Md=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ey(this.userKey,i.apiKey,o),this.fullPersistenceKey=ey("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Rd(this.auth,{idToken:e}).catch(()=>{});return n?_i._fromGetAccountInfoResponse(this.auth,n,e):null}return _i._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(Ei(iy),e,r);let i=(yield Promise.all(n.map(d=>S(null,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||Ei(iy),s=ey(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(s);if(f){let g;if(typeof f=="string"){let m=yield Rd(e,{idToken:f}).catch(()=>{});if(!m)break;g=yield _i._fromGetAccountInfoResponse(e,m,f)}else g=_i._fromJSON(e,f);d!==o&&(c=g),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(d=>S(null,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function ZC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($F(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WF(e))return"Blackberry";if(KF(e))return"Webos";if(HF(e))return"Safari";if((e.includes("chrome/")||zF(e))&&!e.includes("edge/"))return"Chrome";if(GF(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function $F(t=Rt()){return/firefox\//i.test(t)}function HF(t=Rt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zF(t=Rt()){return/crios\//i.test(t)}function qF(t=Rt()){return/iemobile/i.test(t)}function GF(t=Rt()){return/android/i.test(t)}function WF(t=Rt()){return/blackberry/i.test(t)}function KF(t=Rt()){return/webos/i.test(t)}function uT(t,e=[]){let n;switch(t){case"Browser":n=ZC(Rt());break;case"Worker":n=`${ZC(Rt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}var oy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function QF(n){return S(this,arguments,function*(t,e={}){return Od(t,"GET","/v2/passwordPolicy",iT(t,e))})}var YF=6,sy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:YF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var ay=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pd(this),this.idTokenSubscription=new Pd(this),this.beforeStateQueue=new oy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ei(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Md.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield Rd(this,{idToken:e}),r=yield _i._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if($n(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Nd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=MF()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if($n(this.app))return Promise.reject(Td(this));let n=e?$t(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return $n(this.app)?Promise.reject(Td(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return $n(this.app)?Promise.reject(Td(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Ei(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield QF(this),n=new sy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield jF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ei(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=yield Md.create(this,[Ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&AF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ZF(t){return $t(t)}var Pd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yC(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var JF={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XF(t){JF=t}function eL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function tL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ei);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var cJ=eL("rcb"),uJ=new Ii(3e4,6e4);var lJ=new Ii(2e3,1e4);var dJ=600*1e3;var hJ=new Ii(3e4,6e4);var fJ=new Ii(5e3,15e3);var pJ=encodeURIComponent("fac");var JC="@firebase/auth",XC="1.10.8";var cy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function nL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rL(t){Xt(new pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(t)},d=new ay(r,i,o,u);return tL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xt(new pt("auth-internal",e=>{let n=ZF(e.getProvider("auth").getImmediate());return(r=>new cy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),be(JC,XC,nL(t)),be(JC,XC,"esm2017")}var iL=300,gJ=uC("authIdTokenMaxAge")||iL;function oL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=uy("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",oL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rL("Browser");var rV="auth";var xd=class{constructor(){return Go(rV)}};var lT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dT={};var kd,hT;(function(){var t;function e(D,y){function E(){}E.prototype=y.prototype,D.D=y.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(I,w,T){for(var _=Array(arguments.length-2),En=2;En<arguments.length;En++)_[En-2]=arguments[En];return y.prototype[w].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,E){E||(E=0);var I=Array(16);if(typeof y=="string")for(var w=0;16>w;++w)I[w]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(w=0;16>w;++w)I[w]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=D.g[0],E=D.g[1],w=D.g[2];var T=D.g[3],_=y+(T^E&(w^T))+I[0]+3614090360&4294967295;y=E+(_<<7&4294967295|_>>>25),_=T+(w^y&(E^w))+I[1]+3905402710&4294967295,T=y+(_<<12&4294967295|_>>>20),_=w+(E^T&(y^E))+I[2]+606105819&4294967295,w=T+(_<<17&4294967295|_>>>15),_=E+(y^w&(T^y))+I[3]+3250441966&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(T^E&(w^T))+I[4]+4118548399&4294967295,y=E+(_<<7&4294967295|_>>>25),_=T+(w^y&(E^w))+I[5]+1200080426&4294967295,T=y+(_<<12&4294967295|_>>>20),_=w+(E^T&(y^E))+I[6]+2821735955&4294967295,w=T+(_<<17&4294967295|_>>>15),_=E+(y^w&(T^y))+I[7]+4249261313&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(T^E&(w^T))+I[8]+1770035416&4294967295,y=E+(_<<7&4294967295|_>>>25),_=T+(w^y&(E^w))+I[9]+2336552879&4294967295,T=y+(_<<12&4294967295|_>>>20),_=w+(E^T&(y^E))+I[10]+4294925233&4294967295,w=T+(_<<17&4294967295|_>>>15),_=E+(y^w&(T^y))+I[11]+2304563134&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(T^E&(w^T))+I[12]+1804603682&4294967295,y=E+(_<<7&4294967295|_>>>25),_=T+(w^y&(E^w))+I[13]+4254626195&4294967295,T=y+(_<<12&4294967295|_>>>20),_=w+(E^T&(y^E))+I[14]+2792965006&4294967295,w=T+(_<<17&4294967295|_>>>15),_=E+(y^w&(T^y))+I[15]+1236535329&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(w^T&(E^w))+I[1]+4129170786&4294967295,y=E+(_<<5&4294967295|_>>>27),_=T+(E^w&(y^E))+I[6]+3225465664&4294967295,T=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(T^y))+I[11]+643717713&4294967295,w=T+(_<<14&4294967295|_>>>18),_=E+(T^y&(w^T))+I[0]+3921069994&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^T&(E^w))+I[5]+3593408605&4294967295,y=E+(_<<5&4294967295|_>>>27),_=T+(E^w&(y^E))+I[10]+38016083&4294967295,T=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(T^y))+I[15]+3634488961&4294967295,w=T+(_<<14&4294967295|_>>>18),_=E+(T^y&(w^T))+I[4]+3889429448&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^T&(E^w))+I[9]+568446438&4294967295,y=E+(_<<5&4294967295|_>>>27),_=T+(E^w&(y^E))+I[14]+3275163606&4294967295,T=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(T^y))+I[3]+4107603335&4294967295,w=T+(_<<14&4294967295|_>>>18),_=E+(T^y&(w^T))+I[8]+1163531501&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^T&(E^w))+I[13]+2850285829&4294967295,y=E+(_<<5&4294967295|_>>>27),_=T+(E^w&(y^E))+I[2]+4243563512&4294967295,T=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(T^y))+I[7]+1735328473&4294967295,w=T+(_<<14&4294967295|_>>>18),_=E+(T^y&(w^T))+I[12]+2368359562&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(E^w^T)+I[5]+4294588738&4294967295,y=E+(_<<4&4294967295|_>>>28),_=T+(y^E^w)+I[8]+2272392833&4294967295,T=y+(_<<11&4294967295|_>>>21),_=w+(T^y^E)+I[11]+1839030562&4294967295,w=T+(_<<16&4294967295|_>>>16),_=E+(w^T^y)+I[14]+4259657740&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^T)+I[1]+2763975236&4294967295,y=E+(_<<4&4294967295|_>>>28),_=T+(y^E^w)+I[4]+1272893353&4294967295,T=y+(_<<11&4294967295|_>>>21),_=w+(T^y^E)+I[7]+4139469664&4294967295,w=T+(_<<16&4294967295|_>>>16),_=E+(w^T^y)+I[10]+3200236656&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^T)+I[13]+681279174&4294967295,y=E+(_<<4&4294967295|_>>>28),_=T+(y^E^w)+I[0]+3936430074&4294967295,T=y+(_<<11&4294967295|_>>>21),_=w+(T^y^E)+I[3]+3572445317&4294967295,w=T+(_<<16&4294967295|_>>>16),_=E+(w^T^y)+I[6]+76029189&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^T)+I[9]+3654602809&4294967295,y=E+(_<<4&4294967295|_>>>28),_=T+(y^E^w)+I[12]+3873151461&4294967295,T=y+(_<<11&4294967295|_>>>21),_=w+(T^y^E)+I[15]+530742520&4294967295,w=T+(_<<16&4294967295|_>>>16),_=E+(w^T^y)+I[2]+3299628645&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(w^(E|~T))+I[0]+4096336452&4294967295,y=E+(_<<6&4294967295|_>>>26),_=T+(E^(y|~w))+I[7]+1126891415&4294967295,T=y+(_<<10&4294967295|_>>>22),_=w+(y^(T|~E))+I[14]+2878612391&4294967295,w=T+(_<<15&4294967295|_>>>17),_=E+(T^(w|~y))+I[5]+4237533241&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~T))+I[12]+1700485571&4294967295,y=E+(_<<6&4294967295|_>>>26),_=T+(E^(y|~w))+I[3]+2399980690&4294967295,T=y+(_<<10&4294967295|_>>>22),_=w+(y^(T|~E))+I[10]+4293915773&4294967295,w=T+(_<<15&4294967295|_>>>17),_=E+(T^(w|~y))+I[1]+2240044497&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~T))+I[8]+1873313359&4294967295,y=E+(_<<6&4294967295|_>>>26),_=T+(E^(y|~w))+I[15]+4264355552&4294967295,T=y+(_<<10&4294967295|_>>>22),_=w+(y^(T|~E))+I[6]+2734768916&4294967295,w=T+(_<<15&4294967295|_>>>17),_=E+(T^(w|~y))+I[13]+1309151649&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~T))+I[4]+4149444226&4294967295,y=E+(_<<6&4294967295|_>>>26),_=T+(E^(y|~w))+I[11]+3174756917&4294967295,T=y+(_<<10&4294967295|_>>>22),_=w+(y^(T|~E))+I[2]+718787259&4294967295,w=T+(_<<15&4294967295|_>>>17),_=E+(T^(w|~y))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+w&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var E=y-this.blockSize,I=this.B,w=this.h,T=0;T<y;){if(w==0)for(;T<=E;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(I[w++]=D.charCodeAt(T++),w==this.blockSize){i(this,I),w=0;break}}else for(;T<y;)if(I[w++]=D[T++],w==this.blockSize){i(this,I),w=0;break}}this.h=w,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var E=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=E&255,E/=256;for(this.u(D),D=Array(16),y=E=0;4>y;++y)for(var I=0;32>I;I+=8)D[E++]=this.g[y]>>>I&255;return D};function o(D,y){var E=c;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=y(D)}function s(D,y){this.h=y;for(var E=[],I=!0,w=D.length-1;0<=w;w--){var T=D[w]|0;I&&T==y||(E[w]=T,I=!1)}this.g=E}var c={};function u(D){return-128<=D&&128>D?o(D,function(y){return new s([y|0],0>y?-1:0)}):new s([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return P(d(-D));for(var y=[],E=1,I=0;D>=E;I++)y[I]=D/E|0,E*=4294967296;return new s(y,0)}function f(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return P(f(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(y,8)),I=g,w=0;w<D.length;w+=8){var T=Math.min(8,D.length-w),_=parseInt(D.substring(w,w+T),y);8>T?(T=d(Math.pow(y,T)),I=I.j(T).add(d(_))):(I=I.j(E),I=I.add(d(_)))}return I}var g=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(O(this))return-P(this).m();for(var D=0,y=1,E=0;E<this.g.length;E++){var I=this.i(E);D+=(0<=I?I:4294967296+I)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(O(this))return"-"+P(this).toString(D);for(var y=d(Math.pow(D,6)),E=this,I="";;){var w=De(E,y).g;E=F(E,w.j(y));var T=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=w,A(E))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function O(D){return D.h==-1}t.l=function(D){return D=F(this,D),O(D)?-1:A(D)?0:1};function P(D){for(var y=D.g.length,E=[],I=0;I<y;I++)E[I]=~D.g[I];return new s(E,~D.h).add(m)}t.abs=function(){return O(this)?P(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0,w=0;w<=y;w++){var T=I+(this.i(w)&65535)+(D.i(w)&65535),_=(T>>>16)+(this.i(w)>>>16)+(D.i(w)>>>16);I=_>>>16,T&=65535,_&=65535,E[w]=_<<16|T}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(D,y){return D.add(P(y))}t.j=function(D){if(A(this)||A(D))return g;if(O(this))return O(D)?P(this).j(P(D)):P(P(this).j(D));if(O(D))return P(this.j(P(D)));if(0>this.l(v)&&0>D.l(v))return d(this.m()*D.m());for(var y=this.g.length+D.g.length,E=[],I=0;I<2*y;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var w=0;w<D.g.length;w++){var T=this.i(I)>>>16,_=this.i(I)&65535,En=D.i(w)>>>16,vs=D.i(w)&65535;E[2*I+2*w]+=_*vs,ee(E,2*I+2*w),E[2*I+2*w+1]+=T*vs,ee(E,2*I+2*w+1),E[2*I+2*w+1]+=_*En,ee(E,2*I+2*w+1),E[2*I+2*w+2]+=T*En,ee(E,2*I+2*w+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new s(E,0)};function ee(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function re(D,y){this.g=D,this.h=y}function De(D,y){if(A(y))throw Error("division by zero");if(A(D))return new re(g,g);if(O(D))return y=De(P(D),y),new re(P(y.g),P(y.h));if(O(y))return y=De(D,P(y)),new re(P(y.g),y.h);if(30<D.g.length){if(O(D)||O(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=y;0>=I.l(D);)E=tn(E),I=tn(I);var w=Ue(E,1),T=Ue(I,1);for(I=Ue(I,2),E=Ue(E,2);!A(I);){var _=T.add(I);0>=_.l(D)&&(w=w.add(E),T=_),I=Ue(I,1),E=Ue(E,1)}return y=F(D,w.j(y)),new re(w,y)}for(w=g;0<=D.l(y);){for(E=Math.max(1,Math.floor(D.m()/y.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=d(E),_=T.j(y);O(_)||0<_.l(D);)E-=I,T=d(E),_=T.j(y);A(T)&&(T=m),w=w.add(T),D=F(D,_)}return new re(w,D)}t.A=function(D){return De(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)&D.i(I);return new s(E,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)|D.i(I);return new s(E,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)^D.i(I);return new s(E,this.h^D.h)};function tn(D){for(var y=D.g.length+1,E=[],I=0;I<y;I++)E[I]=D.i(I)<<1|D.i(I-1)>>>31;return new s(E,D.h)}function Ue(D,y){var E=y>>5;y%=32;for(var I=D.g.length-E,w=[],T=0;T<I;T++)w[T]=0<y?D.i(T+E)>>>y|D.i(T+E+1)<<32-y:D.i(T+E);return new s(w,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hT=dT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,kd=dT.Integer=s}).apply(typeof lT<"u"?lT:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hn={};var fy,iV,Wo,py,dc,Ld,gy,my,yy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var C=a[p];if(!(C in h))break e;h=h[C]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var h=0,p=!1,C={next:function(){if(!p&&h<a.length){var b=h++;return{value:l(b,a[b]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(l,h){return h})}});var s=s||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),a.apply(l,C)}}return function(){return a.apply(l,arguments)}}function m(a,l,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,m.apply(null,arguments)}function v(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,C,b){for(var x=Array(arguments.length-2),he=2;he<arguments.length;he++)x[he-2]=arguments[he];return l.prototype[C].apply(p,x)}}function O(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function P(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let C=a.length||0,b=p.length||0;a.length=C+b;for(let x=0;x<b;x++)a[C+x]=p[x]}else a.push(p)}}class F{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function ee(a){return/^[\s\xa0]*$/.test(a)}function re(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function De(a){return De[" "](a),a}De[" "]=function(){};var tn=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Ue(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function D(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function y(a){let l={};for(let h in a)l[h]=a[h];return l}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,l){let h,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(h in p)a[h]=p[h];for(let b=0;b<E.length;b++)h=E[b],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function w(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Ch;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class En{constructor(){this.h=this.g=null}add(l,h){let p=vs.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var vs=new F(()=>new jS,a=>a.reset());class jS{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let _s,Es=!1,Ch=new En,f_=()=>{let a=c.Promise.resolve(void 0);_s=()=>{a.then(BS)}};var BS=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){T(h)}var l=vs;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}Es=!1};function Kn(){this.s=this.s,this.C=this.C}Kn.prototype.s=!1,Kn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var $S=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a})();function Is(a,l){if(Ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(tn){e:{try{De(l.nodeName);var C=!0;break e}catch{}C=!1}C||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:HS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Is.aa.h.call(this)}}A(Is,Ye);var HS={2:"touch",3:"pen",4:"mouse"};Is.prototype.h=function(){Is.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ws="closure_listenable_"+(1e6*Math.random()|0),zS=0;function qS(a,l,h,p,C){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=C,this.key=++zS,this.da=this.fa=!1}function Fc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Lc(a){this.src=a,this.g={},this.h=0}Lc.prototype.add=function(a,l,h,p,C){var b=a.toString();a=this.g[b],a||(a=this.g[b]=[],this.h++);var x=bh(a,l,p,C);return-1<x?(l=a[x],h||(l.fa=!1)):(l=new qS(l,this.src,b,!!p,C),l.fa=h,a.push(l)),l};function Th(a,l){var h=l.type;if(h in a.g){var p=a.g[h],C=Array.prototype.indexOf.call(p,l,void 0),b;(b=0<=C)&&Array.prototype.splice.call(p,C,1),b&&(Fc(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function bh(a,l,h,p){for(var C=0;C<a.length;++C){var b=a[C];if(!b.da&&b.listener==l&&b.capture==!!h&&b.ha==p)return C}return-1}var Sh="closure_lm_"+(1e6*Math.random()|0),Ah={};function p_(a,l,h,p,C){if(p&&p.once)return m_(a,l,h,p,C);if(Array.isArray(l)){for(var b=0;b<l.length;b++)p_(a,l[b],h,p,C);return null}return h=Ph(h),a&&a[ws]?a.K(l,h,d(p)?!!p.capture:!!p,C):g_(a,l,h,!1,p,C)}function g_(a,l,h,p,C,b){if(!l)throw Error("Invalid event type");var x=d(C)?!!C.capture:!!C,he=Nh(a);if(he||(a[Sh]=he=new Lc(a)),h=he.add(l,h,p,x,b),h.proxy)return h;if(p=GS(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)$S||(C=x),C===void 0&&(C=!1),a.addEventListener(l.toString(),p,C);else if(a.attachEvent)a.attachEvent(v_(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function GS(){function a(h){return l.call(a.src,a.listener,h)}let l=WS;return a}function m_(a,l,h,p,C){if(Array.isArray(l)){for(var b=0;b<l.length;b++)m_(a,l[b],h,p,C);return null}return h=Ph(h),a&&a[ws]?a.L(l,h,d(p)?!!p.capture:!!p,C):g_(a,l,h,!0,p,C)}function y_(a,l,h,p,C){if(Array.isArray(l))for(var b=0;b<l.length;b++)y_(a,l[b],h,p,C);else p=d(p)?!!p.capture:!!p,h=Ph(h),a&&a[ws]?(a=a.i,l=String(l).toString(),l in a.g&&(b=a.g[l],h=bh(b,h,p,C),-1<h&&(Fc(b[h]),Array.prototype.splice.call(b,h,1),b.length==0&&(delete a.g[l],a.h--)))):a&&(a=Nh(a))&&(l=a.g[l.toString()],a=-1,l&&(a=bh(l,h,p,C)),(h=-1<a?l[a]:null)&&Rh(h))}function Rh(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[ws])Th(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(v_(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=Nh(l))?(Th(h,a),h.h==0&&(h.src=null,l[Sh]=null)):Fc(a)}}}function v_(a){return a in Ah?Ah[a]:Ah[a]="on"+a}function WS(a,l){if(a.da)a=!0;else{l=new Is(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&Rh(a),a=h.call(p,l)}return a}function Nh(a){return a=a[Sh],a instanceof Lc?a:null}var Mh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ph(a){return typeof a=="function"?a:(a[Mh]||(a[Mh]=function(l){return a.handleEvent(l)}),a[Mh])}function Ze(){Kn.call(this),this.i=new Lc(this),this.M=this,this.F=null}A(Ze,Kn),Ze.prototype[ws]=!0,Ze.prototype.removeEventListener=function(a,l,h,p){y_(this,a,l,h,p)};function at(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new Ye(l,a);else if(l instanceof Ye)l.target=l.target||a;else{var C=l;l=new Ye(p,a),I(l,C)}if(C=!0,h)for(var b=h.length-1;0<=b;b--){var x=l.g=h[b];C=Vc(x,p,!0,l)&&C}if(x=l.g=a,C=Vc(x,p,!0,l)&&C,C=Vc(x,p,!1,l)&&C,h)for(b=0;b<h.length;b++)x=l.g=h[b],C=Vc(x,p,!1,l)&&C}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)Fc(h[p]);delete a.g[l],a.h--}}this.F=null},Ze.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},Ze.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function Vc(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var C=!0,b=0;b<l.length;++b){var x=l[b];if(x&&!x.da&&x.capture==h){var he=x.listener,qe=x.ha||x.src;x.fa&&Th(a.i,x),C=he.call(qe,p)!==!1&&C}}return C&&!p.defaultPrevented}function __(a,l,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function E_(a){a.g=__(()=>{a.g=null,a.i&&(a.i=!1,E_(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class KS extends Kn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:E_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(a){Kn.call(this),this.h=a,this.g={}}A(Ds,Kn);var I_=[];function w_(a){Ue(a.g,function(l,h){this.g.hasOwnProperty(h)&&Rh(l)},a),a.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),w_(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oh=c.JSON.stringify,QS=c.JSON.parse,YS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function xh(){}xh.prototype.h=null;function D_(a){return a.h||(a.h=a.i())}function C_(){}var Cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kh(){Ye.call(this,"d")}A(kh,Ye);function Fh(){Ye.call(this,"c")}A(Fh,Ye);var Ar={},T_=null;function Uc(){return T_=T_||new Ze}Ar.La="serverreachability";function b_(a){Ye.call(this,Ar.La,a)}A(b_,Ye);function Ts(a){let l=Uc();at(l,new b_(l))}Ar.STAT_EVENT="statevent";function S_(a,l){Ye.call(this,Ar.STAT_EVENT,a),this.stat=l}A(S_,Ye);function ct(a){let l=Uc();at(l,new S_(l,a))}Ar.Ma="timingevent";function A_(a,l){Ye.call(this,Ar.Ma,a),this.size=l}A(A_,Ye);function bs(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Ss(){this.g=!0}Ss.prototype.xa=function(){this.g=!1};function ZS(a,l,h,p,C,b){a.info(function(){if(a.g)if(b)for(var x="",he=b.split("&"),qe=0;qe<he.length;qe++){var ce=he[qe].split("=");if(1<ce.length){var Je=ce[0];ce=ce[1];var Xe=Je.split("_");x=2<=Xe.length&&Xe[1]=="type"?x+(Je+"="+ce+"&"):x+(Je+"=redacted&")}}else x=null;else x=b;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+l+`
`+h+`
`+x})}function JS(a,l,h,p,C,b,x){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+l+`
`+h+`
`+b+" "+x})}function Vi(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+eA(a,h)+(p?" "+p:"")})}function XS(a,l){a.info(function(){return"TIMEOUT: "+l})}Ss.prototype.info=function(){};function eA(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var b=C[0];if(b!="noop"&&b!="stop"&&b!="close")for(var x=1;x<C.length;x++)C[x]=""}}}}return Oh(h)}catch{return l}}var jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},R_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lh;function Bc(){}A(Bc,xh),Bc.prototype.g=function(){return new XMLHttpRequest},Bc.prototype.i=function(){return{}},Lh=new Bc;function Qn(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new N_}function N_(){this.i=null,this.g="",this.h=!1}var M_={},Vh={};function Uh(a,l,h){a.L=1,a.v=qc(In(l)),a.m=h,a.P=!0,P_(a,null)}function P_(a,l){a.F=Date.now(),$c(a),a.A=In(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),G_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new N_,a.g=lE(a.j,h?l:null,!a.m),0<a.O&&(a.M=new KS(m(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(I_[0]=C.toString()),C=I_);for(var b=0;b<C.length;b++){var x=p_(h,C[b],p||l.handleEvent,!1,l.h||l);if(!x)break;l.g[x.key]=x}l=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Ts(),ZS(a.i,a.u,a.A,a.l,a.R,a.m)}Qn.prototype.ca=function(a){a=a.target;let l=this.M;l&&wn(a)==3?l.j():this.Y(a)},Qn.prototype.Y=function(a){try{if(a==this.g)e:{let Xe=wn(this.g);var l=this.g.Ba();let Bi=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||X_(this.g)))){this.J||Xe!=4||l==7||(l==8||0>=Bi?Ts(3):Ts(2)),jh(this);var h=this.g.Z();this.X=h;t:if(O_(this)){var p=X_(this.g);a="";var C=p.length,b=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),As(this);var x="";break t}this.h.i=new c.TextDecoder}for(l=0;l<C;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(b&&l==C-1)});p.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=h==200,JS(this.i,this.u,this.A,this.l,this.R,Xe,h),this.o){if(this.T&&!this.K){t:{if(this.g){var he,qe=this.g;if((he=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(he)){var ce=he;break t}}ce=null}if(h=ce)Vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bh(this,h);else{this.o=!1,this.s=3,ct(12),Rr(this),As(this);break e}}if(this.P){h=!0;let zt;for(;!this.J&&this.C<x.length;)if(zt=tA(this,x),zt==Vh){Xe==4&&(this.s=4,ct(14),h=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==M_){this.s=4,ct(15),Vi(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Vi(this.i,this.l,zt,null),Bh(this,zt);if(O_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||x.length!=0||this.h.h||(this.s=1,ct(16),h=!1),this.o=this.o&&h,!h)Vi(this.i,this.l,x,"[Invalid Chunked Response]"),Rr(this),As(this);else if(0<x.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Wh(Je),Je.M=!0,ct(11))}}else Vi(this.i,this.l,x,null),Bh(this,x);Xe==4&&Rr(this),this.o&&!this.J&&(Xe==4?sE(this.j,this):(this.o=!1,$c(this)))}else vA(this.g),h==400&&0<x.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Rr(this),As(this)}}}catch{}finally{}};function O_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function tA(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?Vh:(h=Number(l.substring(h,p)),isNaN(h)?M_:(p+=1,p+h>l.length?Vh:(l=l.slice(p,p+h),a.C=p+h,l)))}Qn.prototype.cancel=function(){this.J=!0,Rr(this)};function $c(a){a.S=Date.now()+a.I,x_(a,a.I)}function x_(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=bs(m(a.ba,a),l)}function jh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Qn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(XS(this.i,this.A),this.L!=2&&(Ts(),ct(17)),Rr(this),this.s=2,As(this)):x_(this,this.S-a)};function As(a){a.j.G==0||a.J||sE(a.j,a)}function Rr(a){jh(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,w_(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function Bh(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||$h(h.h,a))){if(!a.K&&$h(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Yc(h),Kc(h);else break e;Gh(h),ct(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=bs(m(h.Za,h),6e3));if(1>=L_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Mr(h,11)}else if((a.K||h.g==a)&&Yc(h),!ee(l))for(C=h.Da.g.parse(l),l=0;l<C.length;l++){let ce=C[l];if(h.T=ce[0],ce=ce[1],h.G==2)if(ce[0]=="c"){h.K=ce[1],h.ia=ce[2];let Je=ce[3];Je!=null&&(h.la=Je,h.j.info("VER="+h.la));let Xe=ce[4];Xe!=null&&(h.Aa=Xe,h.j.info("SVER="+h.Aa));let Bi=ce[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(p=1.5*Bi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let zt=a.g;if(zt){let Jc=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jc){var b=p.h;b.g||Jc.indexOf("spdy")==-1&&Jc.indexOf("quic")==-1&&Jc.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(Hh(b,b.h),b.h=null))}if(p.D){let Kh=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Kh&&(p.ya=Kh,me(p.I,p.D,Kh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var x=a;if(p.qa=uE(p,p.J?p.ia:null,p.W),x.K){V_(p.h,x);var he=x,qe=p.L;qe&&(he.I=qe),he.B&&(jh(he),$c(he)),p.g=x}else iE(p);0<h.i.length&&Qc(h)}else ce[0]!="stop"&&ce[0]!="close"||Mr(h,7);else h.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Mr(h,7):qh(h):ce[0]!="noop"&&h.l&&h.l.ta(ce),h.v=0)}}Ts(4)}catch{}}var nA=class{constructor(a,l){this.g=a,this.map=l}};function k_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function F_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function L_(a){return a.h?1:a.g?a.g.size:0}function $h(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Hh(a,l){a.g?a.g.add(l):a.h=l}function V_(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}k_.prototype.cancel=function(){if(this.i=U_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function U_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return O(a.i)}function rA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function iA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function j_(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=iA(a),p=rA(a),C=p.length,b=0;b<C;b++)l.call(void 0,p[b],h&&h[b],a)}var B_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oA(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),C=null;if(0<=p){var b=a[h].substring(0,p);C=a[h].substring(p+1)}else b=a[h];l(b,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Nr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Nr){this.h=a.h,Hc(this,a.j),this.o=a.o,this.g=a.g,zc(this,a.s),this.l=a.l;var l=a.i,h=new Ms;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),$_(this,h),this.m=a.m}else a&&(l=String(a).match(B_))?(this.h=!1,Hc(this,l[1]||"",!0),this.o=Rs(l[2]||""),this.g=Rs(l[3]||"",!0),zc(this,l[4]),this.l=Rs(l[5]||"",!0),$_(this,l[6]||"",!0),this.m=Rs(l[7]||"")):(this.h=!1,this.i=new Ms(null,this.h))}Nr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(Ns(l,H_,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(Ns(l,H_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ns(h,h.charAt(0)=="/"?cA:aA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ns(h,lA)),a.join("")};function In(a){return new Nr(a)}function Hc(a,l,h){a.j=h?Rs(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function zc(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function $_(a,l,h){l instanceof Ms?(a.i=l,dA(a.i,a.h)):(h||(l=Ns(l,uA)),a.i=new Ms(l,a.h))}function me(a,l,h){a.i.set(l,h)}function qc(a){return me(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Rs(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ns(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,sA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function sA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var H_=/[#\/\?@]/g,aA=/[#\?:]/g,cA=/[#\?]/g,uA=/[#\?@]/g,lA=/#/g;function Ms(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Yn(a){a.g||(a.g=new Map,a.h=0,a.i&&oA(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=Ms.prototype,t.add=function(a,l){Yn(this),this.i=null,a=Ui(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function z_(a,l){Yn(a),l=Ui(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function q_(a,l){return Yn(a),l=Ui(a,l),a.g.has(l)}t.forEach=function(a,l){Yn(this),this.g.forEach(function(h,p){h.forEach(function(C){a.call(l,C,p,this)},this)},this)},t.na=function(){Yn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let C=a[p];for(let b=0;b<C.length;b++)h.push(l[p])}return h},t.V=function(a){Yn(this);let l=[];if(typeof a=="string")q_(this,a)&&(l=l.concat(this.g.get(Ui(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return Yn(this),this.i=null,a=Ui(this,a),q_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function G_(a,l,h){z_(a,l),0<h.length&&(a.i=null,a.g.set(Ui(a,l),O(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let b=encodeURIComponent(String(p)),x=this.V(p);for(p=0;p<x.length;p++){var C=b;x[p]!==""&&(C+="="+encodeURIComponent(String(x[p]))),a.push(C)}}return this.i=a.join("&")};function Ui(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function dA(a,l){l&&!a.j&&(Yn(a),a.i=null,a.g.forEach(function(h,p){var C=p.toLowerCase();p!=C&&(z_(this,p),G_(this,C,h))},a)),a.j=l}function hA(a,l){let h=new Ss;if(c.Image){let p=new Image;p.onload=v(Zn,h,"TestLoadImage: loaded",!0,l,p),p.onerror=v(Zn,h,"TestLoadImage: error",!1,l,p),p.onabort=v(Zn,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=v(Zn,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function fA(a,l){let h=new Ss,p=new AbortController,C=setTimeout(()=>{p.abort(),Zn(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(b=>{clearTimeout(C),b.ok?Zn(h,"TestPingServer: ok",!0,l):Zn(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(C),Zn(h,"TestPingServer: error",!1,l)})}function Zn(a,l,h,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(h)}catch{}}function pA(){this.g=new YS}function gA(a,l,h){let p=h||"";try{j_(a,function(C,b){let x=C;d(C)&&(x=Oh(C)),l.push(p+b+"="+encodeURIComponent(x))})}catch(C){throw l.push(p+"type="+encodeURIComponent("_badmap")),C}}function Ps(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ps,xh),Ps.prototype.g=function(){return new Gc(this.l,this.j)},Ps.prototype.i=(function(a){return function(){return a}})({});function Gc(a,l){Ze.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Gc,Ze),t=Gc.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,xs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,xs(this)),this.g&&(this.readyState=3,xs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;W_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function W_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?Os(this):xs(this),this.readyState==3&&W_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Os(this))},t.Qa=function(a){this.g&&(this.response=a,Os(this))},t.ga=function(){this.g&&Os(this)};function Os(a){a.readyState=4,a.l=null,a.j=null,a.v=null,xs(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function xs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function K_(a){let l="";return Ue(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function zh(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=K_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):me(a,l,h))}function ve(a){Ze.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ve,Ze);var mA=/^https?$/i,yA=["POST","PUT"];t=ve.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lh.g(),this.v=this.o?D_(this.o):D_(Lh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(b){Q_(this,b);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)h.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let b of p.keys())h.set(b,p.get(b));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(b=>b.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(yA,l,void 0))||p||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[b,x]of h)this.g.setRequestHeader(b,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{J_(this),this.u=!0,this.g.send(a),this.u=!1}catch(b){Q_(this,b)}};function Q_(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,Y_(a),Wc(a)}function Y_(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),Wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Z_(this):this.bb())},t.bb=function(){Z_(this)};function Z_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||wn(a)!=4||a.Z()!=2)){if(a.u&&wn(a)==4)__(a.Ea,0,a);else if(at(a,"readystatechange"),wn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=x===0){var C=String(a.D).match(B_)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),p=!mA.test(C?C.toLowerCase():"")}h=p}if(h)at(a,"complete"),at(a,"success");else{a.m=6;try{var b=2<wn(a)?a.g.statusText:""}catch{b=""}a.l=b+" ["+a.Z()+"]",Y_(a)}}finally{Wc(a)}}}}function Wc(a,l){if(a.g){J_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||at(a,"ready");try{h.onreadystatechange=p}catch{}}}function J_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function wn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),QS(l)}};function X_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function vA(a){let l={};a=(a.g&&2<=wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(ee(a[p]))continue;var h=w(a[p]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let b=l[C]||[];l[C]=b,b.push(h)}D(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function eE(a){this.Aa=0,this.i=[],this.j=new Ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ks("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ks("baseRetryDelayMs",5e3,a),this.cb=ks("retryDelaySeedMs",1e4,a),this.Wa=ks("forwardChannelMaxRetries",2,a),this.wa=ks("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new k_(a&&a.concurrentRequestLimit),this.Da=new pA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eE.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){ct(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=uE(this,null,this.W),Qc(this)};function qh(a){if(tE(a),a.G==3){var l=a.U++,h=In(a.I);if(me(h,"SID",a.K),me(h,"RID",l),me(h,"TYPE","terminate"),Fs(a,h),l=new Qn(a,a.j,l),l.L=2,l.v=qc(In(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=lE(l.j,null),l.g.ea(l.v)),l.F=Date.now(),$c(l)}cE(a)}function Kc(a){a.g&&(Wh(a),a.g.cancel(),a.g=null)}function tE(a){Kc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Yc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Qc(a){if(!F_(a.h)&&!a.s){a.s=!0;var l=a.Ga;_s||f_(),Es||(_s(),Es=!0),Ch.add(l,a),a.B=0}}function _A(a,l){return L_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=bs(m(a.Ga,a,l),aE(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new Qn(this,this.j,a),b=this.o;if(this.S&&(b?(b=y(b),I(b,this.S)):b=this.S),this.m!==null||this.O||(C.H=b,b=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=rE(this,C,l),h=In(this.I),me(h,"RID",a),me(h,"CVER",22),this.D&&me(h,"X-HTTP-Session-Id",this.D),Fs(this,h),b&&(this.O?l="headers="+encodeURIComponent(String(K_(b)))+"&"+l:this.m&&zh(h,this.m,b)),Hh(this.h,C),this.Ua&&me(h,"TYPE","init"),this.P?(me(h,"$req",l),me(h,"SID","null"),C.T=!0,Uh(C,h,null)):Uh(C,h,l),this.G=2}}else this.G==3&&(a?nE(this,a):this.i.length==0||F_(this.h)||nE(this))};function nE(a,l){var h;l?h=l.l:h=a.U++;let p=In(a.I);me(p,"SID",a.K),me(p,"RID",h),me(p,"AID",a.T),Fs(a,p),a.m&&a.o&&zh(p,a.m,a.o),h=new Qn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=rE(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Hh(a.h,h),Uh(h,p,l)}function Fs(a,l){a.H&&Ue(a.H,function(h,p){me(l,p,h)}),a.l&&j_({},function(h,p){me(l,p,h)})}function rE(a,l,h){h=Math.min(a.i.length,h);var p=a.l?m(a.l.Na,a.l,a):null;e:{var C=a.i;let b=-1;for(;;){let x=["count="+h];b==-1?0<h?(b=C[0].g,x.push("ofs="+b)):b=0:x.push("ofs="+b);let he=!0;for(let qe=0;qe<h;qe++){let ce=C[qe].g,Je=C[qe].map;if(ce-=b,0>ce)b=Math.max(0,C[qe].g-100),he=!1;else try{gA(Je,x,"req"+ce+"_")}catch{p&&p(Je)}}if(he){p=x.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function iE(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;_s||f_(),Es||(_s(),Es=!0),Ch.add(l,a),a.v=0}}function Gh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=bs(m(a.Fa,a),aE(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,oE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=bs(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Kc(this),oE(this))};function Wh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function oE(a){a.g=new Qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=In(a.qa);me(l,"RID","rpc"),me(l,"SID",a.K),me(l,"AID",a.T),me(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&me(l,"TO",a.ja),me(l,"TYPE","xmlhttp"),Fs(a,l),a.m&&a.o&&zh(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=qc(In(l)),h.m=null,h.P=!0,P_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Kc(this),Gh(this),ct(19))};function Yc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function sE(a,l){var h=null;if(a.g==l){Yc(a),Wh(a),a.g=null;var p=2}else if($h(a.h,l))h=l.D,V_(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var C=a.B;p=Uc(),at(p,new A_(p,h)),Qc(a)}else iE(a);else if(C=l.s,C==3||C==0&&0<l.X||!(p==1&&_A(a,l)||p==2&&Gh(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),C){case 1:Mr(a,5);break;case 4:Mr(a,10);break;case 3:Mr(a,6);break;default:Mr(a,2)}}}function aE(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function Mr(a,l){if(a.j.info("Error code "+l),l==2){var h=m(a.fb,a),p=a.Xa;let C=!p;p=new Nr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Hc(p,"https"),qc(p),C?hA(p.toString(),h):fA(p.toString(),h)}else ct(2);a.G=0,a.l&&a.l.sa(l),cE(a),tE(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function cE(a){if(a.G=0,a.ka=[],a.l){let l=U_(a.h);(l.length!=0||a.i.length!=0)&&(P(a.ka,l),P(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function uE(a,l,h){var p=h instanceof Nr?In(h):new Nr(h);if(p.g!="")l&&(p.g=l+"."+p.g),zc(p,p.s);else{var C=c.location;p=C.protocol,l=l?l+"."+C.hostname:C.hostname,C=+C.port;var b=new Nr(null);p&&Hc(b,p),l&&(b.g=l),C&&zc(b,C),h&&(b.l=h),p=b}return h=a.D,l=a.ya,h&&l&&me(p,h,l),me(p,"VER",a.la),Fs(a,p),p}function lE(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new ve(new Ps({eb:h})):new ve(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dE(){}t=dE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zc(){}Zc.prototype.g=function(a,l){return new _t(a,l)};function _t(a,l){Ze.call(this),this.g=new eE(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!ee(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!ee(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new ji(this)}A(_t,Ze),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){qh(this.g)},_t.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Oh(a),a=h);l.i.push(new nA(l.Ya++,a)),l.G==3&&Qc(l)},_t.prototype.N=function(){this.g.l=null,delete this.j,qh(this.g),delete this.g,_t.aa.N.call(this)};function hE(a){kh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}A(hE,kh);function fE(){Fh.call(this),this.status=1}A(fE,Fh);function ji(a){this.g=a}A(ji,dE),ji.prototype.ua=function(){at(this.g,"a")},ji.prototype.ta=function(a){at(this.g,new hE(a))},ji.prototype.sa=function(a){at(this.g,new fE)},ji.prototype.ra=function(){at(this.g,"b")},Zc.prototype.createWebChannel=Zc.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,yy=Hn.createWebChannelTransport=function(){return new Zc},my=Hn.getStatEventTarget=function(){return Uc()},gy=Hn.Event=Ar,Ld=Hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jc.NO_ERROR=0,jc.TIMEOUT=8,jc.HTTP_ERROR=6,dc=Hn.ErrorCode=jc,R_.COMPLETE="complete",py=Hn.EventType=R_,C_.EventType=Cs,Cs.OPEN="a",Cs.CLOSE="b",Cs.ERROR="c",Cs.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Wo=Hn.WebChannel=C_,iV=Hn.FetchXmlHttpFactory=Ps,ve.prototype.listenOnce=ve.prototype.L,ve.prototype.getLastError=ve.prototype.Ka,ve.prototype.getLastErrorCode=ve.prototype.Ba,ve.prototype.getStatus=ve.prototype.Z,ve.prototype.getResponseJson=ve.prototype.Oa,ve.prototype.getResponseText=ve.prototype.oa,ve.prototype.send=ve.prototype.ea,ve.prototype.setWithCredentials=ve.prototype.Ha,fy=Hn.XhrIo=ve}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});var fT="@firebase/firestore",pT="4.8.0";var He=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");var ps="11.10.0";var Ai=new pn("@firebase/firestore");function Ko(){return Ai.logLevel}function L(t,...e){if(Ai.logLevel<=X.DEBUG){let n=e.map(zv);Ai.debug(`Firestore (${ps}): ${t}`,...n)}}function Ri(t,...e){if(Ai.logLevel<=X.ERROR){let n=e.map(zv);Ai.error(`Firestore (${ps}): ${t}`,...n)}}function ts(t,...e){if(Ai.logLevel<=X.WARN){let n=e.map(zv);Ai.warn(`Firestore (${ps}): ${t}`,...n)}}function zv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QT(t,r,n)}function QT(t,e,n){let r=`FIRESTORE (${ps}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ri(r),new Error(r)}function we(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||QT(e,i,r)}function ge(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var zd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Iy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(He.UNAUTHENTICATED))}shutdown(){}},wy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Dy=class{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new zd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new He(e)}},Cy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ty=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Cy(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}},qd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},by=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function oV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function sV(){return new TextEncoder}var vc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=oV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function Sy(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=sV(),s=aV(o.encode(gT(t,n)),o.encode(gT(e,n)));return s!==0?s:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function gT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function aV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function ns(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var mT="__name__",Gd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ae(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Sy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kd.fromString(e.substring(4,e.length-2))}},Se=class t extends Gd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},cV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nt=class t extends Gd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return cV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mT}static keyField(){return new t([mT])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new U(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new U(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var J=class t{constructor(e){this.path=e}static fromPath(e){return new t(Se.fromString(e))}static fromName(e){return new t(Se.fromString(e).popFirst(5))}static empty(){return new t(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Se(e.slice()))}};function YT(t,e,n){if(!n)throw new U(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uV(t,e,n,r){if(e===!0&&r===!0)throw new U(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yT(t){if(!J.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vT(t){if(J.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function JT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=qv(t);throw new U(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Pe(t,e){let n={typeString:t};return e&&(n.value=e),n}function bc(t,e){if(!ZT(t))throw new U(R.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new U(R.INVALID_ARGUMENT,n);return!0}var _T=-62135596800,ET=1e6,Ve=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ET);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_T)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ET}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bc(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-_T;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:Pe("string",Ve._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};var Ie=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ve(0,0))}static max(){return new t(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var _c=-1,Ay=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ay.UNKNOWN_ID=-1;function lV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new Ni(i,J.empty(),e)}function dV(t){return new Ni(t.readTime,t.key,_c)}var Ni=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ie.min(),J.empty(),_c)}static max(){return new t(Ie.max(),J.empty(),_c)}};function hV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var fV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ry=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Gv(t){return S(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==fV)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let d=u;n(e[d]).next(f=>{s[d]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function pV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sc(t){return t.name==="IndexedDbTransactionError"}var XT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),Wv=-1;function Kv(t){return t==null}function Ec(t){return t===0&&1/t==-1/0}function gV(t){return typeof t=="number"&&Number.isInteger(t)&&!Ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var eb="";function mV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IT(e)),e=yV(t.get(n),e);return IT(e)}function yV(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case eb:n+="";break;default:n+=o}}return n}function IT(t){return t+eb+""}var vV="remoteDocuments",tb="owner";var nb="mutationQueues";var rb="mutations";var ib="documentMutations",_V="remoteDocumentsV14";var ob="remoteDocumentGlobal";var sb="targets";var ab="targetDocuments";var cb="targetGlobal",ub="collectionParents";var lb="clientMetadata";var db="bundles";var hb="namedQueries";var EV="indexConfiguration";var IV="indexState";var wV="indexEntries";var fb="documentOverlays";var DV="globals";var CV=[nb,rb,ib,vV,sb,tb,cb,ab,lb,ob,ub,db,hb],_X=[...CV,fb],TV=[nb,rb,ib,_V,sb,tb,cb,ab,lb,ob,ub,db,hb,fb],bV=TV,SV=[...bV,EV,IV,wV];var EX=[...SV,DV];function wT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pt=class t{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yo(this.root,e,this.comparator,!0)}},Yo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class t{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wd(this.data.getIterator())}getIteratorFrom(e){return new Wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Wd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var yn=class t{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new t([])}unionWith(e){let n=new st(Nt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ns(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ny=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ny("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qn.EMPTY_BYTE_STRING=new qn("");var AV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(t){if(we(!!t,39018),typeof t=="string"){let e=0,n=AV.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mi(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}var gb="server_timestamp",mb="__type__",yb="__previous_value__",vb="__local_write_time__";function Qv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mb])===null||n===void 0?void 0:n.stringValue)===gb}function Yv(t){let e=t.mapValue.fields[yb];return Qv(e)?Yv(e):e}function Kd(t){let e=Cr(t.mapValue.fields[vb].timestampValue);return new Ve(e.seconds,e.nanos)}var My=class{constructor(e,n,r,i,o,s,c,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}},Qd="(default)",Py=class t{constructor(e,n){this.projectId=e,this.database=n||Qd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Qd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Zv="__type__",_b="__max__",Vd={mapValue:{fields:{__type__:{stringValue:_b}}}},Jv="__vector__",Ic="value";function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:Ib(t)?9007199254740991:Eb(t)?10:11:Y(28295,{value:t})}function _n(t,e){if(t===e)return!0;let n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kd(t).isEqual(Kd(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Cr(i.timestampValue),c=Cr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Mi(i.bytesValue).isEqual(Mi(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Me(i.geoPointValue.latitude)===Me(o.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Me(i.integerValue)===Me(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Me(i.doubleValue),c=Me(o.doubleValue);return s===c?Ec(s)===Ec(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return ns(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(wT(s)!==wT(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!_n(s[u],c[u])))return!1;return!0})(t,e);default:return Y(52216,{left:t})}}function wc(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function rs(t,e){if(t===e)return 0;let n=Pi(t),r=Pi(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Me(o.integerValue||o.doubleValue),u=Me(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(Kd(t),Kd(e));case 5:return Sy(t.stringValue,e.stringValue);case 6:return(function(o,s){let c=Mi(o),u=Mi(s);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=ae(c[d],u[d]);if(f!==0)return f}return ae(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=ae(Me(o.latitude),Me(s.latitude));return c!==0?c:ae(Me(o.longitude),Me(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return CT(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,d,f;let g=o.fields||{},m=s.fields||{},v=(c=g[Ic])===null||c===void 0?void 0:c.arrayValue,A=(u=m[Ic])===null||u===void 0?void 0:u.arrayValue,O=ae(((d=v?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return O!==0?O:CT(v,A)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Vd.mapValue&&s===Vd.mapValue)return 0;if(o===Vd.mapValue)return 1;if(s===Vd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),d=s.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let m=Sy(u[g],f[g]);if(m!==0)return m;let v=rs(c[u[g]],d[f[g]]);if(v!==0)return v}return ae(u.length,f.length)})(t.mapValue,e.mapValue);default:throw Y(23264,{le:n})}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=Cr(t),r=Cr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function CT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=rs(n[i],r[i]);if(o)return o}return ae(n.length,r.length)}function is(t){return Oy(t)}function Oy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Cr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Mi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return J.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Oy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Oy(n.fields[s])}`;return i+"}"})(t.mapValue):Y(61005,{value:t})}function Bd(t){switch(Pi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Yv(t);return e?16+Bd(e):16;case 5:return 2*t.stringValue.length;case 6:return Mi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Bd(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return gs(r.fields,(o,s)=>{i+=o.length+Bd(s)}),i})(t.mapValue);default:throw Y(13486,{value:t})}}function xy(t){return!!t&&"integerValue"in t}function Xv(t){return!!t&&"arrayValue"in t}function $d(t){return!!t&&"mapValue"in t}function Eb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zv])===null||n===void 0?void 0:n.stringValue)===Jv}function fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ib(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_b}var wX={mapValue:{fields:{[Zv]:{stringValue:Jv},[Ic]:{arrayValue:{}}}}};var mn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=fc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());$d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(fc(this.value))}};function wb(t){let e=[];return gs(t.fields,(n,r)=>{let i=new Nt([n]);if($d(r)){let o=wb(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new yn(e)}var os=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Ie.min(),Ie.min(),Ie.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ie.min(),Ie.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ie.min(),Ie.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ss=class{constructor(e,n){this.position=e,this.inclusive=n}};function TT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=rs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}var as=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function RV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Yd=class{},ze=class t extends Yd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fy(e,n,r):n==="array-contains"?new Uy(e,r):n==="in"?new jy(e,r):n==="not-in"?new By(e,r):n==="array-contains-any"?new $y(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ly(e,r):new Vy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rs(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Tr=class t extends Yd{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return Db(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function Db(t){return t.op==="and"}function Cb(t){return NV(t)&&Db(t)}function NV(t){for(let e of t.filters)if(e instanceof Tr)return!1;return!0}function ky(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+is(t.value);if(Cb(t))return t.filters.map(e=>ky(e)).join(",");{let e=t.filters.map(n=>ky(n)).join(",");return`${t.op}(${e})`}}function Tb(t,e){return t instanceof ze?(function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&_n(r.value,i.value)})(t,e):t instanceof Tr?(function(r,i){return i instanceof Tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&Tb(s,i.filters[c]),!0):!1})(t,e):void Y(19439)}function bb(t){return t instanceof ze?(function(n){return`${n.field.canonicalString()} ${n.op} ${is(n.value)}`})(t):t instanceof Tr?(function(n){return n.op.toString()+" {"+n.getFilters().map(bb).join(" ,")+"}"})(t):"Filter"}var Fy=class extends ze{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){let n=J.comparator(e.key,this.key);return this.matchesComparison(n)}},Ly=class extends ze{constructor(e,n){super(e,"in",n),this.keys=Sb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Vy=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=Sb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Sb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}var Uy=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Xv(n)&&wc(n.arrayValue,this.value)}},jy=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}},By=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wc(this.value.arrayValue,n)}},$y=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wc(this.value.arrayValue,r))}};var Hy=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function ST(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Hy(t,e,n,r,i,o,s)}function e_(t){let e=ge(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ky(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Kv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>is(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>is(r)).join(",")),e.Pe=n}return e.Pe}function t_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bT(t.startAt,e.startAt)&&bT(t.endAt,e.endAt)}var cs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function MV(t,e,n,r,i,o,s,c){return new cs(t,e,n,r,i,o,s,c)}function PV(t){return new cs(t)}function AT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OV(t){return t.collectionGroup!==null}function pc(t){let e=ge(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new st(Nt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new as(o,r))}),n.has(Nt.keyField().canonicalString())||e.Te.push(new as(Nt.keyField(),r))}return e.Te}function Di(t){let e=ge(t);return e.Ie||(e.Ie=xV(e,pc(t))),e.Ie}function xV(t,e){if(t.limitType==="F")return ST(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new as(i.field,o)});let n=t.endAt?new ss(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ss(t.startAt.position,t.startAt.inclusive):null;return ST(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zy(t,e,n){return new cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ab(t,e){return t_(Di(t),Di(e))&&t.limitType===e.limitType}function Rb(t){return`${e_(Di(t))}|lt:${t.limitType}`}function hc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bb(i)).join(", ")}]`),Kv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>is(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>is(i)).join(",")),`Target(${r})`})(Di(t))}; limitType=${t.limitType})`}function n_(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of pc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let d=TT(s,c,u);return s.inclusive?d<=0:d<0})(r.startAt,pc(r),i)||r.endAt&&!(function(s,c,u){let d=TT(s,c,u);return s.inclusive?d>=0:d>0})(r.endAt,pc(r),i))})(t,e)}function kV(t){return(e,n)=>{let r=!1;for(let i of pc(t)){let o=FV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FV(t,e,n){let r=t.field.isKeyField()?J.comparator(e.key,n.key):(function(o,s,c){let u=s.data.field(o),d=c.data.field(o);return u!==null&&d!==null?rs(u,d):Y(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}var Gn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return pb(this.inner)}size(){return this.innerSize}};var LV=new Pt(J.comparator);function Zd(){return LV}var Nb=new Pt(J.comparator);function Ud(...t){let e=Nb;for(let n of t)e=e.insert(n.key,n);return e}function Mb(t){let e=Nb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return gc()}function Pb(){return gc()}function gc(){return new Gn(t=>t.toString(),(t,e)=>t.isEqual(e))}var VV=new Pt(J.comparator),UV=new st(J.comparator);function ot(...t){let e=UV;for(let n of t)e=e.add(n);return e}var jV=new st(ae);function BV(){return jV}function r_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function Ob(t){return{integerValue:""+t}}function $V(t,e){return gV(e)?Ob(e):r_(t,e)}var us=class{constructor(){this._=void 0}};function HV(t,e,n){return t instanceof ls?(function(i,o){let s={fields:{[mb]:{stringValue:gb},[vb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Qv(o)&&(o=Yv(o)),o&&(s.fields[yb]=o),{mapValue:s}})(n,e):t instanceof Oi?kb(t,e):t instanceof xi?Fb(t,e):(function(i,o){let s=xb(i,o),c=RT(s)+RT(i.Ee);return xy(s)&&xy(i.Ee)?Ob(c):r_(i.serializer,c)})(t,e)}function zV(t,e,n){return t instanceof Oi?kb(t,e):t instanceof xi?Fb(t,e):n}function xb(t,e){return t instanceof ds?(function(r){return xy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var ls=class extends us{},Oi=class extends us{constructor(e){super(),this.elements=e}};function kb(t,e){let n=Lb(e);for(let r of t.elements)n.some(i=>_n(i,r))||n.push(r);return{arrayValue:{values:n}}}var xi=class extends us{constructor(e){super(),this.elements=e}};function Fb(t,e){let n=Lb(e);for(let r of t.elements)n=n.filter(i=>!_n(i,r));return{arrayValue:{values:n}}}var ds=class extends us{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function RT(t){return Me(t.integerValue||t.doubleValue)}function Lb(t){return Xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qV(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Oi&&i instanceof Oi||r instanceof xi&&i instanceof xi?ns(r.elements,i.elements,_n):r instanceof ds&&i instanceof ds?_n(r.Ee,i.Ee):r instanceof ls&&i instanceof ls})(t.transform,e.transform)}var qy=class{constructor(e,n){this.version=e,this.transformResults=n}},Ci=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var hs=class{};function Vb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jd(t.key,Ci.none()):new ki(t.key,t.data,Ci.none());{let n=t.data,r=mn.empty(),i=new st(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wn(t.key,r,new yn(i.toArray()),Ci.none())}}function GV(t,e,n){t instanceof ki?(function(i,o,s){let c=i.value.clone(),u=MT(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Wn?(function(i,o,s){if(!Hd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=MT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Ub(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function mc(t,e,n,r){return t instanceof ki?(function(o,s,c,u){if(!Hd(o.precondition,s))return c;let d=o.value.clone(),f=PT(o.fieldTransforms,u,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Wn?(function(o,s,c,u){if(!Hd(o.precondition,s))return c;let d=PT(o.fieldTransforms,u,s),f=s.data;return f.setAll(Ub(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))})(t,e,n,r):(function(o,s,c){return Hd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,n)}function WV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=xb(r.transform,i||null);o!=null&&(n===null&&(n=mn.empty()),n.set(r.field,o))}return n||null}function NT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ns(r,i,(o,s)=>qV(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ki=class extends hs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wn=class extends hs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Ub(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function MT(t,e,n){let r=new Map;we(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,zV(s,c,n[i]))}return r}function PT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,HV(o,s,e))}return r}var Jd=class extends hs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Gy=class extends hs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Wy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&GV(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Pb();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=Vb(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&ns(this.mutations,e.mutations,(n,r)=>NT(n,r))&&ns(this.baseMutations,e.baseMutations,(n,r)=>NT(n,r))}},Ky=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return VV})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Qy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Re,se;function KV(t){switch(t){case R.OK:return Y(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function QV(t){if(t===void 0)return Ri("GRPC error has no .code"),R.UNKNOWN;switch(t){case Re.OK:return R.OK;case Re.CANCELLED:return R.CANCELLED;case Re.UNKNOWN:return R.UNKNOWN;case Re.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Re.INTERNAL:return R.INTERNAL;case Re.UNAVAILABLE:return R.UNAVAILABLE;case Re.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Re.NOT_FOUND:return R.NOT_FOUND;case Re.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Re.ABORTED:return R.ABORTED;case Re.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Re.DATA_LOSS:return R.DATA_LOSS;default:return Y(39323,{code:t})}}(se=Re||(Re={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";var DX=new kd([4294967295,4294967295],0);var Yy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Zy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZV(t,e){return Zy(t,e.toTimestamp())}function Jo(t){return we(!!t,49232),Ie.fromTimestamp((function(n){let r=Cr(n);return new Ve(r.seconds,r.nanos)})(t))}function jb(t,e){return Jy(t,e).canonicalString()}function Jy(t,e){let n=(function(i){return new Se(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function JV(t){let e=Se.fromString(t);return we(s2(e),10190,{key:e.toString()}),e}function Xy(t,e){return jb(t.databaseId,e.path)}function XV(t){let e=JV(t);return e.length===4?Se.emptyPath():t2(e)}function e2(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function t2(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function OT(t,e,n){return{name:Xy(t,e),fields:n.value.mapValue.fields}}function n2(t,e){let n;if(e instanceof ki)n={update:OT(t,e.key,e.value)};else if(e instanceof Jd)n={delete:Xy(t,e.key)};else if(e instanceof Wn)n={update:OT(t,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof Gy))return Y(16599,{Rt:e.type});n={verify:Xy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof ls)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Oi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ds)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw Y(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:ZV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)})(t,e.precondition)),n}function r2(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Jo(i.updateTime):Jo(o);return s.isEqual(Ie.min())&&(s=Jo(o)),new qy(s,i.transformResults||[])})(n,e))):[]}function i2(t){let e=XV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(g){let m=Bb(g);return m instanceof Tr&&Cb(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(g){return g.map(m=>(function(A){return new as(Qo(A.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(m))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let m;return m=typeof g=="object"?g.value:g,Kv(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(g){let m=!!g.before,v=g.values||[];return new ss(v,m)})(n.startAt));let d=null;return n.endAt&&(d=(function(g){let m=!g.before,v=g.values||[];return new ss(v,m)})(n.endAt)),MV(e,i,s,o,c,"F",u,d)}function Bb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Qo(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qo(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Qo(n.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Qo(n.unaryFilter.field);return ze.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ze.create(Qo(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Tr.create(n.compositeFilter.filters.map(r=>Bb(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}})(n.compositeFilter.op))})(t):Y(30097,{filter:t})}function Qo(t){return Nt.fromServerFormat(t.fieldPath)}function o2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function s2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ev=class{constructor(e){this.gt=e}};function a2(t){let e=i2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zy(e,e.limit,"L"):e}var Xd=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Ec(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Cr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Mi(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?Ib(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):Eb(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Y(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Ic,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Me(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),J.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Xd.Ut=new Xd;var tv=class{constructor(){this.Dn=new nv}addToCollectionParentIndex(e,n){return this.Dn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Ni.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},nv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Se.comparator)).toArray()}};var CX=new Uint8Array(0);var xT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$b=41943040,Ht=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht($b,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);var Dc=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var kT="LruGarbageCollector",c2=1048576;function FT([t,e],[n,r]){let i=ae(t,n);return i===0?ae(e,r):i}var rv=class{constructor(e){this.Tr=e,this.buffer=new st(FT),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();FT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},iv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(kT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>S(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sc(n)?L(kT,"Ignoring IndexedDB error during garbage collection: ",n):yield Gv(n)}yield this.Rr(3e5)}))}},ov=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(XT.ue);let r=new rv(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(xT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xT):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,d,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),Ko()<=X.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function u2(t,e){return new ov(t,e)}var sv=class{constructor(){this.changes=new Gn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,os.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var av=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var cv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mc(r.mutation,i,yn.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){let i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ud();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Zd(),s=gc(),c=(function(){return gc()})();return n.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Wn)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),mc(f.mutation,d,f.mutation.getFieldMask(),Ve.now())):s.set(d.key,yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,f)=>s.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new av(f,(g=s.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=gc(),i=new Pt((s,c)=>s-c),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let f=r.get(u)||yn.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||ot()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=Pb();f.forEach(m=>{if(!o.has(m)){let v=Vb(n.get(m),r.get(m));v!==null&&g.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(wi()),c=_c,u=o;return s.next(d=>M.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,ot())).next(f=>({batchId:c,changes:Mb(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Ud();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ud();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let d=(function(g,m){return new cs(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,os.newInvalidDocument(f)))});let c=Ud();return s.forEach((u,d)=>{let f=o.get(u);f!==void 0&&mc(f.mutation,d,yn.empty(),Ve.now()),n_(n,d)&&(c=c.insert(u,d))}),c})}};var uv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return M.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Jo(i.createTime)}})(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:a2(i.bundledQuery),readTime:Jo(i.readTime)}})(n)),M.resolve()}};var lv=class{constructor(){this.overlays=new Pt(J.comparator),this.kr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=wi();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=wi(),o=n.length+1,s=new J(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pt((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=o.get(d.largestBatchId);f===null&&(f=wi(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=wi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return M.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Qy(n,r));let o=this.kr.get(n);o===void 0&&(o=ot(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var dv=class{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var Cc=class{constructor(){this.qr=new st(Ne.Qr),this.$r=new st(Ne.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Ne(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ne(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new J(new Se([])),r=new Ne(n,e),i=new Ne(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new J(new Se([])),r=new Ne(n,e),i=new Ne(n,e+1),o=ot();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ne(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ne=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return J.comparator(e.key,n.key)||ae(e.Hr,n.Hr)}static Ur(e,n){return ae(e.Hr,n.Hr)||J.comparator(e.key,n.key)}};var hv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new st(Ne.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Wy(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Ne(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Wv:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ne(n,0),i=new Ne(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(ae);return n.forEach(i=>{let o=new Ne(i,0),s=new Ne(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new Ne(new J(o),0),c=new st(ae);return this.Yr.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.Hr)),!0)},s),M.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(n.mutations,i=>{let o=new Ne(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Ne(n,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var fv=class{constructor(e){this.ni=e,this.docs=(function(){return new Pt(J.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():os.newInvalidDocument(n))}getEntries(e,n){let r=Zd();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():os.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zd(),s=n.path,c=new J(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||hV(dV(f),r)<=0||(i.has(f.key)||n_(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}ri(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pv(this)}getSize(e){return M.resolve(this.size)}},pv=class extends sv{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var gv=class{constructor(e){this.persistence=e,this.ii=new Gn(n=>e_(n),t_),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Cc,this.targetCount=0,this._i=Dc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),M.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Dc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.hr(n),M.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.oi.containsKey(n))}};var eh=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new XT(0),this.ci=!1,this.ci=!0,this.li=new dv,this.referenceDelegate=e(this),this.hi=new gv(this),this.indexManager=new tv,this.remoteDocumentCache=(function(i){return new fv(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new ev(n),this.Ti=new uv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new hv(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new mv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},mv=class extends Ry{constructor(e){super(),this.currentSequenceNumber=e}},yv=class t{constructor(e){this.persistence=e,this.Ai=new Cc,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw Y(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=J.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return M.or([()=>M.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},th=class t{constructor(e,n){this.persistence=e,this.gi=new Gn(r=>mV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=u2(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bd(e.data.value)),n}Sr(e,n,r){return M.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var vv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ot(),i=ot();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var _v=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ev=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return gC()?8:pV(Rt())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new _v;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ko()<=X.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(Ko()<=X.DEBUG&&L("QueryEngine","Query:",hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ko()<=X.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):M.resolve())}ps(e,n){if(AT(n))return M.resolve(null);let r=Di(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zy(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ot(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.bs(n,c);return this.Ds(n,d,s,u.readTime)?this.ps(e,zy(n,null,"F")):this.vs(e,d,n,u)}))})))}ys(e,n,r,i){return AT(n)||i.isEqual(Ie.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?M.resolve(null):(Ko()<=X.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.vs(e,s,n,lV(i,_c)).next(c=>c))})}bs(e,n){let r=new st(kV(e));return n.forEach((i,o)=>{n_(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Ko()<=X.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",hc(n)),this.gs.getDocumentsMatchingQuery(e,n,Ni.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var l2="LocalStore";var Iv=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Pt(ae),this.Ms=new Gn(o=>e_(o),t_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function d2(t,e,n,r){return new Iv(t,e,n,r)}function Hb(t,e){return S(this,null,function*(){let n=ge(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ot();for(let d of i){s.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Bs:d,removedBatchIds:s,addedBatchIds:c}))})})})}function h2(t,e){let n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,d,f){let g=d.batch,m=g.keys(),v=M.resolve();return m.forEach(A=>{v=v.next(()=>f.getEntry(u,A)).next(O=>{let P=d.docVersions.get(A);we(P!==null,48541),O.version.compareTo(P)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),f.addEntry(O)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,g))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=ot();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function f2(t){let e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function p2(t,e){let n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Wv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var nh=class{constructor(){this.activeTargetIds=BV()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var wv=class{constructor(){this.Fo=new nh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new nh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Dv=class{xo(e){}shutdown(){}};var LT="ConnectivityMonitor",rh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(LT,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(LT,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var jd=null;function Cv(){return jd===null?jd=(function(){return 268435456+Math.round(2147483648*Math.random())})():jd++,"0x"+jd.toString(16)}var vy="RestConnection",g2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Tv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Qd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Cv(),c=this.Go(e,n.toUriEncodedString());L(vy,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:d}=new URL(c),f=hi(d);return this.jo(e,c,u,r,f).then(g=>(L(vy,`Received RPC '${e}' ${s}: `,g),g),g=>{throw ts(vy,`RPC '${e}' ${s} failed with error: `,g,"url: ",c,"request:",r),g})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ps})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=g2[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var bv=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var it="WebChannelConnection",Sv=class extends Tv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Cv();return new Promise((c,u)=>{let d=new fy;d.setWithCredentials(!0),d.listenOnce(py.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case dc.NO_ERROR:let g=d.getResponseJson();L(it,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),c(g);break;case dc.TIMEOUT:L(it,`RPC '${e}' ${s} timed out`),u(new U(R.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:let m=d.getStatus();if(L(it,`RPC '${e}' ${s} failed with status:`,m,"response text:",d.getResponseText()),m>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);let A=v?.error;if(A&&A.status&&A.message){let O=(function(F){let ee=F.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(ee)>=0?ee:R.UNKNOWN})(A.status);u(new U(O,A.message))}else u(new U(R.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new U(R.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{c_:e,streamId:s,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{L(it,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);L(it,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",f,r,15)})}P_(e,n,r){let i=Cv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yy(),c=my(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(it,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=s.createWebChannel(f,u);this.T_(g);let m=!1,v=!1,A=new bv({Ho:P=>{v?L(it,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(L(it,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),L(it,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},Yo:()=>g.close()}),O=(P,F,ee)=>{P.listen(F,re=>{try{ee(re)}catch(De){setTimeout(()=>{throw De},0)}})};return O(g,Wo.EventType.OPEN,()=>{v||(L(it,`RPC '${e}' stream ${i} transport opened.`),A.s_())}),O(g,Wo.EventType.CLOSE,()=>{v||(v=!0,L(it,`RPC '${e}' stream ${i} transport closed`),A.__(),this.I_(g))}),O(g,Wo.EventType.ERROR,P=>{v||(v=!0,ts(it,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),A.__(new U(R.UNAVAILABLE,"The operation could not be completed")))}),O(g,Wo.EventType.MESSAGE,P=>{var F;if(!v){let ee=P.data[0];we(!!ee,16349);let re=ee,De=re?.error||((F=re[0])===null||F===void 0?void 0:F.error);if(De){L(it,`RPC '${e}' stream ${i} received error:`,De);let tn=De.status,Ue=(function(E){let I=Re[E];if(I!==void 0)return QV(I)})(tn),D=De.message;Ue===void 0&&(Ue=R.INTERNAL,D="Unknown error status: "+tn+" with message "+De.message),v=!0,A.__(new U(Ue,D)),g.close()}else L(it,`RPC '${e}' stream ${i} received:`,ee),A.a_(ee)}}),O(c,gy.STAT_EVENT,P=>{P.stat===Ld.PROXY?L(it,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Ld.NOPROXY&&L(it,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function _y(){return typeof document<"u"?document:null}function dh(t){return new Yy(t,!0)}var ih=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var VT="PersistentStream",Av=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ih(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return S(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return S(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return S(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new U(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>S(this,null,function*(){this.state=0,this.start()}))}G_(e){return L(VT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(L(VT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Rv=class extends Av{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=r2(e.writeResults,e.commitTime),r=Jo(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=e2(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>n2(this.serializer,r))};this.k_(n)}};var Nv=class{},Mv=class extends Nv{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Jy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(R.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,Jy(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(R.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Pv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ri(n),this._a=!1):L("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ac="RemoteStore",Ov=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>S(this,null,function*(){Nc(this)&&(L(Ac,"Restarting streams for network reachability change."),yield(function(u){return S(this,null,function*(){let d=ge(u);d.Ia.add(4),yield Rc(d),d.Aa.set("Unknown"),d.Ia.delete(4),yield hh(d)})})(this))}))}),this.Aa=new Pv(r,i)}};function hh(t){return S(this,null,function*(){if(Nc(t))for(let e of t.da)yield e(!0)})}function Rc(t){return S(this,null,function*(){for(let e of t.da)yield e(!1)})}function Nc(t){return ge(t).Ia.size===0}function zb(t,e,n){return S(this,null,function*(){if(!Sc(e))throw e;t.Ia.add(1),yield Rc(t),t.Aa.set("Offline"),n||(n=()=>f2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(null,null,function*(){L(Ac,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield hh(t)}))})}function qb(t,e){return e().catch(n=>zb(t,n,e))}function fh(t){return S(this,null,function*(){let e=ge(t),n=br(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Wv;for(;m2(e);)try{let i=yield p2(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,y2(e,i)}catch(i){yield zb(e,i)}Gb(e)&&Wb(e)})}function m2(t){return Nc(t)&&t.Pa.length<10}function y2(t,e){t.Pa.push(e);let n=br(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Gb(t){return Nc(t)&&!br(t).M_()&&t.Pa.length>0}function Wb(t){br(t).start()}function v2(t){return S(this,null,function*(){br(t).na()})}function _2(t){return S(this,null,function*(){let e=br(t);for(let n of t.Pa)e.X_(n.mutations)})}function E2(t,e,n){return S(this,null,function*(){let r=t.Pa.shift(),i=Ky.from(r,e,n);yield qb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield fh(t)})}function I2(t,e){return S(this,null,function*(){e&&br(t).Z_&&(yield(function(r,i){return S(this,null,function*(){if((function(s){return KV(s)&&s!==R.ABORTED})(i.code)){let o=r.Pa.shift();br(r).N_(),yield qb(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield fh(r)}})})(t,e)),Gb(t)&&Wb(t)})}function UT(t,e){return S(this,null,function*(){let n=ge(t);n.asyncQueue.verifyOperationInProgress(),L(Ac,"RemoteStore received new credentials");let r=Nc(n);n.Ia.add(3),yield Rc(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield hh(n)})}function w2(t,e){return S(this,null,function*(){let n=ge(t);e?(n.Ia.delete(2),yield hh(n)):e||(n.Ia.add(2),yield Rc(n),n.Aa.set("Unknown"))})}function br(t){return t.ma||(t.ma=(function(n,r,i){let o=ge(n);return o.ia(),new Rv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:v2.bind(null,t),n_:I2.bind(null,t),ea:_2.bind(null,t),ta:E2.bind(null,t)}),t.da.push(e=>S(null,null,function*(){e?(t.ma.N_(),yield fh(t)):(yield t.ma.stop(),t.Pa.length>0&&(L(Ac,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var xv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Kb(t,e){if(Ri("AsyncQueue",`${e}: ${t}`),Sc(t))return new U(R.UNAVAILABLE,`${e}: ${t}`);throw t}var kv=class{constructor(){this.queries=jT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=ge(n),o=i.queries;i.queries=jT(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new U(R.ABORTED,"Firestore shutting down"))}};function jT(){return new Gn(t=>Rb(t),Ab)}function D2(t){t.Da.forEach(e=>{e.next()})}var BT,$T;($T=BT||(BT={})).Fa="default",$T.Cache="cache";var C2="SyncEngine";var Fv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Gn(c=>Rb(c),Ab),this.Tu=new Map,this.Iu=new Set,this.du=new Pt(J.comparator),this.Eu=new Map,this.Au=new Cc,this.Ru={},this.Vu=new Map,this.mu=Dc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function T2(t,e,n){return S(this,null,function*(){let r=R2(t);try{let i=yield(function(s,c){let u=ge(s),d=Ve.now(),f=c.reduce((v,A)=>v.add(A.key),ot()),g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=Zd(),O=ot();return u.Os.getEntries(v,f).next(P=>{A=P,A.forEach((F,ee)=>{ee.isValidDocument()||(O=O.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,A)).next(P=>{g=P;let F=[];for(let ee of c){let re=WV(ee,g.get(ee.key).overlayedDocument);re!=null&&F.push(new Wn(ee.key,re,wb(re.value.mapValue),Ci.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,F,c)}).next(P=>{m=P;let F=P.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(v,P.batchId,F)})}).then(()=>({batchId:m.batchId,changes:Mb(g)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let d=s.Ru[s.currentUser.toKey()];d||(d=new Pt(ae)),d=d.insert(c,u),s.Ru[s.currentUser.toKey()]=d})(r,i.batchId,n),yield ph(r,i.changes),yield fh(r.remoteStore)}catch(i){let o=Kb(i,"Failed to persist write");n.reject(o)}})}function HT(t,e,n){let r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=ge(s);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let m of g.wa)m.va(c)&&(d=!0)}),d&&D2(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function b2(t,e){return S(this,null,function*(){let n=ge(t),r=e.batch.batchId;try{let i=yield h2(n.localStore,e);Yb(n,r,null),Qb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ph(n,i)}catch(i){yield Gv(i)}})}function S2(t,e,n){return S(this,null,function*(){let r=ge(t);try{let i=yield(function(s,c){let u=ge(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(we(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})})(r.localStore,e);Yb(r,e,n),Qb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ph(r,i)}catch(i){yield Gv(i)}})}function Qb(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function Yb(t,e,n){let r=ge(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function ph(t,e,n){return S(this,null,function*(){let r=ge(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=vv.Es(u.targetId,d);o.push(g)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,d){return S(this,null,function*(){let f=ge(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(d,m=>M.forEach(m.Is,v=>f.persistence.referenceDelegate.addReference(g,m.targetId,v)).next(()=>M.forEach(m.ds,v=>f.persistence.referenceDelegate.removeReference(g,m.targetId,v)))))}catch(g){if(!Sc(g))throw g;L(l2,"Failed to update sequence numbers: "+g)}for(let g of d){let m=g.targetId;if(!g.fromCache){let v=f.Fs.get(m),A=v.snapshotVersion,O=v.withLastLimboFreeSnapshotVersion(A);f.Fs=f.Fs.insert(m,O)}}})})(r.localStore,o))})}function A2(t,e){return S(this,null,function*(){let n=ge(t);if(!n.currentUser.isEqual(e)){L(C2,"User change. New user:",e.toKey());let r=yield Hb(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new U(R.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ph(n,r.Bs)}})}function R2(t){let e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S2.bind(null,e),e}var Zb=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=dh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return d2(this.persistence,new Ev,n.initialUser,this.serializer)}Du(n){return new eh(yv.Vi,this.serializer)}bu(n){return new wv}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Lv=class extends Zb{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){we(this.persistence.referenceDelegate instanceof th,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new iv(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new eh(r=>th.Vi(r,n),this.serializer)}};var N2=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=A2.bind(null,this.syncEngine),yield w2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return(function(){return new kv})()}createDatastore(n){let r=dh(n.databaseInfo.databaseId),i=(function(s){return new Sv(s)})(n.databaseInfo);return(function(s,c,u,d){return new Mv(s,c,u,d)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,c,u){return new Ov(i,o,s,c,u)})(this.localStore,this.datastore,n.asyncQueue,r=>HT(this.syncEngine,r,0),(function(){return rh.C()?new rh:new Dv})())}createSyncEngine(n,r){return(function(o,s,c,u,d,f,g){let m=new Fv(o,s,c,u,d,f);return g&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield(function(o){return S(this,null,function*(){let s=ge(o);L(Ac,"RemoteStore shutting down."),s.Ia.add(5),yield Rc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Sr="FirestoreClient",Vv=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=vc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){L(Sr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L(Sr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Kb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Ey(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L(Sr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(null,null,function*(){r.isEqual(i)||(yield Hb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ts("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ts("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function zT(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield M2(t);L(Sr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UT(e.remoteStore,i)),t._onlineComponents=e})}function M2(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L(Sr,"Using user provided OfflineComponentProvider");try{yield Ey(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ts("Error using user provided cache. Falling back to memory cache: "+n),yield Ey(t,new Zb)}}else L(Sr,"Using default OfflineComponentProvider"),yield Ey(t,new Lv(void 0));return t._offlineComponents})}function P2(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L(Sr,"Using user provided OnlineComponentProvider"),yield zT(t,t._uninitializedComponentsProvider._online)):(L(Sr,"Using default OnlineComponentProvider"),yield zT(t,new N2))),t._onlineComponents})}function O2(t){return P2(t).then(e=>e.syncEngine)}function Jb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var qT=new Map;var Xb="firestore.googleapis.com",GT=!0,oh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xb,this.ssl=GT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:GT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$b;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c2)throw new U(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},fs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Iy;switch(r.type){case"firstParty":return new Ty(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=qT.get(n);r&&(L("ComponentProvider","Removing Datastore"),qT.delete(n),r.terminate())})(this),Promise.resolve()}};function eS(t,e,n,r={}){var i;t=JT(t,fs);let o=hi(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Am(`https://${u}`),Rm("Firestore",!0)),s.host!==Xb&&s.host!==u&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!fi(d,c)&&(t._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=He.MOCK_USER;else{f=lC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new U(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new He(m)}t._authCredentials=new wy(new zd(f,g))}}var Uv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Mt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bc(n,t._jsonSchema))return new t(e,r||null,new J(Se.fromString(n.referencePath)))}};Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Pe("string",Mt._jsonSchemaVersion),referencePath:Pe("string")};var Dr=class t extends Uv{constructor(e,n,r){super(e,n,PV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new J(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function tS(t,e,...n){if(t=$t(t),YT("collection","path",e),t instanceof fs){let r=Se.fromString(e,...n);return vT(r),new Dr(t,null,r)}{if(!(t instanceof Mt||t instanceof Dr))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return vT(r),new Dr(t.firestore,null,r)}}function nS(t,e,...n){if(t=$t(t),arguments.length===1&&(e=vc.newId()),YT("doc","path",e),t instanceof fs){let r=Se.fromString(e,...n);return yT(r),new Mt(t,null,new J(r))}{if(!(t instanceof Mt||t instanceof Dr))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return yT(r),new Mt(t.firestore,t instanceof Dr?t.converter:null,new J(r))}}var WT="AsyncQueue",sh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ih(this,"async_queue_retry"),this.oc=()=>{let r=_y();r&&L(WT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=_y();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=_y();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new zn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return S(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Sc(e))throw e;L(WT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Ri("INTERNAL UNHANDLED ERROR: ",KT(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=xv.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Y(47125,{hc:KT(this.tc)})}verifyOperationInProgress(){}Pc(){return S(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function KT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var ah=class extends fs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new sh(e),this._firestoreClient=void 0,yield e}})}};function rS(t,e){let n=typeof t=="object"?t:zo(),r=typeof t=="string"?t:e||Qd,i=yd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=cC("firestore");o&&eS(i,...o)}return i}function x2(t){if(t._terminated)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k2(t),t._firestoreClient}function k2(t){var e,n,r;let i=t._freezeSettings(),o=(function(c,u,d,f){return new My(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Jb(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Vv(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(t._componentsProvider))}var Ti=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(qn.fromBase64String(e))}catch(n){throw new U(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bc(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:Pe("string",Ti._jsonSchemaVersion),bytes:Pe("string")};var Tc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ch=class{constructor(e){this._methodName=e}};var bi=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(bc(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Pe("string",bi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};var Si=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bc(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new U(R.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Pe("string",Si._jsonSchemaVersion),vectorValues:Pe("object")};var F2=/^__.*__$/,jv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ki(e,this.data,n,this.fieldTransforms)}};function iS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ec:t})}}var Bv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return uh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(iS(this.Ec)&&F2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},$v=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dh(e)}Dc(e,n,r,i=!1){return new Bv({Ec:e,methodName:n,bc:r,path:Nt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function L2(t){let e=t._freezeSettings(),n=dh(t._databaseId);return new $v(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V2(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);cS("Data must be an object, but it was:",s,r);let c=sS(r,s),u,d;if(o.merge)u=new yn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let g of o.mergeFields){let m=U2(e,g,n);if(!s.contains(m))throw new U(R.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);B2(f,m)||f.push(m)}u=new yn(f),d=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=s.fieldTransforms;return new jv(new mn(c),u,d)}function oS(t,e){if(aS(t=$t(t)))return cS("Unsupported field value:",e,t),sS(t,e);if(t instanceof ch)return(function(r,i){if(!iS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=oS(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $V(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ve.fromDate(r);return{timestampValue:Zy(i.serializer,o)}}if(r instanceof Ve){let o=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zy(i.serializer,o)}}if(r instanceof bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ti)return{bytesValue:YV(i.serializer,r._byteString)};if(r instanceof Mt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Si)return(function(s,c){return{mapValue:{fields:{[Zv]:{stringValue:Jv},[Ic]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw c.wc("VectorValues must only contain numeric values.");return r_(c.serializer,d)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${qv(r)}`)})(t,e)}function sS(t,e){let n={};return pb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(t,(r,i)=>{let o=oS(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function aS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof bi||t instanceof Ti||t instanceof Mt||t instanceof ch||t instanceof Si)}function cS(t,e,n){if(!aS(n)||!ZT(n)){let r=qv(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function U2(t,e,n){if((e=$t(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return uS(t,e);throw uh("Field path arguments must be of type string or ",t,!1,void 0,n)}var j2=new RegExp("[~\\*/\\[\\]]");function uS(t,e,n){if(e.search(j2)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tc(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(R.INVALID_ARGUMENT,c+t+u)}function B2(t,e){return t.some(n=>n.isEqual(e))}var lh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Hv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(lS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Hv=class extends lh{data(){return super.data()}};function lS(t,e){return typeof e=="string"?uS(t,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}function $2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Zo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xo=class t extends lh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new es(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(lS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new U(R.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:Pe("string",Xo._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};var es=class extends Xo{data(e={}){return super.data(e)}},yc=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new es(this._firestore,this._userDataWriter,r.key,r,new Zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new es(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Zo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new es(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Zo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:H2(c.type),doc:u,oldIndex:d,newIndex:f}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new U(R.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function H2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}yc._jsonSchemaVersion="firestore/querySnapshot/1.0",yc._jsonSchema={type:Pe("string",yc._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};function dS(t,e){let n=JT(t.firestore,ah),r=nS(t),i=$2(t.converter,e);return z2(n,[V2(L2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ci.exists(!1))]).then(()=>r)}function z2(t,e){return(function(r,i){let o=new zn;return r.asyncQueue.enqueueAndForget(()=>S(null,null,function*(){return T2(yield O2(r),i,o)})),o.promise})(x2(t),e)}(function(e,n=!0){(function(i){ps=i})(Ho),Xt(new pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ah(new Dy(r.getProvider("auth-internal")),new by(s,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new U(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Py(d.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),be(fT,pT,e),be(fT,pT,"esm2017")})();var Fi=class{constructor(e){return e}},hS="firestore",i_=class{constructor(){return Go(hS)}};var o_=new V("angularfire2.firestore-instances");function q2(t,e){let n=Ed(hS,t,e);return n&&new Fi(n)}function G2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fi(r)}}var W2={provide:i_,deps:[[new xn,o_]]},K2={provide:Fi,useFactory:q2,deps:[[new xn,o_],vi]};function fS(t,...e){return be("angularfire",mi.full,"fst"),Gt([K2,W2,{provide:o_,useFactory:G2(t),multi:!0,deps:[pe,Qe,yi,ic,[new xn,xd],[new xn,wd],...e]}])}var pS=Er(dS,!0,2);var gS=Er(tS,!0,2);var mS=Er(rS,!0);var CS=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Te(ya),Te(So))};static \u0275dir=ln({type:t})}return t})(),Y2=(()=>{class t extends CS{static \u0275fac=(()=>{let n;return function(i){return(n||(n=bo(t)))(i||t)}})();static \u0275dir=ln({type:t,features:[ri]})}return t})(),TS=new V("");var Z2={provide:TS,useExisting:$r(()=>_h),multi:!0};function J2(){let t=jt()?jt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var X2=new V(""),_h=(()=>{class t extends CS{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!J2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Te(ya),Te(So),Te(X2,8))};static \u0275dir=ln({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&oi("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Pl([Z2]),ri]})}return t})();var eU=new V(""),tU=new V("");function bS(t){return t!=null}function SS(t){return ii(t)?Ee(t):t}function AS(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function RS(t,e){return e.map(n=>n(t))}function nU(t){return!t.validate}function NS(t){return t.map(e=>nU(e)?e:n=>e.validate(n))}function rU(t){if(!t)return null;let e=t.filter(bS);return e.length==0?null:function(n){return AS(RS(n,e))}}function MS(t){return t!=null?rU(NS(t)):null}function iU(t){if(!t)return null;let e=t.filter(bS);return e.length==0?null:function(n){let r=RS(n,e).map(SS);return vf(r).pipe(ne(AS))}}function PS(t){return t!=null?iU(NS(t)):null}function yS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function oU(t){return t._rawValidators}function sU(t){return t._rawAsyncValidators}function s_(t){return t?Array.isArray(t)?t:[t]:[]}function mh(t,e){return Array.isArray(t)?t.includes(e):t===e}function vS(t,e){let n=s_(e);return s_(t).forEach(i=>{mh(n,i)||n.push(i)}),n}function _S(t,e){return s_(e).filter(n=>!mh(t,n))}var yh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=PS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},a_=class extends yh{name;get formDirective(){return null}get path(){return null}},kc=class extends yh{_parent=null;name=null;valueAccessor=null},c_=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},aU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Jee=Z(k({},aU),{"[class.ng-submitted]":"isSubmitted"}),OS=(()=>{class t extends c_{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Te(kc,2))};static \u0275dir=ln({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Rl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ri]})}return t})();var Mc="VALID",gh="INVALID",ms="PENDING",Pc="DISABLED",Li=class{},vh=class extends Li{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Oc=class extends Li{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},xc=class extends Li{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ys=class extends Li{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var u_=class extends Li{source;constructor(e){super(),this.source=e}};function cU(t){return(Eh(t)?t.validators:t)||null}function uU(t){return Array.isArray(t)?MS(t):t||null}function lU(t,e){return(Eh(e)?e.asyncValidators:t)||null}function dU(t){return Array.isArray(t)?PS(t):t||null}function Eh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var l_=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ht(this.statusReactive)}set status(e){ht(()=>this.statusReactive.set(e))}_status=Ca(()=>this.statusReactive());statusReactive=Ut(void 0);get valid(){return this.status===Mc}get invalid(){return this.status===gh}get pending(){return this.status==ms}get disabled(){return this.status===Pc}get enabled(){return this.status!==Pc}errors;get pristine(){return ht(this.pristineReactive)}set pristine(e){ht(()=>this.pristineReactive.set(e))}_pristine=Ca(()=>this.pristineReactive());pristineReactive=Ut(!0);get dirty(){return!this.pristine}get touched(){return ht(this.touchedReactive)}set touched(e){ht(()=>this.touchedReactive.set(e))}_touched=Ca(()=>this.touchedReactive());touchedReactive=Ut(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_S(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_S(e,this._rawAsyncValidators))}hasValidator(e){return mh(this._rawValidators,e)}hasAsyncValidator(e){return mh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Z(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new xc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new xc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Z(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Oc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Oc(!0,r))}markAsPending(e={}){this.status=ms;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ys(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Z(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pc,this.errors=null,this._forEachChild(i=>{i.disable(Z(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vh(this.value,r)),this._events.next(new ys(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Mc,this._forEachChild(r=>{r.enable(Z(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Z(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mc||this.status===ms)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vh(this.value,n)),this._events.next(new ys(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Z(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pc:Mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ms,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=SS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ys(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Pc:this.errors?gh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ms)?ms:this._anyControlsHaveStatus(gh)?gh:Mc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Oc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new xc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Eh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=uU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=dU(this._rawAsyncValidators)}};var xS=new V("",{providedIn:"root",factory:()=>d_}),d_="always";function hU(t,e){return[...e.path,t]}function fU(t,e,n=d_){gU(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),mU(t,e),vU(t,e),yU(t,e),pU(t,e)}function ES(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function gU(t,e){let n=oU(t);e.validator!==null?t.setValidators(yS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=sU(t);e.asyncValidator!==null?t.setAsyncValidators(yS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ES(e._rawValidators,i),ES(e._rawAsyncValidators,i)}function mU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&kS(t,e)})}function yU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&kS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function kS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function _U(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function EU(t){return Object.getPrototypeOf(t.constructor)===Y2}function IU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===_h?n=o:EU(o)?r=o:i=o}),i||r||n||null}function IS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var wU=class extends l_{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(cU(n),lU(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(wS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new u_(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){wS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var DU={provide:kc,useExisting:$r(()=>h_)},DS=Promise.resolve(),h_=(()=>{class t extends kc{_changeDetectorRef;callSetDisabledState;control=new wU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Le;constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=IU(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),_U(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fU(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){DS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&jg(r);DS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?hU(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Te(a_,9),Te(eU,10),Te(tU,10),Te(TS,10),Te(ba,8),Te(xS,8))};static \u0275dir=ln({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Pl([DU]),ri,To]})}return t})();var CU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=fr({type:t});static \u0275inj=An({})}return t})();var FS=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xS,useValue:n.callSetDisabledState??d_}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=fr({type:t});static \u0275inj=An({imports:[CU]})}return t})();function bU(t,e){if(t&1&&(lt(0,"div",14),dt(1),bt()),t&2){let n=Ng();ti(),Da(" ",n.errorMessage," ")}}var Ih=class t{constructor(e,n){this.router=e;this.firestore=n}emailOrPhone="";isSubmitting=!1;errorMessage="";clearError(){this.errorMessage=""}joinWaitlist(){return S(this,null,function*(){if(this.errorMessage="",!this.emailOrPhone.trim()){this.errorMessage="Please enter a valid email or phone number";return}this.isSubmitting=!0;try{yield pS(gS(this.firestore,"waitlist"),{emailOrPhone:this.emailOrPhone.trim(),timestamp:new Date,userAgent:navigator.userAgent}),console.log("Successfully added to waitlist"),this.router.navigate(["/thank-you"])}catch(e){console.error("Error adding to waitlist:",e),alert("There was an error submitting your information. Please try again.")}finally{this.isSubmitting=!1}})}static \u0275fac=function(n){return new(n||t)(Te($o),Te(Fi))};static \u0275cmp=Fn({type:t,selectors:[["app-hero"]],decls:28,vars:5,consts:[[1,"hero-container"],["src","nightsky.jpg","alt","Night Sky Background","onerror","console.error('Failed to load nightsky.jpg:', this.src);",1,"background-image"],[1,"overlay"],["src","cloud_png.png","alt","Cloud",1,"cloud","cloud-1"],["src","cloud_png.png","alt","Cloud",1,"cloud","cloud-2"],["src","cloud_png.png","alt","Cloud",1,"cloud","cloud-3"],["src","cloud_png.png","alt","Cloud",1,"cloud","cloud-4"],[1,"content"],["src","dreamseal_logo.png","alt","DreamSeal Logo",1,"logo"],[1,"title"],[1,"subtitle"],[1,"description-container"],[1,"description"],[1,"blue-text"],[1,"error-message"],[1,"input-section"],["type","text","placeholder","Enter your email or phone number",1,"email-input",3,"ngModelChange","input","ngModel","disabled"],[1,"waitlist-btn",3,"click","disabled"],[1,"waitlist-text"]],template:function(n,r){n&1&&(lt(0,"div",0),Ln(1,"img",1)(2,"div",2)(3,"img",3)(4,"img",4)(5,"img",5)(6,"img",6),lt(7,"div",7),Ln(8,"img",8),lt(9,"h1",9),dt(10,"DreamSeal"),bt(),lt(11,"h2",10),dt(12,"A Better way to Sleep"),bt(),lt(13,"div",11)(14,"p",12),dt(15,"Order "),lt(16,"span",13),dt(17,"Hyper-personalized custom fit"),bt(),dt(18," Cpap masks"),bt(),lt(19,"p",12),dt(20,"from the comfort of your phone"),bt()(),Sg(21,bU,2,1,"div",14),lt(22,"div",15)(23,"input",16),Ml("ngModelChange",function(o){return Mg(r.emailOrPhone,o)||(r.emailOrPhone=o),o}),oi("input",function(){return r.clearError()}),bt(),lt(24,"button",17),oi("click",function(){return r.joinWaitlist()}),dt(25),bt()(),lt(26,"p",18),dt(27,"Join the waitlist to be the first to receive the mask with discounted pricing!!"),bt()()()),n&2&&(ti(21),Rg(r.errorMessage?21:-1),ti(2),Nl("ngModel",r.emailOrPhone),Ia("disabled",r.isSubmitting),ti(),Ia("disabled",r.isSubmitting),ti(),Da(" ",r.isSubmitting?"Joining...":"Join the waitlist"," "))},dependencies:[FS,_h,OS,h_,kl],styles:['@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4taVIGxA.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4kaVIGxA.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4saVIGxA.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4jaVIGxA.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4iaVIGxA.woff2) format("woff2");unicode-range:U+0307-0308,U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B5caVIGxA.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B5OaVIGxA.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4vaVIGxA.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4uaVIGxA.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4gaVI.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Sansita Swashed;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sansitaswashed/v23/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW7RpXTIfeymE.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Sansita Swashed;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sansitaswashed/v23/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW7RpXTMfeymE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Sansita Swashed;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sansitaswashed/v23/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW7RpXT0few.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.hero-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;margin:0;padding:0;display:flex;align-items:center;justify-content:center;overflow:hidden}.background-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:0}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0009;z-index:1}.content[_ngcontent-%COMP%]{text-align:center;z-index:10;max-width:600px;padding:2rem}.logo[_ngcontent-%COMP%]{width:150px;height:auto;margin-bottom:-1rem}.blue-text[_ngcontent-%COMP%]{color:#67bed9;text-shadow:0 0 8px rgba(103,190,217,.8)}.title[_ngcontent-%COMP%]{color:#67bed9;font-family:Sansita Swashed,system-ui;font-optical-sizing:auto;font-size:4rem;font-weight:400;font-style:normal;margin:0 0 -.5rem;letter-spacing:.1em}.subtitle[_ngcontent-%COMP%]{color:#fff;font-family:Open Sans,sans-serif;font-optical-sizing:auto;font-size:2rem;font-weight:400;font-style:normal;font-variation-settings:"wdth" 100;opacity:.9}.description[_ngcontent-%COMP%]{color:#fff;font-family:Open Sans,sans-serif;font-size:1.2rem;font-weight:400;font-style:normal;font-variation-settings:"wdth" 100;line-height:1.4}.description-container[_ngcontent-%COMP%]{margin:2rem 0}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;font-family:Open Sans,sans-serif;font-size:1rem;font-weight:400;font-style:normal;margin:.5rem 0;text-align:center;background:#ff6b6b1a;padding:.5rem;border-radius:6px;border:1px solid rgba(255,107,107,.3)}.waitlist-text[_ngcontent-%COMP%]{color:#fff;font-family:Open Sans,sans-serif;font-optical-sizing:auto;font-size:.9rem;font-weight:400;font-style:normal;font-variation-settings:"wdth" 100;margin:1rem 0;line-height:1.5}.input-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;max-width:500px;margin:0 auto}.email-input[_ngcontent-%COMP%]{flex:1;padding:12px 16px;font-family:Open Sans,sans-serif;font-optical-sizing:auto;font-size:1rem;font-weight:400;font-style:normal;font-variation-settings:"wdth" 100;border:none;border-radius:8px;outline:none;background:#fffffff2;color:#333}.email-input[_ngcontent-%COMP%]::placeholder{color:#666}.waitlist-btn[_ngcontent-%COMP%]{padding:12px 24px;font-family:Open Sans,sans-serif;font-optical-sizing:auto;font-size:1rem;font-weight:400;font-style:normal;font-variation-settings:"wdth" 100;background-color:#300030;color:#67bed9;border:none;border-radius:8px;cursor:pointer;transition:transform .2s ease;white-space:nowrap;outline:2px solid #67bed9}.waitlist-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.waitlist-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.waitlist-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.waitlist-btn[_ngcontent-%COMP%]:disabled:hover{transform:none}.email-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.cloud[_ngcontent-%COMP%]{position:absolute;width:220px;height:auto;opacity:.7;z-index:1}.cloud-1[_ngcontent-%COMP%]{top:10%;left:5%;animation:_ngcontent-%COMP%_gentle-float-1 8s ease-in-out infinite}.cloud-2[_ngcontent-%COMP%]{top:15%;right:8%;animation:_ngcontent-%COMP%_gentle-float-2 10s ease-in-out infinite}.cloud-3[_ngcontent-%COMP%]{bottom:15%;left:8%;animation:_ngcontent-%COMP%_gentle-float-3 12s ease-in-out infinite}.cloud-4[_ngcontent-%COMP%]{bottom:10%;right:5%;animation:_ngcontent-%COMP%_gentle-float-4 9s ease-in-out infinite}@keyframes _ngcontent-%COMP%_gentle-float-1{0%,to{transform:translate(0)}25%{transform:translate(10px,-5px)}50%{transform:translate(-8px,8px)}75%{transform:translate(5px,-10px)}}@keyframes _ngcontent-%COMP%_gentle-float-2{0%,to{transform:translate(0)}25%{transform:translate(-7px,10px)}50%{transform:translate(12px,-6px)}75%{transform:translate(-10px,8px)}}@keyframes _ngcontent-%COMP%_gentle-float-3{0%,to{transform:translate(0)}25%{transform:translate(8px,-12px)}50%{transform:translate(-10px,6px)}75%{transform:translate(12px,-8px)}}@keyframes _ngcontent-%COMP%_gentle-float-4{0%,to{transform:translate(0)}25%{transform:translate(-12px,-8px)}50%{transform:translate(6px,10px)}75%{transform:translate(-8px,-6px)}}@media (max-width: 768px){.title[_ngcontent-%COMP%]{font-size:3rem}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem}.description[_ngcontent-%COMP%]{font-size:1rem}.input-section[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.email-input[_ngcontent-%COMP%], .waitlist-btn[_ngcontent-%COMP%]{border-radius:8px;width:100%}.content[_ngcontent-%COMP%]{padding:1rem}.logo[_ngcontent-%COMP%]{width:60px}.cloud[_ngcontent-%COMP%]{width:150px}}']})};var wh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Fn({type:t,selectors:[["app-thank-you"]],decls:15,vars:0,consts:[[1,"thank-you-container"],["src","nightsky.jpg","alt","Night Sky Background","onerror","console.error('Failed to load nightsky.jpg:', this.src);",1,"background-image"],[1,"overlay"],["src","cloud_png.png","alt","Cloud",1,"cloud","cloud-1"],["src","cloud_png.png","alt","Cloud",1,"cloud","cloud-2"],["src","cloud_png.png","alt","Cloud",1,"cloud","cloud-3"],["src","cloud_png.png","alt","Cloud",1,"cloud","cloud-4"],[1,"content"],[1,"message"],[1,"sub-message"],["href","mailto:dreamsealcpap@gmail.com",1,"email-link"]],template:function(n,r){n&1&&(gr(0,"div",0),Al(1,"img",1)(2,"div",2)(3,"img",3)(4,"img",4)(5,"img",5)(6,"img",6),gr(7,"div",7)(8,"h1",8),dt(9,"Thank you for signing up, you will be the first to know when we launch!!"),Ao(),gr(10,"h1",9),dt(11,"Questions, concerns, comments? Contact us at "),gr(12,"a",10)(13,"strong"),dt(14,"dreamsealcpap@gmail.com"),Ao()()()()())},styles:['@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4taVIGxA.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4kaVIGxA.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4saVIGxA.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4jaVIGxA.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4iaVIGxA.woff2) format("woff2");unicode-range:U+0307-0308,U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B5caVIGxA.woff2) format("woff2");unicode-range:U+0302-0303,U+0305,U+0307-0308,U+0310,U+0312,U+0315,U+031A,U+0326-0327,U+032C,U+032F-0330,U+0332-0333,U+0338,U+033A,U+0346,U+034D,U+0391-03A1,U+03A3-03A9,U+03B1-03C9,U+03D1,U+03D5-03D6,U+03F0-03F1,U+03F4-03F5,U+2016-2017,U+2034-2038,U+203C,U+2040,U+2043,U+2047,U+2050,U+2057,U+205F,U+2070-2071,U+2074-208E,U+2090-209C,U+20D0-20DC,U+20E1,U+20E5-20EF,U+2100-2112,U+2114-2115,U+2117-2121,U+2123-214F,U+2190,U+2192,U+2194-21AE,U+21B0-21E5,U+21F1-21F2,U+21F4-2211,U+2213-2214,U+2216-22FF,U+2308-230B,U+2310,U+2319,U+231C-2321,U+2336-237A,U+237C,U+2395,U+239B-23B7,U+23D0,U+23DC-23E1,U+2474-2475,U+25AF,U+25B3,U+25B7,U+25BD,U+25C1,U+25CA,U+25CC,U+25FB,U+266D-266F,U+27C0-27FF,U+2900-2AFF,U+2B0E-2B11,U+2B30-2B4C,U+2BFE,U+3030,U+FF5B,U+FF5D,U+1D400-1D7FF,U+1EE00-1EEFF}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B5OaVIGxA.woff2) format("woff2");unicode-range:U+0001-000C,U+000E-001F,U+007F-009F,U+20DD-20E0,U+20E2-20E4,U+2150-218F,U+2190,U+2192,U+2194-2199,U+21AF,U+21E6-21F0,U+21F3,U+2218-2219,U+2299,U+22C4-22C6,U+2300-243F,U+2440-244A,U+2460-24FF,U+25A0-27BF,U+2800-28FF,U+2921-2922,U+2981,U+29BF,U+29EB,U+2B00-2BFF,U+4DC0-4DFF,U+FFF9-FFFB,U+10140-1018E,U+10190-1019C,U+101A0,U+101D0-101FD,U+102E0-102FB,U+10E60-10E7E,U+1D2C0-1D2D3,U+1D2E0-1D37F,U+1F000-1F0FF,U+1F100-1F1AD,U+1F1E6-1F1FF,U+1F30D-1F30F,U+1F315,U+1F31C,U+1F31E,U+1F320-1F32C,U+1F336,U+1F378,U+1F37D,U+1F382,U+1F393-1F39F,U+1F3A7-1F3A8,U+1F3AC-1F3AF,U+1F3C2,U+1F3C4-1F3C6,U+1F3CA-1F3CE,U+1F3D4-1F3E0,U+1F3ED,U+1F3F1-1F3F3,U+1F3F5-1F3F7,U+1F408,U+1F415,U+1F41F,U+1F426,U+1F43F,U+1F441-1F442,U+1F444,U+1F446-1F449,U+1F44C-1F44E,U+1F453,U+1F46A,U+1F47D,U+1F4A3,U+1F4B0,U+1F4B3,U+1F4B9,U+1F4BB,U+1F4BF,U+1F4C8-1F4CB,U+1F4D6,U+1F4DA,U+1F4DF,U+1F4E3-1F4E6,U+1F4EA-1F4ED,U+1F4F7,U+1F4F9-1F4FB,U+1F4FD-1F4FE,U+1F503,U+1F507-1F50B,U+1F50D,U+1F512-1F513,U+1F53E-1F54A,U+1F54F-1F5FA,U+1F610,U+1F650-1F67F,U+1F687,U+1F68D,U+1F691,U+1F694,U+1F698,U+1F6AD,U+1F6B2,U+1F6B9-1F6BA,U+1F6BC,U+1F6C6-1F6CF,U+1F6D3-1F6D7,U+1F6E0-1F6EA,U+1F6F0-1F6F3,U+1F6F7-1F6FC,U+1F700-1F7FF,U+1F800-1F80B,U+1F810-1F847,U+1F850-1F859,U+1F860-1F887,U+1F890-1F8AD,U+1F8B0-1F8BB,U+1F8C0-1F8C1,U+1F900-1F90B,U+1F93B,U+1F946,U+1F984,U+1F996,U+1F9E9,U+1FA00-1FA6F,U+1FA70-1FA7C,U+1FA80-1FA89,U+1FA8F-1FAC6,U+1FACE-1FADC,U+1FADF-1FAE9,U+1FAF0-1FAF8,U+1FB00-1FBFF}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4vaVIGxA.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4uaVIGxA.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v44/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4gaVI.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Sansita Swashed;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sansitaswashed/v23/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW7RpXTIfeymE.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Sansita Swashed;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sansitaswashed/v23/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW7RpXTMfeymE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Sansita Swashed;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sansitaswashed/v23/BXR8vFfZifTZgFlDDLgNkBydPKTt3pVCeYWqJnZSW7RpXT0few.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.thank-you-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;margin:0;padding:0;display:flex;align-items:center;justify-content:center;overflow:hidden}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0009;z-index:1}.background-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:0}.content[_ngcontent-%COMP%]{text-align:center;z-index:10;max-width:600px;padding:2rem}.message[_ngcontent-%COMP%]{color:#fff;font-family:Open Sans,sans-serif;font-optical-sizing:auto;font-size:2.5rem;font-weight:400;font-style:normal;font-variation-settings:"wdth" 100;margin:0;line-height:1.4;letter-spacing:.05em}.sub-message[_ngcontent-%COMP%]{color:#67bed9;font-family:Open Sans,sans-serif;font-optical-sizing:auto;font-size:1rem;font-weight:400;font-style:normal;font-variation-settings:"wdth" 100;margin-top:.5rem;line-height:1.4;letter-spacing:.05em}.email-link[_ngcontent-%COMP%]{color:inherit;text-decoration:underline;transition:color .3s ease,text-shadow .3s ease}.email-link[_ngcontent-%COMP%]:hover{color:#fff;text-shadow:0 0 8px rgba(103,190,217,.8);text-decoration:underline}.email-link[_ngcontent-%COMP%]:visited{color:inherit}.cloud[_ngcontent-%COMP%]{position:absolute;width:220px;height:auto;opacity:.7;z-index:1}.cloud-1[_ngcontent-%COMP%]{top:10%;left:5%;animation:_ngcontent-%COMP%_gentle-float-1 8s ease-in-out infinite}.cloud-2[_ngcontent-%COMP%]{top:15%;right:8%;animation:_ngcontent-%COMP%_gentle-float-2 10s ease-in-out infinite}.cloud-3[_ngcontent-%COMP%]{bottom:15%;left:8%;animation:_ngcontent-%COMP%_gentle-float-3 12s ease-in-out infinite}.cloud-4[_ngcontent-%COMP%]{bottom:10%;right:5%;animation:_ngcontent-%COMP%_gentle-float-4 9s ease-in-out infinite}@keyframes _ngcontent-%COMP%_gentle-float-1{0%,to{transform:translate(0)}25%{transform:translate(10px,-5px)}50%{transform:translate(-8px,8px)}75%{transform:translate(5px,-10px)}}@keyframes _ngcontent-%COMP%_gentle-float-2{0%,to{transform:translate(0)}25%{transform:translate(-7px,10px)}50%{transform:translate(12px,-6px)}75%{transform:translate(-10px,8px)}}@keyframes _ngcontent-%COMP%_gentle-float-3{0%,to{transform:translate(0)}25%{transform:translate(8px,-12px)}50%{transform:translate(-10px,6px)}75%{transform:translate(12px,-8px)}}@keyframes _ngcontent-%COMP%_gentle-float-4{0%,to{transform:translate(0)}25%{transform:translate(-12px,-8px)}50%{transform:translate(6px,10px)}75%{transform:translate(-8px,-6px)}}@media (max-width: 768px){.message[_ngcontent-%COMP%]{font-size:2rem}.content[_ngcontent-%COMP%]{padding:1rem}.cloud[_ngcontent-%COMP%]{width:150px}}']})};var LS=[{path:"",component:Ih},{path:"thank-you",component:wh},{path:"**",redirectTo:""}];var VS={production:!1,firebaseConfig:{apiKey:"AIzaSyDyslULYzP1gVHknT0fY4AoP_kaLyQM0gk",authDomain:"cpapwebsite.firebaseapp.com",projectId:"cpapwebsite",storageBucket:"cpapwebsite.firebasestorage.app",messagingSenderId:"353137119721",appId:"1:353137119721:web:896b61ac3b1431bb587b78",measurementId:"G-JDXC6M682N"}};var US={providers:[Ip(),xg({eventCoalescing:!0}),wm(LS),kC(()=>FC(VS.firebaseConfig)),fS(()=>mS())]};var Dh=class t{title=Ut("cpapWebsite");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Fn({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&Ln(0,"router-outlet")},dependencies:[Qa],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;margin:0;padding:0}"]})};Jg(Dh,US).catch(t=>console.error(t));
